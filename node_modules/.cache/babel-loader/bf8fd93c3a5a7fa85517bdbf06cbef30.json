{"ast":null,"code":"'use strict';\n\nexports.type = 'visitor';\nexports.name = 'sortAttrs';\nexports.active = false;\nexports.description = 'Sort element attributes for better compression';\n/**\n * Sort element attributes for better compression\n *\n * @author Nikolay Frantsev\n *\n * @type {import('../lib/types').Plugin<{\n *   order?: Array<string>\n *   xmlnsOrder?: 'front' | 'alphabetical'\n * }>}\n */\n\nexports.fn = (_root, params) => {\n  const {\n    order = ['id', 'width', 'height', 'x', 'x1', 'x2', 'y', 'y1', 'y2', 'cx', 'cy', 'r', 'fill', 'stroke', 'marker', 'd', 'points'],\n    xmlnsOrder = 'front'\n  } = params;\n  /**\n   * @type {(name: string) => number}\n   */\n\n  const getNsPriority = name => {\n    if (xmlnsOrder === 'front') {\n      // put xmlns first\n      if (name === 'xmlns') {\n        return 3;\n      } // xmlns:* attributes second\n\n\n      if (name.startsWith('xmlns:')) {\n        return 2;\n      }\n    } // other namespaces after and sort them alphabetically\n\n\n    if (name.includes(':')) {\n      return 1;\n    } // other attributes\n\n\n    return 0;\n  };\n  /**\n   * @type {(a: [string, string], b: [string, string]) => number}\n   */\n\n\n  const compareAttrs = (_ref, _ref2) => {\n    let [aName] = _ref;\n    let [bName] = _ref2;\n    // sort namespaces\n    const aPriority = getNsPriority(aName);\n    const bPriority = getNsPriority(bName);\n    const priorityNs = bPriority - aPriority;\n\n    if (priorityNs !== 0) {\n      return priorityNs;\n    } // extract the first part from attributes\n    // for example \"fill\" from \"fill\" and \"fill-opacity\"\n\n\n    const [aPart] = aName.split('-');\n    const [bPart] = bName.split('-'); // rely on alphabetical sort when the first part is the same\n\n    if (aPart !== bPart) {\n      const aInOrderFlag = order.includes(aPart) ? 1 : 0;\n      const bInOrderFlag = order.includes(bPart) ? 1 : 0; // sort by position in order param\n\n      if (aInOrderFlag === 1 && bInOrderFlag === 1) {\n        return order.indexOf(aPart) - order.indexOf(bPart);\n      } // put attributes from order param before others\n\n\n      const priorityOrder = bInOrderFlag - aInOrderFlag;\n\n      if (priorityOrder !== 0) {\n        return priorityOrder;\n      }\n    } // sort alphabetically\n\n\n    return aName < bName ? -1 : 1;\n  };\n\n  return {\n    element: {\n      enter: node => {\n        const attrs = Object.entries(node.attributes);\n        attrs.sort(compareAttrs);\n        /**\n         * @type {Record<string, string>}\n         */\n\n        const sortedAttributes = {};\n\n        for (const [name, value] of attrs) {\n          sortedAttributes[name] = value;\n        }\n\n        node.attributes = sortedAttributes;\n      }\n    }\n  };\n};","map":{"version":3,"names":["exports","type","name","active","description","fn","_root","params","order","xmlnsOrder","getNsPriority","startsWith","includes","compareAttrs","aName","bName","aPriority","bPriority","priorityNs","aPart","split","bPart","aInOrderFlag","bInOrderFlag","indexOf","priorityOrder","element","enter","node","attrs","Object","entries","attributes","sort","sortedAttributes","value"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/postcss-svgo/node_modules/svgo/plugins/sortAttrs.js"],"sourcesContent":["'use strict';\n\nexports.type = 'visitor';\nexports.name = 'sortAttrs';\nexports.active = false;\nexports.description = 'Sort element attributes for better compression';\n\n/**\n * Sort element attributes for better compression\n *\n * @author Nikolay Frantsev\n *\n * @type {import('../lib/types').Plugin<{\n *   order?: Array<string>\n *   xmlnsOrder?: 'front' | 'alphabetical'\n * }>}\n */\nexports.fn = (_root, params) => {\n  const {\n    order = [\n      'id',\n      'width',\n      'height',\n      'x',\n      'x1',\n      'x2',\n      'y',\n      'y1',\n      'y2',\n      'cx',\n      'cy',\n      'r',\n      'fill',\n      'stroke',\n      'marker',\n      'd',\n      'points',\n    ],\n    xmlnsOrder = 'front',\n  } = params;\n\n  /**\n   * @type {(name: string) => number}\n   */\n  const getNsPriority = (name) => {\n    if (xmlnsOrder === 'front') {\n      // put xmlns first\n      if (name === 'xmlns') {\n        return 3;\n      }\n      // xmlns:* attributes second\n      if (name.startsWith('xmlns:')) {\n        return 2;\n      }\n    }\n    // other namespaces after and sort them alphabetically\n    if (name.includes(':')) {\n      return 1;\n    }\n    // other attributes\n    return 0;\n  };\n\n  /**\n   * @type {(a: [string, string], b: [string, string]) => number}\n   */\n  const compareAttrs = ([aName], [bName]) => {\n    // sort namespaces\n    const aPriority = getNsPriority(aName);\n    const bPriority = getNsPriority(bName);\n    const priorityNs = bPriority - aPriority;\n    if (priorityNs !== 0) {\n      return priorityNs;\n    }\n    // extract the first part from attributes\n    // for example \"fill\" from \"fill\" and \"fill-opacity\"\n    const [aPart] = aName.split('-');\n    const [bPart] = bName.split('-');\n    // rely on alphabetical sort when the first part is the same\n    if (aPart !== bPart) {\n      const aInOrderFlag = order.includes(aPart) ? 1 : 0;\n      const bInOrderFlag = order.includes(bPart) ? 1 : 0;\n      // sort by position in order param\n      if (aInOrderFlag === 1 && bInOrderFlag === 1) {\n        return order.indexOf(aPart) - order.indexOf(bPart);\n      }\n      // put attributes from order param before others\n      const priorityOrder = bInOrderFlag - aInOrderFlag;\n      if (priorityOrder !== 0) {\n        return priorityOrder;\n      }\n    }\n    // sort alphabetically\n    return aName < bName ? -1 : 1;\n  };\n\n  return {\n    element: {\n      enter: (node) => {\n        const attrs = Object.entries(node.attributes);\n        attrs.sort(compareAttrs);\n        /**\n         * @type {Record<string, string>}\n         */\n        const sortedAttributes = {};\n        for (const [name, value] of attrs) {\n          sortedAttributes[name] = value;\n        }\n        node.attributes = sortedAttributes;\n      },\n    },\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}