{"ast":null,"code":"const mongoose = require('mongoose');\n\nconst bcrypt = require('bcryptjs');\n\nconst UserSchema = mongoose.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  },\n  pic: {\n    type: String,\n    required: true,\n    default: \"https://assets.pokemon.com/assets/cms2/img/pokedex/full/001.png\"\n  },\n  roll: {\n    type: String,\n    required: true\n  },\n  branch: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nUserSchema.pre(\"save\", async function (next) {\n  if (!this.isModified('password')) {\n    next();\n  }\n\n  const salt = await bcrypt.genSalt(10);\n  this.password = await bcrypt.hash(this.password, salt);\n});\n\nUserSchema.methods.matchPassword = async function (enteredPassword) {\n  return await bcrypt.compare(enteredPassword, this.password);\n};\n\nconst user = mongoose.model('user', UserSchema);\nmodule.exports = user;","map":{"version":3,"names":["mongoose","require","bcrypt","UserSchema","Schema","name","type","String","required","email","unique","password","isAdmin","Boolean","default","pic","roll","branch","timestamps","pre","next","isModified","salt","genSalt","hash","methods","matchPassword","enteredPassword","compare","user","model","module","exports"],"sources":["C:/Users/Rohith/mern/backend/models/usermodel.js"],"sourcesContent":["const mongoose =require('mongoose');\r\nconst bcrypt=require('bcryptjs');\r\n\r\nconst UserSchema =mongoose.Schema(\r\n    {\r\n        name:{\r\n            type: String,\r\n            required:true\r\n        },\r\n        email:{\r\n            type:String,\r\n            required:true,\r\n            unique:true\r\n        },\r\n        password:{\r\n            type:String,\r\n            required:true,\r\n        },\r\n        isAdmin:{\r\n            type:Boolean,\r\n            required:true,\r\n            default:false,\r\n        },\r\n        pic:{\r\n            type:String,\r\n            required:true,\r\n            default:\r\n                \"https://assets.pokemon.com/assets/cms2/img/pokedex/full/001.png\"\r\n        },\r\n        roll:{\r\n            type:String,\r\n            required:true,\r\n        },\r\n        branch:{\r\n            type:String,\r\n            required:true,\r\n        },\r\n    },\r\n    {\r\n        timestamps:true,\r\n    }\r\n);\r\nUserSchema.pre(\"save\",async function(next){\r\n    if(!this.isModified('password')){\r\n        next();\r\n    }\r\n    const salt = await bcrypt.genSalt(10);\r\n    this.password = await bcrypt.hash(this.password, salt);\r\n});\r\nUserSchema.methods.matchPassword= async function(enteredPassword){\r\n    return await bcrypt.compare(enteredPassword,this.password);\r\n};\r\n\r\nconst user=mongoose.model('user',UserSchema);\r\nmodule.exports=user;"],"mappings":"AAAA,MAAMA,QAAQ,GAAEC,OAAO,CAAC,UAAD,CAAvB;;AACA,MAAMC,MAAM,GAACD,OAAO,CAAC,UAAD,CAApB;;AAEA,MAAME,UAAU,GAAEH,QAAQ,CAACI,MAAT,CACd;EACIC,IAAI,EAAC;IACDC,IAAI,EAAEC,MADL;IAEDC,QAAQ,EAAC;EAFR,CADT;EAKIC,KAAK,EAAC;IACFH,IAAI,EAACC,MADH;IAEFC,QAAQ,EAAC,IAFP;IAGFE,MAAM,EAAC;EAHL,CALV;EAUIC,QAAQ,EAAC;IACLL,IAAI,EAACC,MADA;IAELC,QAAQ,EAAC;EAFJ,CAVb;EAcII,OAAO,EAAC;IACJN,IAAI,EAACO,OADD;IAEJL,QAAQ,EAAC,IAFL;IAGJM,OAAO,EAAC;EAHJ,CAdZ;EAmBIC,GAAG,EAAC;IACAT,IAAI,EAACC,MADL;IAEAC,QAAQ,EAAC,IAFT;IAGAM,OAAO,EACH;EAJJ,CAnBR;EAyBIE,IAAI,EAAC;IACDV,IAAI,EAACC,MADJ;IAEDC,QAAQ,EAAC;EAFR,CAzBT;EA6BIS,MAAM,EAAC;IACHX,IAAI,EAACC,MADF;IAEHC,QAAQ,EAAC;EAFN;AA7BX,CADc,EAmCd;EACIU,UAAU,EAAC;AADf,CAnCc,CAAlB;AAuCAf,UAAU,CAACgB,GAAX,CAAe,MAAf,EAAsB,gBAAeC,IAAf,EAAoB;EACtC,IAAG,CAAC,KAAKC,UAAL,CAAgB,UAAhB,CAAJ,EAAgC;IAC5BD,IAAI;EACP;;EACD,MAAME,IAAI,GAAG,MAAMpB,MAAM,CAACqB,OAAP,CAAe,EAAf,CAAnB;EACA,KAAKZ,QAAL,GAAgB,MAAMT,MAAM,CAACsB,IAAP,CAAY,KAAKb,QAAjB,EAA2BW,IAA3B,CAAtB;AACH,CAND;;AAOAnB,UAAU,CAACsB,OAAX,CAAmBC,aAAnB,GAAkC,gBAAeC,eAAf,EAA+B;EAC7D,OAAO,MAAMzB,MAAM,CAAC0B,OAAP,CAAeD,eAAf,EAA+B,KAAKhB,QAApC,CAAb;AACH,CAFD;;AAIA,MAAMkB,IAAI,GAAC7B,QAAQ,CAAC8B,KAAT,CAAe,MAAf,EAAsB3B,UAAtB,CAAX;AACA4B,MAAM,CAACC,OAAP,GAAeH,IAAf"},"metadata":{},"sourceType":"script"}