{"ast":null,"code":"/*\n * Jake JavaScript build tool\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\nconst PROJECT_DIR = process.env.PROJECT_DIR;\nconst JAKE_CMD = `${PROJECT_DIR}/bin/cli.js`;\n\nlet assert = require('assert');\n\nlet exec = require('child_process').execSync;\n\nlet fs = require('fs');\n\nlet {\n  Rule\n} = require(`${PROJECT_DIR}/lib/rule`);\n\nlet {\n  rmRf\n} = require(`${PROJECT_DIR}/lib/jake`);\n\nlet cleanUpAndNext = function (callback) {\n  // Gotta add globbing to file utils rmRf\n  let tmpFiles = ['tmp', 'tmp_ns', 'tmp_cr', 'tmp_p', 'tmp_pf', 'tmpbin', 'tmpsrc', 'tmp_dep1.c', 'tmp_dep1.o', 'tmp_dep1.oo', 'tmp_dep2.c', 'tmp_dep2.o', 'tmp_dep2.oo', 'foo', 'foo.html'];\n  tmpFiles.forEach(function (f) {\n    rmRf(f, {\n      silent: true\n    });\n  });\n  callback && callback();\n};\n\nsuite('rule', function () {\n  this.timeout(7000);\n  setup(function (next) {\n    cleanUpAndNext(next);\n  }); //  - name   foo:bin/main.o\n  //  - pattern    bin/%.o\n  //  - source    src/%.c\n  //\n  // return {\n  //    'dep' : 'foo:src/main.c',\n  //    'file': 'src/main.c'\n  //  };\n\n  test('Rule.getSource', function () {\n    let src = Rule.getSource('foo:bin/main.o', 'bin/%.o', 'src/%.c');\n    assert.equal('foo:src/main.c', src);\n  });\n  test('rule w/o pattern', function () {\n    let out = exec(`${JAKE_CMD} -q  tmp`).toString().trim();\n    let output = [\"tmp_dep2.c task\", \"tmp_dep1.c task\", \"cp tmp_dep1.c tmp_dep1.o task\", \"cp tmp_dep2.c tmp_dep2.o task\", \"tmp task\"];\n    assert.equal(output.join('\\n'), out);\n    let data = fs.readFileSync(process.cwd() + '/tmp');\n    assert.equal('src_1src_2', data.toString());\n    cleanUpAndNext();\n  });\n  test('rule w pattern w/o folder w/o namespace', function () {\n    let out = exec(`${JAKE_CMD}  -q  tmp_p`).toString().trim();\n    let output = [\"tmp_dep2.c task\", \"tmp_dep1.c task\", \"cp tmp_dep1.c tmp_dep1.oo task\", \"cp tmp_dep2.c tmp_dep2.oo task\", \"tmp pattern task\"];\n    let data;\n    assert.equal(output.join('\\n'), out);\n    data = fs.readFileSync(process.cwd() + '/tmp_p');\n    assert.equal('src_1src_2 pattern', data.toString());\n    cleanUpAndNext();\n  });\n  test('rule w pattern w folder w/o namespace', function () {\n    let out = exec(`${JAKE_CMD}  -q  tmp_pf`).toString().trim();\n    let output = [\"tmpsrc/tmp_dep1.c task\", \"cp tmpsrc/tmp_dep1.c tmpbin/tmp_dep1.oo task\", \"tmpsrc/tmp_dep2.c task\", \"cp tmpsrc/tmp_dep2.c tmpbin/tmp_dep2.oo task\", \"tmp pattern folder task\"];\n    let data;\n    assert.equal(output.join('\\n'), out);\n    data = fs.readFileSync(process.cwd() + '/tmp_pf');\n    assert.equal('src/src_1src/src_2 pattern folder', data.toString());\n    cleanUpAndNext();\n  });\n  test.skip('rule w pattern w folder w namespace', function () {\n    let out = exec(`${JAKE_CMD} -q   tmp_ns`).toString().trim();\n    let output = [\"tmpsrc/file2.c init task\" // yes\n    , \"tmpsrc/tmp_dep2.c task\" // no\n    , \"cp tmpsrc/tmp_dep2.c tmpbin/tmp_dep2.oo task\" // no\n    , \"tmpsrc/dep1.c task\" // no\n    , \"cp tmpsrc/dep1.c tmpbin/dep1.oo ns task\" // no\n    , \"cp tmpsrc/file2.c tmpbin/file2.oo ns task\" // yes\n    , \"tmp pattern folder namespace task\"]; // yes\n\n    let data;\n    assert.equal(output.join('\\n'), out);\n    data = fs.readFileSync(process.cwd() + '/tmp_ns');\n    assert.equal('src/src_1src/src_2src/src_3 pattern folder namespace', data.toString());\n    cleanUpAndNext();\n  });\n  test.skip('rule w chain w pattern w folder w namespace', function () {\n    let out = exec(`${JAKE_CMD} -q tmp_cr`).toString().trim();\n    let output = [\"chainrule init task\", \"cp tmpsrc/file1.tex tmpbin/file1.dvi tex->dvi task\", \"cp tmpbin/file1.dvi tmpbin/file1.pdf dvi->pdf task\", \"cp tmpsrc/file2.tex tmpbin/file2.dvi tex->dvi task\", \"cp tmpbin/file2.dvi tmpbin/file2.pdf dvi->pdf task\", \"tmp chainrule namespace task\"];\n    let data;\n    assert.equal(output.join('\\n'), out);\n    data = fs.readFileSync(process.cwd() + '/tmp_cr');\n    assert.equal('tex1 tex2  chainrule namespace', data.toString());\n    cleanUpAndNext();\n  });\n  ['precedence', 'regexPattern', 'sourceFunction'].forEach(function (key) {\n    test('rule with source file not created yet (' + key + ')', function () {\n      let write = process.stderr.write;\n\n      process.stderr.write = () => {};\n\n      rmRf('foo.txt', {\n        silent: true\n      });\n      rmRf('foo.html', {\n        silent: true\n      });\n\n      try {\n        exec(`${JAKE_CMD}  ` + key + ':test');\n      } catch (err) {\n        // foo.txt prereq doesn't exist yet\n        assert.ok(err.message.indexOf('Unknown task \"foo.html\"') > -1);\n      }\n\n      process.stderr.write = write;\n    });\n    test('rule with source file now created (' + key + ')', function () {\n      fs.writeFileSync('foo.txt', '');\n      let out = exec(`${JAKE_CMD} -q  ` + key + ':test').toString().trim(); // Should run prereq and test task\n\n      let output = ['created html', 'ran test'];\n      assert.equal(output.join('\\n'), out);\n    });\n    test('rule with source file modified (' + key + ')', function (next) {\n      setTimeout(function () {\n        fs.writeFileSync('foo.txt', '');\n        let out = exec(`${JAKE_CMD} -q  ` + key + ':test').toString().trim(); // Should again run both prereq and test task\n\n        let output = ['created html', 'ran test'];\n        assert.equal(output.join('\\n'), out); //next();\n\n        cleanUpAndNext(next);\n      }, 1000); // Wait to do the touch to ensure mod-time is different\n    });\n    test('rule with existing objective file and no source ' + ' (should be normal file-task) (' + key + ')', function () {\n      // Remove just the source file\n      fs.writeFileSync('foo.html', '');\n      rmRf('foo.txt', {\n        silent: true\n      });\n      let out = exec(`${JAKE_CMD} -q  ` + key + ':test').toString().trim(); // Should treat existing objective file as plain file-task,\n      // and just run test-task\n\n      let output = ['ran test'];\n      assert.equal(output.join('\\n'), out);\n      cleanUpAndNext();\n    });\n  });\n});","map":{"version":3,"names":["PROJECT_DIR","process","env","JAKE_CMD","assert","require","exec","execSync","fs","Rule","rmRf","cleanUpAndNext","callback","tmpFiles","forEach","f","silent","suite","timeout","setup","next","test","src","getSource","equal","out","toString","trim","output","join","data","readFileSync","cwd","skip","key","write","stderr","err","ok","message","indexOf","writeFileSync","setTimeout"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/jake/test/integration/rule.js"],"sourcesContent":["/*\n * Jake JavaScript build tool\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\nconst PROJECT_DIR = process.env.PROJECT_DIR;\nconst JAKE_CMD = `${PROJECT_DIR}/bin/cli.js`;\n\nlet assert = require('assert');\nlet exec = require('child_process').execSync;\nlet fs = require('fs');\nlet { Rule } = require(`${PROJECT_DIR}/lib/rule`);\nlet { rmRf } = require(`${PROJECT_DIR}/lib/jake`);\n\nlet cleanUpAndNext = function (callback) {\n  // Gotta add globbing to file utils rmRf\n  let tmpFiles = [\n    'tmp'\n    , 'tmp_ns'\n    , 'tmp_cr'\n    , 'tmp_p'\n    , 'tmp_pf'\n    , 'tmpbin'\n    , 'tmpsrc'\n    , 'tmp_dep1.c'\n    , 'tmp_dep1.o'\n    , 'tmp_dep1.oo'\n    , 'tmp_dep2.c'\n    , 'tmp_dep2.o'\n    , 'tmp_dep2.oo'\n    , 'foo'\n    , 'foo.html'\n  ];\n  tmpFiles.forEach(function (f) {\n    rmRf(f, {\n      silent: true\n    });\n  });\n  callback && callback();\n};\n\nsuite('rule', function () {\n\n  this.timeout(7000);\n\n  setup(function (next) {\n    cleanUpAndNext(next);\n  });\n\n\n  //  - name   foo:bin/main.o\n  //  - pattern    bin/%.o\n  //  - source    src/%.c\n  //\n  // return {\n  //    'dep' : 'foo:src/main.c',\n  //    'file': 'src/main.c'\n  //  };\n  test('Rule.getSource', function () {\n    let src = Rule.getSource('foo:bin/main.o', 'bin/%.o', 'src/%.c');\n    assert.equal('foo:src/main.c', src);\n  });\n\n  test('rule w/o pattern', function () {\n    let out = exec( `${JAKE_CMD} -q  tmp`).toString().trim();\n    let output = [\n      \"tmp_dep2.c task\"\n      , \"tmp_dep1.c task\"\n      , \"cp tmp_dep1.c tmp_dep1.o task\"\n      , \"cp tmp_dep2.c tmp_dep2.o task\"\n      , \"tmp task\"];\n    assert.equal( output.join('\\n'), out);\n    let data = fs.readFileSync(process.cwd() + '/tmp');\n    assert.equal('src_1src_2', data.toString());\n    cleanUpAndNext();\n  });\n\n  test('rule w pattern w/o folder w/o namespace', function () {\n    let out = exec( `${JAKE_CMD}  -q  tmp_p`).toString().trim();\n    let output = [\n      \"tmp_dep2.c task\"\n      , \"tmp_dep1.c task\"\n      , \"cp tmp_dep1.c tmp_dep1.oo task\"\n      , \"cp tmp_dep2.c tmp_dep2.oo task\"\n      , \"tmp pattern task\"];\n    let data;\n    assert.equal( output.join('\\n'), out);\n    data = fs.readFileSync(process.cwd() + '/tmp_p');\n    assert.equal('src_1src_2 pattern', data.toString());\n    cleanUpAndNext();\n  });\n\n  test('rule w pattern w folder w/o namespace', function () {\n    let out = exec( `${JAKE_CMD}  -q  tmp_pf`).toString().trim();\n    let output = [\n      \"tmpsrc/tmp_dep1.c task\"\n      , \"cp tmpsrc/tmp_dep1.c tmpbin/tmp_dep1.oo task\"\n      , \"tmpsrc/tmp_dep2.c task\"\n      , \"cp tmpsrc/tmp_dep2.c tmpbin/tmp_dep2.oo task\"\n      , \"tmp pattern folder task\"];\n    let data;\n    assert.equal( output.join('\\n'), out);\n    data = fs.readFileSync(process.cwd() + '/tmp_pf');\n    assert.equal('src/src_1src/src_2 pattern folder', data.toString());\n    cleanUpAndNext();\n  });\n\n  test.skip('rule w pattern w folder w namespace', function () {\n    let out = exec( `${JAKE_CMD} -q   tmp_ns`).toString().trim();\n    let output = [\n      \"tmpsrc/file2.c init task\" // yes\n      , \"tmpsrc/tmp_dep2.c task\" // no\n      , \"cp tmpsrc/tmp_dep2.c tmpbin/tmp_dep2.oo task\" // no\n      , \"tmpsrc/dep1.c task\" // no\n      , \"cp tmpsrc/dep1.c tmpbin/dep1.oo ns task\" // no\n      , \"cp tmpsrc/file2.c tmpbin/file2.oo ns task\" // yes\n      , \"tmp pattern folder namespace task\"]; // yes\n    let data;\n    assert.equal( output.join('\\n'), out);\n    data = fs.readFileSync(process.cwd() + '/tmp_ns');\n    assert.equal('src/src_1src/src_2src/src_3 pattern folder namespace', data.toString());\n    cleanUpAndNext();\n  });\n\n  test.skip('rule w chain w pattern w folder w namespace', function () {\n    let out = exec( `${JAKE_CMD} -q tmp_cr`).toString().trim();\n    let output = [\n      \"chainrule init task\"\n      , \"cp tmpsrc/file1.tex tmpbin/file1.dvi tex->dvi task\"\n      , \"cp tmpbin/file1.dvi tmpbin/file1.pdf dvi->pdf task\"\n      , \"cp tmpsrc/file2.tex tmpbin/file2.dvi tex->dvi task\"\n      , \"cp tmpbin/file2.dvi tmpbin/file2.pdf dvi->pdf task\"\n      , \"tmp chainrule namespace task\"];\n    let data;\n    assert.equal( output.join('\\n'), out);\n    data = fs.readFileSync(process.cwd() + '/tmp_cr');\n    assert.equal('tex1 tex2  chainrule namespace', data.toString());\n    cleanUpAndNext();\n  });\n\n\n  ['precedence', 'regexPattern', 'sourceFunction'].forEach(function (key) {\n\n    test('rule with source file not created yet (' + key  + ')', function () {\n      let write = process.stderr.write;\n      process.stderr.write = () => {};\n      rmRf('foo.txt', {silent: true});\n      rmRf('foo.html', {silent: true});\n      try {\n        exec(`${JAKE_CMD}  ` + key + ':test');\n      }\n      catch(err) {\n        // foo.txt prereq doesn't exist yet\n        assert.ok(err.message.indexOf('Unknown task \"foo.html\"') > -1);\n      }\n      process.stderr.write = write;\n    });\n\n    test('rule with source file now created (' + key  + ')', function () {\n      fs.writeFileSync('foo.txt', '');\n      let out = exec(`${JAKE_CMD} -q  ` + key + ':test').toString().trim();\n      // Should run prereq and test task\n      let output = [\n        'created html'\n        , 'ran test'\n      ];\n      assert.equal(output.join('\\n'), out);\n    });\n\n    test('rule with source file modified (' + key  + ')', function (next) {\n      setTimeout(function () {\n        fs.writeFileSync('foo.txt', '');\n        let out = exec(`${JAKE_CMD} -q  ` + key + ':test').toString().trim();\n        // Should again run both prereq and test task\n        let output = [\n          'created html'\n          , 'ran test'\n        ];\n        assert.equal(output.join('\\n'), out);\n        //next();\n        cleanUpAndNext(next);\n      }, 1000); // Wait to do the touch to ensure mod-time is different\n    });\n\n    test('rule with existing objective file and no source ' +\n        ' (should be normal file-task) (' + key  + ')', function () {\n      // Remove just the source file\n      fs.writeFileSync('foo.html', '');\n      rmRf('foo.txt', {silent: true});\n      let out = exec(`${JAKE_CMD} -q  ` + key + ':test').toString().trim();\n      // Should treat existing objective file as plain file-task,\n      // and just run test-task\n      let output = [\n        'ran test'\n      ];\n      assert.equal(output.join('\\n'), out);\n      cleanUpAndNext();\n    });\n\n  });\n\n});\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}