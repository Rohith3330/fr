{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getParserServices = void 0;\nconst ERROR_MESSAGE = 'You have used a rule which requires parserServices to be generated. You must therefore provide a value for the \"parserOptions.project\" property for @typescript-eslint/parser.';\n/**\n * Try to retrieve typescript parser service from context\n */\n\nfunction getParserServices(context) {\n  let allowWithoutFullTypeInformation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var _a, _b; // backwards compatibility check\n  // old versions of the parser would not return any parserServices unless parserOptions.project was set\n\n\n  if (!((_a = context.parserServices) === null || _a === void 0 ? void 0 : _a.program) || !context.parserServices.esTreeNodeToTSNodeMap || !context.parserServices.tsNodeToESTreeNodeMap) {\n    throw new Error(ERROR_MESSAGE);\n  }\n\n  const hasFullTypeInformation = (_b = context.parserServices.hasFullTypeInformation) !== null && _b !== void 0 ? _b :\n  /* backwards compatible */\n  true; // if a rule requires full type information, then hard fail if it doesn't exist\n  // this forces the user to supply parserOptions.project\n\n  if (!hasFullTypeInformation && !allowWithoutFullTypeInformation) {\n    throw new Error(ERROR_MESSAGE);\n  }\n\n  return context.parserServices;\n}\n\nexports.getParserServices = getParserServices;","map":{"version":3,"mappings":";;;;;;AAGA,MAAMA,aAAa,GACjB,gLADF;AAGA;;;;AAGA,SAASC,iBAAT,CAIEC,OAJF,EAKyC;EAAA,IAAvCC,+BAAuC,uEAAL,KAAK;;aAAA,CAEvC;EACA;;;EACA,IACE,EAAC,aAAO,CAACC,cAAR,MAAsB,IAAtB,IAAsBC,aAAtB,GAAsB,MAAtB,GAAsBA,GAAEC,OAAzB,KACA,CAACJ,OAAO,CAACE,cAAR,CAAuBG,qBADxB,IAEA,CAACL,OAAO,CAACE,cAAR,CAAuBI,qBAH1B,EAIE;IACA,MAAM,IAAIC,KAAJ,CAAUT,aAAV,CAAN;EACD;;EAED,MAAMU,sBAAsB,GAC1B,aAAO,CAACN,cAAR,CAAuBM,sBAAvB,MAA6C,IAA7C,IAA6CC,aAA7C,GAA6CA,EAA7C;EACA;EAA2B,IAF7B,CAZuC,CAgBvC;EACA;;EACA,IAAI,CAACD,sBAAD,IAA2B,CAACP,+BAAhC,EAAiE;IAC/D,MAAM,IAAIM,KAAJ,CAAUT,aAAV,CAAN;EACD;;EAED,OAAOE,OAAO,CAACE,cAAf;AACD;;AAEQQ","names":["ERROR_MESSAGE","getParserServices","context","allowWithoutFullTypeInformation","parserServices","_a","program","esTreeNodeToTSNodeMap","tsNodeToESTreeNodeMap","Error","hasFullTypeInformation","_b","exports"],"sources":["../../src/eslint-utils/getParserServices.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}