{"ast":null,"code":"/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar chalk = require('chalk');\n\nvar execSync = require('child_process').execSync;\n\nvar execFileSync = require('child_process').execFileSync;\n\nvar path = require('path');\n\nvar execOptions = {\n  encoding: 'utf8',\n  stdio: ['pipe', // stdin (default)\n  'pipe', // stdout (default)\n  'ignore' //stderr\n  ]\n};\n\nfunction isProcessAReactApp(processCommand) {\n  return /^node .*react-scripts\\/scripts\\/start\\.js\\s?$/.test(processCommand);\n}\n\nfunction getProcessIdOnPort(port) {\n  return execFileSync('lsof', ['-i:' + port, '-P', '-t', '-sTCP:LISTEN'], execOptions).split('\\n')[0].trim();\n}\n\nfunction getPackageNameInDirectory(directory) {\n  var packagePath = path.join(directory.trim(), 'package.json');\n\n  try {\n    return require(packagePath).name;\n  } catch (e) {\n    return null;\n  }\n}\n\nfunction getProcessCommand(processId, processDirectory) {\n  var command = execSync('ps -o command -p ' + processId + ' | sed -n 2p', execOptions);\n  command = command.replace(/\\n$/, '');\n\n  if (isProcessAReactApp(command)) {\n    const packageName = getPackageNameInDirectory(processDirectory);\n    return packageName ? packageName : command;\n  } else {\n    return command;\n  }\n}\n\nfunction getDirectoryOfProcessById(processId) {\n  return execSync('lsof -p ' + processId + ' | awk \\'$4==\"cwd\" {for (i=9; i<=NF; i++) printf \"%s \", $i}\\'', execOptions).trim();\n}\n\nfunction getProcessForPort(port) {\n  try {\n    var processId = getProcessIdOnPort(port);\n    var directory = getDirectoryOfProcessById(processId);\n    var command = getProcessCommand(processId, directory);\n    return chalk.cyan(command) + chalk.grey(' (pid ' + processId + ')\\n') + chalk.blue('  in ') + chalk.cyan(directory);\n  } catch (e) {\n    return null;\n  }\n}\n\nmodule.exports = getProcessForPort;","map":{"version":3,"names":["chalk","require","execSync","execFileSync","path","execOptions","encoding","stdio","isProcessAReactApp","processCommand","test","getProcessIdOnPort","port","split","trim","getPackageNameInDirectory","directory","packagePath","join","name","e","getProcessCommand","processId","processDirectory","command","replace","packageName","getDirectoryOfProcessById","getProcessForPort","cyan","grey","blue","module","exports"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/react-dev-utils/getProcessForPort.js"],"sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar chalk = require('chalk');\nvar execSync = require('child_process').execSync;\nvar execFileSync = require('child_process').execFileSync;\nvar path = require('path');\n\nvar execOptions = {\n  encoding: 'utf8',\n  stdio: [\n    'pipe', // stdin (default)\n    'pipe', // stdout (default)\n    'ignore', //stderr\n  ],\n};\n\nfunction isProcessAReactApp(processCommand) {\n  return /^node .*react-scripts\\/scripts\\/start\\.js\\s?$/.test(processCommand);\n}\n\nfunction getProcessIdOnPort(port) {\n  return execFileSync('lsof', ['-i:' + port, '-P', '-t', '-sTCP:LISTEN'], execOptions)\n    .split('\\n')[0]\n    .trim();\n}\n\nfunction getPackageNameInDirectory(directory) {\n  var packagePath = path.join(directory.trim(), 'package.json');\n\n  try {\n    return require(packagePath).name;\n  } catch (e) {\n    return null;\n  }\n}\n\nfunction getProcessCommand(processId, processDirectory) {\n  var command = execSync(\n    'ps -o command -p ' + processId + ' | sed -n 2p',\n    execOptions\n  );\n\n  command = command.replace(/\\n$/, '');\n\n  if (isProcessAReactApp(command)) {\n    const packageName = getPackageNameInDirectory(processDirectory);\n    return packageName ? packageName : command;\n  } else {\n    return command;\n  }\n}\n\nfunction getDirectoryOfProcessById(processId) {\n  return execSync(\n    'lsof -p ' +\n      processId +\n      ' | awk \\'$4==\"cwd\" {for (i=9; i<=NF; i++) printf \"%s \", $i}\\'',\n    execOptions\n  ).trim();\n}\n\nfunction getProcessForPort(port) {\n  try {\n    var processId = getProcessIdOnPort(port);\n    var directory = getDirectoryOfProcessById(processId);\n    var command = getProcessCommand(processId, directory);\n    return (\n      chalk.cyan(command) +\n      chalk.grey(' (pid ' + processId + ')\\n') +\n      chalk.blue('  in ') +\n      chalk.cyan(directory)\n    );\n  } catch (e) {\n    return null;\n  }\n}\n\nmodule.exports = getProcessForPort;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,IAAIA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB;;AACA,IAAIC,QAAQ,GAAGD,OAAO,CAAC,eAAD,CAAP,CAAyBC,QAAxC;;AACA,IAAIC,YAAY,GAAGF,OAAO,CAAC,eAAD,CAAP,CAAyBE,YAA5C;;AACA,IAAIC,IAAI,GAAGH,OAAO,CAAC,MAAD,CAAlB;;AAEA,IAAII,WAAW,GAAG;EAChBC,QAAQ,EAAE,MADM;EAEhBC,KAAK,EAAE,CACL,MADK,EACG;EACR,MAFK,EAEG;EACR,QAHK,CAGK;EAHL;AAFS,CAAlB;;AASA,SAASC,kBAAT,CAA4BC,cAA5B,EAA4C;EAC1C,OAAO,gDAAgDC,IAAhD,CAAqDD,cAArD,CAAP;AACD;;AAED,SAASE,kBAAT,CAA4BC,IAA5B,EAAkC;EAChC,OAAOT,YAAY,CAAC,MAAD,EAAS,CAAC,QAAQS,IAAT,EAAe,IAAf,EAAqB,IAArB,EAA2B,cAA3B,CAAT,EAAqDP,WAArD,CAAZ,CACJQ,KADI,CACE,IADF,EACQ,CADR,EAEJC,IAFI,EAAP;AAGD;;AAED,SAASC,yBAAT,CAAmCC,SAAnC,EAA8C;EAC5C,IAAIC,WAAW,GAAGb,IAAI,CAACc,IAAL,CAAUF,SAAS,CAACF,IAAV,EAAV,EAA4B,cAA5B,CAAlB;;EAEA,IAAI;IACF,OAAOb,OAAO,CAACgB,WAAD,CAAP,CAAqBE,IAA5B;EACD,CAFD,CAEE,OAAOC,CAAP,EAAU;IACV,OAAO,IAAP;EACD;AACF;;AAED,SAASC,iBAAT,CAA2BC,SAA3B,EAAsCC,gBAAtC,EAAwD;EACtD,IAAIC,OAAO,GAAGtB,QAAQ,CACpB,sBAAsBoB,SAAtB,GAAkC,cADd,EAEpBjB,WAFoB,CAAtB;EAKAmB,OAAO,GAAGA,OAAO,CAACC,OAAR,CAAgB,KAAhB,EAAuB,EAAvB,CAAV;;EAEA,IAAIjB,kBAAkB,CAACgB,OAAD,CAAtB,EAAiC;IAC/B,MAAME,WAAW,GAAGX,yBAAyB,CAACQ,gBAAD,CAA7C;IACA,OAAOG,WAAW,GAAGA,WAAH,GAAiBF,OAAnC;EACD,CAHD,MAGO;IACL,OAAOA,OAAP;EACD;AACF;;AAED,SAASG,yBAAT,CAAmCL,SAAnC,EAA8C;EAC5C,OAAOpB,QAAQ,CACb,aACEoB,SADF,GAEE,+DAHW,EAIbjB,WAJa,CAAR,CAKLS,IALK,EAAP;AAMD;;AAED,SAASc,iBAAT,CAA2BhB,IAA3B,EAAiC;EAC/B,IAAI;IACF,IAAIU,SAAS,GAAGX,kBAAkB,CAACC,IAAD,CAAlC;IACA,IAAII,SAAS,GAAGW,yBAAyB,CAACL,SAAD,CAAzC;IACA,IAAIE,OAAO,GAAGH,iBAAiB,CAACC,SAAD,EAAYN,SAAZ,CAA/B;IACA,OACEhB,KAAK,CAAC6B,IAAN,CAAWL,OAAX,IACAxB,KAAK,CAAC8B,IAAN,CAAW,WAAWR,SAAX,GAAuB,KAAlC,CADA,GAEAtB,KAAK,CAAC+B,IAAN,CAAW,OAAX,CAFA,GAGA/B,KAAK,CAAC6B,IAAN,CAAWb,SAAX,CAJF;EAMD,CAVD,CAUE,OAAOI,CAAP,EAAU;IACV,OAAO,IAAP;EACD;AACF;;AAEDY,MAAM,CAACC,OAAP,GAAiBL,iBAAjB"},"metadata":{},"sourceType":"script"}