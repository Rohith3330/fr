{"ast":null,"code":"var extractImportUrlAndMedia = require('./extract-import-url-and-media');\n\nvar restoreImport = require('./restore-import');\n\nvar rewriteUrl = require('./rewrite-url');\n\nvar Token = require('../tokenizer/token');\n\nvar isImport = require('../utils/is-import');\n\nvar SOURCE_MAP_COMMENT_PATTERN = /^\\/\\*# sourceMappingURL=(\\S+) \\*\\/$/;\n\nfunction rebase(tokens, rebaseAll, validator, rebaseConfig) {\n  return rebaseAll ? rebaseEverything(tokens, validator, rebaseConfig) : rebaseAtRules(tokens, validator, rebaseConfig);\n}\n\nfunction rebaseEverything(tokens, validator, rebaseConfig) {\n  var token;\n  var i, l;\n\n  for (i = 0, l = tokens.length; i < l; i++) {\n    token = tokens[i];\n\n    switch (token[0]) {\n      case Token.AT_RULE:\n        rebaseAtRule(token, validator, rebaseConfig);\n        break;\n\n      case Token.AT_RULE_BLOCK:\n        rebaseProperties(token[2], validator, rebaseConfig);\n        break;\n\n      case Token.COMMENT:\n        rebaseSourceMapComment(token, rebaseConfig);\n        break;\n\n      case Token.NESTED_BLOCK:\n        rebaseEverything(token[2], validator, rebaseConfig);\n        break;\n\n      case Token.RULE:\n        rebaseProperties(token[2], validator, rebaseConfig);\n        break;\n    }\n  }\n\n  return tokens;\n}\n\nfunction rebaseAtRules(tokens, validator, rebaseConfig) {\n  var token;\n  var i, l;\n\n  for (i = 0, l = tokens.length; i < l; i++) {\n    token = tokens[i];\n\n    switch (token[0]) {\n      case Token.AT_RULE:\n        rebaseAtRule(token, validator, rebaseConfig);\n        break;\n    }\n  }\n\n  return tokens;\n}\n\nfunction rebaseAtRule(token, validator, rebaseConfig) {\n  if (!isImport(token[1])) {\n    return;\n  }\n\n  var uriAndMediaQuery = extractImportUrlAndMedia(token[1]);\n  var newUrl = rewriteUrl(uriAndMediaQuery[0], rebaseConfig);\n  var mediaQuery = uriAndMediaQuery[1];\n  token[1] = restoreImport(newUrl, mediaQuery);\n}\n\nfunction rebaseSourceMapComment(token, rebaseConfig) {\n  var matches = SOURCE_MAP_COMMENT_PATTERN.exec(token[1]);\n\n  if (matches && matches[1].indexOf('data:') === -1) {\n    token[1] = token[1].replace(matches[1], rewriteUrl(matches[1], rebaseConfig, true));\n  }\n}\n\nfunction rebaseProperties(properties, validator, rebaseConfig) {\n  var property;\n  var value;\n  var i, l;\n  var j, m;\n\n  for (i = 0, l = properties.length; i < l; i++) {\n    property = properties[i];\n\n    for (j = 2\n    /* 0 is Token.PROPERTY, 1 is name */\n    , m = property.length; j < m; j++) {\n      value = property[j][1];\n\n      if (validator.isUrl(value)) {\n        property[j][1] = rewriteUrl(value, rebaseConfig);\n      }\n    }\n  }\n}\n\nmodule.exports = rebase;","map":{"version":3,"names":["extractImportUrlAndMedia","require","restoreImport","rewriteUrl","Token","isImport","SOURCE_MAP_COMMENT_PATTERN","rebase","tokens","rebaseAll","validator","rebaseConfig","rebaseEverything","rebaseAtRules","token","i","l","length","AT_RULE","rebaseAtRule","AT_RULE_BLOCK","rebaseProperties","COMMENT","rebaseSourceMapComment","NESTED_BLOCK","RULE","uriAndMediaQuery","newUrl","mediaQuery","matches","exec","indexOf","replace","properties","property","value","j","m","isUrl","module","exports"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/clean-css/lib/reader/rebase.js"],"sourcesContent":["var extractImportUrlAndMedia = require('./extract-import-url-and-media');\nvar restoreImport = require('./restore-import');\nvar rewriteUrl = require('./rewrite-url');\n\nvar Token = require('../tokenizer/token');\nvar isImport = require('../utils/is-import');\n\nvar SOURCE_MAP_COMMENT_PATTERN = /^\\/\\*# sourceMappingURL=(\\S+) \\*\\/$/;\n\nfunction rebase(tokens, rebaseAll, validator, rebaseConfig) {\n  return rebaseAll\n    ? rebaseEverything(tokens, validator, rebaseConfig)\n    : rebaseAtRules(tokens, validator, rebaseConfig);\n}\n\nfunction rebaseEverything(tokens, validator, rebaseConfig) {\n  var token;\n  var i, l;\n\n  for (i = 0, l = tokens.length; i < l; i++) {\n    token = tokens[i];\n\n    switch (token[0]) {\n    case Token.AT_RULE:\n      rebaseAtRule(token, validator, rebaseConfig);\n      break;\n    case Token.AT_RULE_BLOCK:\n      rebaseProperties(token[2], validator, rebaseConfig);\n      break;\n    case Token.COMMENT:\n      rebaseSourceMapComment(token, rebaseConfig);\n      break;\n    case Token.NESTED_BLOCK:\n      rebaseEverything(token[2], validator, rebaseConfig);\n      break;\n    case Token.RULE:\n      rebaseProperties(token[2], validator, rebaseConfig);\n      break;\n    }\n  }\n\n  return tokens;\n}\n\nfunction rebaseAtRules(tokens, validator, rebaseConfig) {\n  var token;\n  var i, l;\n\n  for (i = 0, l = tokens.length; i < l; i++) {\n    token = tokens[i];\n\n    switch (token[0]) {\n    case Token.AT_RULE:\n      rebaseAtRule(token, validator, rebaseConfig);\n      break;\n    }\n  }\n\n  return tokens;\n}\n\nfunction rebaseAtRule(token, validator, rebaseConfig) {\n  if (!isImport(token[1])) {\n    return;\n  }\n\n  var uriAndMediaQuery = extractImportUrlAndMedia(token[1]);\n  var newUrl = rewriteUrl(uriAndMediaQuery[0], rebaseConfig);\n  var mediaQuery = uriAndMediaQuery[1];\n\n  token[1] = restoreImport(newUrl, mediaQuery);\n}\n\nfunction rebaseSourceMapComment(token, rebaseConfig) {\n  var matches = SOURCE_MAP_COMMENT_PATTERN.exec(token[1]);\n\n  if (matches && matches[1].indexOf('data:') === -1) {\n    token[1] = token[1].replace(matches[1], rewriteUrl(matches[1], rebaseConfig, true));\n  }\n}\n\nfunction rebaseProperties(properties, validator, rebaseConfig) {\n  var property;\n  var value;\n  var i, l;\n  var j, m;\n\n  for (i = 0, l = properties.length; i < l; i++) {\n    property = properties[i];\n\n    for (j = 2 /* 0 is Token.PROPERTY, 1 is name */, m = property.length; j < m; j++) {\n      value = property[j][1];\n\n      if (validator.isUrl(value)) {\n        property[j][1] = rewriteUrl(value, rebaseConfig);\n      }\n    }\n  }\n}\n\nmodule.exports = rebase;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}