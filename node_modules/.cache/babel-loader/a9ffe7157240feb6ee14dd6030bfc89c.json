{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst rpc_1 = require(\"../../rpc\");\n\nconst ReporterRpcProcedure_1 = require(\"./ReporterRpcProcedure\");\n\nfunction registerReporterRpcService(servicePort, reporterFactory) {\n  const rpcService = rpc_1.createRpcService(servicePort);\n  let reporterRegistered = false;\n  let report = undefined;\n\n  const registerReporter = () => {\n    rpcService.addCallHandler(ReporterRpcProcedure_1.configure, configuration => __awaiter(this, void 0, void 0, function* () {\n      rpcService.removeCallHandler(ReporterRpcProcedure_1.configure);\n      const reporter = reporterFactory(configuration);\n      rpcService.addCallHandler(ReporterRpcProcedure_1.getReport, change => __awaiter(this, void 0, void 0, function* () {\n        if (report) {\n          throw new Error(`Close previous report before opening the next one.`);\n        }\n\n        report = yield reporter.getReport(change);\n      }));\n      rpcService.addCallHandler(ReporterRpcProcedure_1.getDependencies, () => {\n        if (!report) {\n          throw new Error(`Cannot find active report.`);\n        }\n\n        return report.getDependencies();\n      });\n      rpcService.addCallHandler(ReporterRpcProcedure_1.getIssues, () => {\n        if (!report) {\n          throw new Error(`Cannot find active report.`);\n        }\n\n        return report.getIssues();\n      });\n      rpcService.addCallHandler(ReporterRpcProcedure_1.closeReport, () => __awaiter(this, void 0, void 0, function* () {\n        report = undefined;\n      }));\n    }));\n  };\n\n  const unregisterReporter = () => {\n    rpcService.removeCallHandler(ReporterRpcProcedure_1.configure);\n    rpcService.removeCallHandler(ReporterRpcProcedure_1.getReport);\n    rpcService.removeCallHandler(ReporterRpcProcedure_1.getDependencies);\n    rpcService.removeCallHandler(ReporterRpcProcedure_1.getIssues);\n    rpcService.removeCallHandler(ReporterRpcProcedure_1.closeReport);\n  };\n\n  return {\n    isOpen: () => rpcService.isOpen() && reporterRegistered,\n    open: () => __awaiter(this, void 0, void 0, function* () {\n      if (!rpcService.isOpen()) {\n        yield rpcService.open();\n      }\n\n      if (!reporterRegistered) {\n        registerReporter();\n        reporterRegistered = true;\n      }\n    }),\n    close: () => __awaiter(this, void 0, void 0, function* () {\n      if (reporterRegistered) {\n        unregisterReporter();\n        reporterRegistered = false;\n      }\n\n      if (rpcService.isOpen()) {\n        yield rpcService.close();\n      }\n    })\n  };\n}\n\nexports.registerReporterRpcService = registerReporterRpcService;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","rpc_1","require","ReporterRpcProcedure_1","registerReporterRpcService","servicePort","reporterFactory","rpcService","createRpcService","reporterRegistered","report","undefined","registerReporter","addCallHandler","configure","configuration","removeCallHandler","reporter","getReport","change","Error","getDependencies","getIssues","closeReport","unregisterReporter","isOpen","open","close"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/fork-ts-checker-webpack-plugin/lib/reporter/reporter-rpc/ReporterRpcService.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst rpc_1 = require(\"../../rpc\");\nconst ReporterRpcProcedure_1 = require(\"./ReporterRpcProcedure\");\nfunction registerReporterRpcService(servicePort, reporterFactory) {\n    const rpcService = rpc_1.createRpcService(servicePort);\n    let reporterRegistered = false;\n    let report = undefined;\n    const registerReporter = () => {\n        rpcService.addCallHandler(ReporterRpcProcedure_1.configure, (configuration) => __awaiter(this, void 0, void 0, function* () {\n            rpcService.removeCallHandler(ReporterRpcProcedure_1.configure);\n            const reporter = reporterFactory(configuration);\n            rpcService.addCallHandler(ReporterRpcProcedure_1.getReport, (change) => __awaiter(this, void 0, void 0, function* () {\n                if (report) {\n                    throw new Error(`Close previous report before opening the next one.`);\n                }\n                report = yield reporter.getReport(change);\n            }));\n            rpcService.addCallHandler(ReporterRpcProcedure_1.getDependencies, () => {\n                if (!report) {\n                    throw new Error(`Cannot find active report.`);\n                }\n                return report.getDependencies();\n            });\n            rpcService.addCallHandler(ReporterRpcProcedure_1.getIssues, () => {\n                if (!report) {\n                    throw new Error(`Cannot find active report.`);\n                }\n                return report.getIssues();\n            });\n            rpcService.addCallHandler(ReporterRpcProcedure_1.closeReport, () => __awaiter(this, void 0, void 0, function* () {\n                report = undefined;\n            }));\n        }));\n    };\n    const unregisterReporter = () => {\n        rpcService.removeCallHandler(ReporterRpcProcedure_1.configure);\n        rpcService.removeCallHandler(ReporterRpcProcedure_1.getReport);\n        rpcService.removeCallHandler(ReporterRpcProcedure_1.getDependencies);\n        rpcService.removeCallHandler(ReporterRpcProcedure_1.getIssues);\n        rpcService.removeCallHandler(ReporterRpcProcedure_1.closeReport);\n    };\n    return {\n        isOpen: () => rpcService.isOpen() && reporterRegistered,\n        open: () => __awaiter(this, void 0, void 0, function* () {\n            if (!rpcService.isOpen()) {\n                yield rpcService.open();\n            }\n            if (!reporterRegistered) {\n                registerReporter();\n                reporterRegistered = true;\n            }\n        }),\n        close: () => __awaiter(this, void 0, void 0, function* () {\n            if (reporterRegistered) {\n                unregisterReporter();\n                reporterRegistered = false;\n            }\n            if (rpcService.isOpen()) {\n                yield rpcService.close();\n            }\n        }),\n    };\n}\nexports.registerReporterRpcService = registerReporterRpcService;\n"],"mappings":"AAAA;;AACA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA4B,UAAUC,OAAV,EAAmBC,UAAnB,EAA+BC,CAA/B,EAAkCC,SAAlC,EAA6C;EACrF,SAASC,KAAT,CAAeC,KAAf,EAAsB;IAAE,OAAOA,KAAK,YAAYH,CAAjB,GAAqBG,KAArB,GAA6B,IAAIH,CAAJ,CAAM,UAAUI,OAAV,EAAmB;MAAEA,OAAO,CAACD,KAAD,CAAP;IAAiB,CAA5C,CAApC;EAAoF;;EAC5G,OAAO,KAAKH,CAAC,KAAKA,CAAC,GAAGK,OAAT,CAAN,EAAyB,UAAUD,OAAV,EAAmBE,MAAnB,EAA2B;IACvD,SAASC,SAAT,CAAmBJ,KAAnB,EAA0B;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAACQ,IAAV,CAAeN,KAAf,CAAD,CAAJ;MAA8B,CAApC,CAAqC,OAAOO,CAAP,EAAU;QAAEJ,MAAM,CAACI,CAAD,CAAN;MAAY;IAAE;;IAC3F,SAASC,QAAT,CAAkBR,KAAlB,EAAyB;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAAC,OAAD,CAAT,CAAmBE,KAAnB,CAAD,CAAJ;MAAkC,CAAxC,CAAyC,OAAOO,CAAP,EAAU;QAAEJ,MAAM,CAACI,CAAD,CAAN;MAAY;IAAE;;IAC9F,SAASF,IAAT,CAAcI,MAAd,EAAsB;MAAEA,MAAM,CAACC,IAAP,GAAcT,OAAO,CAACQ,MAAM,CAACT,KAAR,CAArB,GAAsCD,KAAK,CAACU,MAAM,CAACT,KAAR,CAAL,CAAoBW,IAApB,CAAyBP,SAAzB,EAAoCI,QAApC,CAAtC;IAAsF;;IAC9GH,IAAI,CAAC,CAACP,SAAS,GAAGA,SAAS,CAACc,KAAV,CAAgBjB,OAAhB,EAAyBC,UAAU,IAAI,EAAvC,CAAb,EAAyDU,IAAzD,EAAD,CAAJ;EACH,CALM,CAAP;AAMH,CARD;;AASAO,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEf,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMgB,KAAK,GAAGC,OAAO,CAAC,WAAD,CAArB;;AACA,MAAMC,sBAAsB,GAAGD,OAAO,CAAC,wBAAD,CAAtC;;AACA,SAASE,0BAAT,CAAoCC,WAApC,EAAiDC,eAAjD,EAAkE;EAC9D,MAAMC,UAAU,GAAGN,KAAK,CAACO,gBAAN,CAAuBH,WAAvB,CAAnB;EACA,IAAII,kBAAkB,GAAG,KAAzB;EACA,IAAIC,MAAM,GAAGC,SAAb;;EACA,MAAMC,gBAAgB,GAAG,MAAM;IAC3BL,UAAU,CAACM,cAAX,CAA0BV,sBAAsB,CAACW,SAAjD,EAA6DC,aAAD,IAAmBpC,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAa;MACxH4B,UAAU,CAACS,iBAAX,CAA6Bb,sBAAsB,CAACW,SAApD;MACA,MAAMG,QAAQ,GAAGX,eAAe,CAACS,aAAD,CAAhC;MACAR,UAAU,CAACM,cAAX,CAA0BV,sBAAsB,CAACe,SAAjD,EAA6DC,MAAD,IAAYxC,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAa;QACjH,IAAI+B,MAAJ,EAAY;UACR,MAAM,IAAIU,KAAJ,CAAW,oDAAX,CAAN;QACH;;QACDV,MAAM,GAAG,MAAMO,QAAQ,CAACC,SAAT,CAAmBC,MAAnB,CAAf;MACH,CALgF,CAAjF;MAMAZ,UAAU,CAACM,cAAX,CAA0BV,sBAAsB,CAACkB,eAAjD,EAAkE,MAAM;QACpE,IAAI,CAACX,MAAL,EAAa;UACT,MAAM,IAAIU,KAAJ,CAAW,4BAAX,CAAN;QACH;;QACD,OAAOV,MAAM,CAACW,eAAP,EAAP;MACH,CALD;MAMAd,UAAU,CAACM,cAAX,CAA0BV,sBAAsB,CAACmB,SAAjD,EAA4D,MAAM;QAC9D,IAAI,CAACZ,MAAL,EAAa;UACT,MAAM,IAAIU,KAAJ,CAAW,4BAAX,CAAN;QACH;;QACD,OAAOV,MAAM,CAACY,SAAP,EAAP;MACH,CALD;MAMAf,UAAU,CAACM,cAAX,CAA0BV,sBAAsB,CAACoB,WAAjD,EAA8D,MAAM5C,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAa;QAC7G+B,MAAM,GAAGC,SAAT;MACH,CAF4E,CAA7E;IAGH,CAxBuF,CAAxF;EAyBH,CA1BD;;EA2BA,MAAMa,kBAAkB,GAAG,MAAM;IAC7BjB,UAAU,CAACS,iBAAX,CAA6Bb,sBAAsB,CAACW,SAApD;IACAP,UAAU,CAACS,iBAAX,CAA6Bb,sBAAsB,CAACe,SAApD;IACAX,UAAU,CAACS,iBAAX,CAA6Bb,sBAAsB,CAACkB,eAApD;IACAd,UAAU,CAACS,iBAAX,CAA6Bb,sBAAsB,CAACmB,SAApD;IACAf,UAAU,CAACS,iBAAX,CAA6Bb,sBAAsB,CAACoB,WAApD;EACH,CAND;;EAOA,OAAO;IACHE,MAAM,EAAE,MAAMlB,UAAU,CAACkB,MAAX,MAAuBhB,kBADlC;IAEHiB,IAAI,EAAE,MAAM/C,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAa;MACrD,IAAI,CAAC4B,UAAU,CAACkB,MAAX,EAAL,EAA0B;QACtB,MAAMlB,UAAU,CAACmB,IAAX,EAAN;MACH;;MACD,IAAI,CAACjB,kBAAL,EAAyB;QACrBG,gBAAgB;QAChBH,kBAAkB,GAAG,IAArB;MACH;IACJ,CARoB,CAFlB;IAWHkB,KAAK,EAAE,MAAMhD,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAa;MACtD,IAAI8B,kBAAJ,EAAwB;QACpBe,kBAAkB;QAClBf,kBAAkB,GAAG,KAArB;MACH;;MACD,IAAIF,UAAU,CAACkB,MAAX,EAAJ,EAAyB;QACrB,MAAMlB,UAAU,CAACoB,KAAX,EAAN;MACH;IACJ,CARqB;EAXnB,CAAP;AAqBH;;AACD3B,OAAO,CAACI,0BAAR,GAAqCA,0BAArC"},"metadata":{},"sourceType":"script"}