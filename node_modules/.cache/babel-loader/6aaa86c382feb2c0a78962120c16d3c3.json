{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.findClosestBeforeHook = exports.RULE_NAME = void 0;\n\nconst utils_1 = require(\"@typescript-eslint/utils\");\n\nconst create_testing_library_rule_1 = require(\"../create-testing-library-rule\");\n\nconst node_utils_1 = require(\"../node-utils\");\n\nconst utils_2 = require(\"../utils\");\n\nexports.RULE_NAME = 'no-render-in-setup';\n\nfunction findClosestBeforeHook(node, testingFrameworkSetupHooksToFilter) {\n  if (node === null) {\n    return null;\n  }\n\n  if ((0, node_utils_1.isCallExpression)(node) && utils_1.ASTUtils.isIdentifier(node.callee) && testingFrameworkSetupHooksToFilter.includes(node.callee.name)) {\n    return node.callee;\n  }\n\n  if (node.parent) {\n    return findClosestBeforeHook(node.parent, testingFrameworkSetupHooksToFilter);\n  }\n\n  return null;\n}\n\nexports.findClosestBeforeHook = findClosestBeforeHook;\nexports.default = (0, create_testing_library_rule_1.createTestingLibraryRule)({\n  name: exports.RULE_NAME,\n  meta: {\n    type: 'problem',\n    docs: {\n      description: 'Disallow the use of `render` in testing frameworks setup functions',\n      recommendedConfig: {\n        dom: false,\n        angular: 'error',\n        react: 'error',\n        vue: 'error',\n        marko: 'error'\n      }\n    },\n    messages: {\n      noRenderInSetup: 'Forbidden usage of `render` within testing framework `{{ name }}` setup'\n    },\n    schema: [{\n      type: 'object',\n      properties: {\n        allowTestingFrameworkSetupHook: {\n          enum: utils_2.TESTING_FRAMEWORK_SETUP_HOOKS\n        }\n      }\n    }]\n  },\n  defaultOptions: [{\n    allowTestingFrameworkSetupHook: ''\n  }],\n\n  create(context, _ref, helpers) {\n    let [{\n      allowTestingFrameworkSetupHook\n    }] = _ref;\n    const renderWrapperNames = [];\n\n    function detectRenderWrapper(node) {\n      const innerFunction = (0, node_utils_1.getInnermostReturningFunction)(context, node);\n\n      if (innerFunction) {\n        renderWrapperNames.push((0, node_utils_1.getFunctionName)(innerFunction));\n      }\n    }\n\n    return {\n      CallExpression(node) {\n        const testingFrameworkSetupHooksToFilter = utils_2.TESTING_FRAMEWORK_SETUP_HOOKS.filter(hook => hook !== allowTestingFrameworkSetupHook);\n        const callExpressionIdentifier = (0, node_utils_1.getDeepestIdentifierNode)(node);\n\n        if (!callExpressionIdentifier) {\n          return;\n        }\n\n        const isRenderIdentifier = helpers.isRenderUtil(callExpressionIdentifier);\n\n        if (isRenderIdentifier) {\n          detectRenderWrapper(callExpressionIdentifier);\n        }\n\n        if (!isRenderIdentifier && !renderWrapperNames.includes(callExpressionIdentifier.name)) {\n          return;\n        }\n\n        const beforeHook = findClosestBeforeHook(node, testingFrameworkSetupHooksToFilter);\n\n        if (!beforeHook) {\n          return;\n        }\n\n        context.report({\n          node: callExpressionIdentifier,\n          messageId: 'noRenderInSetup',\n          data: {\n            name: beforeHook.name\n          }\n        });\n      }\n\n    };\n  }\n\n});","map":{"version":3,"names":["Object","defineProperty","exports","value","findClosestBeforeHook","RULE_NAME","utils_1","require","create_testing_library_rule_1","node_utils_1","utils_2","node","testingFrameworkSetupHooksToFilter","isCallExpression","ASTUtils","isIdentifier","callee","includes","name","parent","default","createTestingLibraryRule","meta","type","docs","description","recommendedConfig","dom","angular","react","vue","marko","messages","noRenderInSetup","schema","properties","allowTestingFrameworkSetupHook","enum","TESTING_FRAMEWORK_SETUP_HOOKS","defaultOptions","create","context","helpers","renderWrapperNames","detectRenderWrapper","innerFunction","getInnermostReturningFunction","push","getFunctionName","CallExpression","filter","hook","callExpressionIdentifier","getDeepestIdentifierNode","isRenderIdentifier","isRenderUtil","beforeHook","report","messageId","data"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/eslint-plugin-testing-library/rules/no-render-in-setup.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.findClosestBeforeHook = exports.RULE_NAME = void 0;\nconst utils_1 = require(\"@typescript-eslint/utils\");\nconst create_testing_library_rule_1 = require(\"../create-testing-library-rule\");\nconst node_utils_1 = require(\"../node-utils\");\nconst utils_2 = require(\"../utils\");\nexports.RULE_NAME = 'no-render-in-setup';\nfunction findClosestBeforeHook(node, testingFrameworkSetupHooksToFilter) {\n    if (node === null) {\n        return null;\n    }\n    if ((0, node_utils_1.isCallExpression)(node) &&\n        utils_1.ASTUtils.isIdentifier(node.callee) &&\n        testingFrameworkSetupHooksToFilter.includes(node.callee.name)) {\n        return node.callee;\n    }\n    if (node.parent) {\n        return findClosestBeforeHook(node.parent, testingFrameworkSetupHooksToFilter);\n    }\n    return null;\n}\nexports.findClosestBeforeHook = findClosestBeforeHook;\nexports.default = (0, create_testing_library_rule_1.createTestingLibraryRule)({\n    name: exports.RULE_NAME,\n    meta: {\n        type: 'problem',\n        docs: {\n            description: 'Disallow the use of `render` in testing frameworks setup functions',\n            recommendedConfig: {\n                dom: false,\n                angular: 'error',\n                react: 'error',\n                vue: 'error',\n                marko: 'error',\n            },\n        },\n        messages: {\n            noRenderInSetup: 'Forbidden usage of `render` within testing framework `{{ name }}` setup',\n        },\n        schema: [\n            {\n                type: 'object',\n                properties: {\n                    allowTestingFrameworkSetupHook: {\n                        enum: utils_2.TESTING_FRAMEWORK_SETUP_HOOKS,\n                    },\n                },\n            },\n        ],\n    },\n    defaultOptions: [\n        {\n            allowTestingFrameworkSetupHook: '',\n        },\n    ],\n    create(context, [{ allowTestingFrameworkSetupHook }], helpers) {\n        const renderWrapperNames = [];\n        function detectRenderWrapper(node) {\n            const innerFunction = (0, node_utils_1.getInnermostReturningFunction)(context, node);\n            if (innerFunction) {\n                renderWrapperNames.push((0, node_utils_1.getFunctionName)(innerFunction));\n            }\n        }\n        return {\n            CallExpression(node) {\n                const testingFrameworkSetupHooksToFilter = utils_2.TESTING_FRAMEWORK_SETUP_HOOKS.filter((hook) => hook !== allowTestingFrameworkSetupHook);\n                const callExpressionIdentifier = (0, node_utils_1.getDeepestIdentifierNode)(node);\n                if (!callExpressionIdentifier) {\n                    return;\n                }\n                const isRenderIdentifier = helpers.isRenderUtil(callExpressionIdentifier);\n                if (isRenderIdentifier) {\n                    detectRenderWrapper(callExpressionIdentifier);\n                }\n                if (!isRenderIdentifier &&\n                    !renderWrapperNames.includes(callExpressionIdentifier.name)) {\n                    return;\n                }\n                const beforeHook = findClosestBeforeHook(node, testingFrameworkSetupHooksToFilter);\n                if (!beforeHook) {\n                    return;\n                }\n                context.report({\n                    node: callExpressionIdentifier,\n                    messageId: 'noRenderInSetup',\n                    data: {\n                        name: beforeHook.name,\n                    },\n                });\n            },\n        };\n    },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}