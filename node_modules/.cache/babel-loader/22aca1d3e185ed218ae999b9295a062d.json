{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst equal = require(\"fast-deep-equal\");\n\nconst SCALAR_TYPES = [\"number\", \"integer\", \"string\", \"boolean\", \"null\"];\n\nfunction getDef() {\n  return {\n    keyword: \"uniqueItemProperties\",\n    type: \"array\",\n    schemaType: \"array\",\n\n    compile(keys, parentSchema) {\n      const scalar = getScalarKeys(keys, parentSchema);\n      return data => {\n        if (data.length <= 1) return true;\n\n        for (let k = 0; k < keys.length; k++) {\n          const key = keys[k];\n\n          if (scalar[k]) {\n            const hash = {};\n\n            for (const x of data) {\n              if (!x || typeof x != \"object\") continue;\n              let p = x[key];\n              if (p && typeof p == \"object\") continue;\n              if (typeof p == \"string\") p = '\"' + p;\n              if (hash[p]) return false;\n              hash[p] = true;\n            }\n          } else {\n            for (let i = data.length; i--;) {\n              const x = data[i];\n              if (!x || typeof x != \"object\") continue;\n\n              for (let j = i; j--;) {\n                const y = data[j];\n                if (y && typeof y == \"object\" && equal(x[key], y[key])) return false;\n              }\n            }\n          }\n        }\n\n        return true;\n      };\n    },\n\n    metaSchema: {\n      type: \"array\",\n      items: {\n        type: \"string\"\n      }\n    }\n  };\n}\n\nexports.default = getDef;\n\nfunction getScalarKeys(keys, schema) {\n  return keys.map(key => {\n    var _a, _b, _c;\n\n    const t = (_c = (_b = (_a = schema.items) === null || _a === void 0 ? void 0 : _a.properties) === null || _b === void 0 ? void 0 : _b[key]) === null || _c === void 0 ? void 0 : _c.type;\n    return Array.isArray(t) ? !t.includes(\"object\") && !t.includes(\"array\") : SCALAR_TYPES.includes(t);\n  });\n}\n\nmodule.exports = getDef;","map":{"version":3,"mappings":"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","names":["SCALAR_TYPES","getDef","keyword","type","schemaType","compile","keys","parentSchema","scalar","getScalarKeys","data","length","k","key","hash","x","p","i","j","y","equal","metaSchema","items","exports","schema","map","t","_a","properties","_b","_c","Array","isArray","includes","module"],"sources":["C:\\Users\\Rohith\\mern\\frontend\\node_modules\\eslint-webpack-plugin\\node_modules\\ajv-keywords\\src\\definitions\\uniqueItemProperties.ts"],"sourcesContent":["import type {FuncKeywordDefinition, AnySchemaObject} from \"ajv\"\nimport equal = require(\"fast-deep-equal\")\n\nconst SCALAR_TYPES = [\"number\", \"integer\", \"string\", \"boolean\", \"null\"]\n\nexport default function getDef(): FuncKeywordDefinition {\n  return {\n    keyword: \"uniqueItemProperties\",\n    type: \"array\",\n    schemaType: \"array\",\n    compile(keys: string[], parentSchema: AnySchemaObject) {\n      const scalar = getScalarKeys(keys, parentSchema)\n\n      return (data) => {\n        if (data.length <= 1) return true\n        for (let k = 0; k < keys.length; k++) {\n          const key = keys[k]\n          if (scalar[k]) {\n            const hash: Record<string, any> = {}\n            for (const x of data) {\n              if (!x || typeof x != \"object\") continue\n              let p = x[key]\n              if (p && typeof p == \"object\") continue\n              if (typeof p == \"string\") p = '\"' + p\n              if (hash[p]) return false\n              hash[p] = true\n            }\n          } else {\n            for (let i = data.length; i--; ) {\n              const x = data[i]\n              if (!x || typeof x != \"object\") continue\n              for (let j = i; j--; ) {\n                const y = data[j]\n                if (y && typeof y == \"object\" && equal(x[key], y[key])) return false\n              }\n            }\n          }\n        }\n        return true\n      }\n    },\n    metaSchema: {\n      type: \"array\",\n      items: {type: \"string\"},\n    },\n  }\n}\n\nfunction getScalarKeys(keys: string[], schema: AnySchemaObject): boolean[] {\n  return keys.map((key) => {\n    const t = schema.items?.properties?.[key]?.type\n    return Array.isArray(t)\n      ? !t.includes(\"object\") && !t.includes(\"array\")\n      : SCALAR_TYPES.includes(t)\n  })\n}\n\nmodule.exports = getDef\n"]},"metadata":{},"sourceType":"script"}