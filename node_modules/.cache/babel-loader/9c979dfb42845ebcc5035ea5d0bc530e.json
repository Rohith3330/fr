{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = memoize;\n\nvar _setImmediate = require('./internal/setImmediate.js');\n\nvar _setImmediate2 = _interopRequireDefault(_setImmediate);\n\nvar _initialParams = require('./internal/initialParams.js');\n\nvar _initialParams2 = _interopRequireDefault(_initialParams);\n\nvar _wrapAsync = require('./internal/wrapAsync.js');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Caches the results of an async function. When creating a hash to store\n * function results against, the callback is omitted from the hash and an\n * optional hash function can be used.\n *\n * **Note: if the async function errs, the result will not be cached and\n * subsequent calls will call the wrapped function.**\n *\n * If no hash function is specified, the first argument is used as a hash key,\n * which may work reasonably if it is a string or a data type that converts to a\n * distinct string. Note that objects and arrays will not behave reasonably.\n * Neither will cases where the other arguments are significant. In such cases,\n * specify your own hash function.\n *\n * The cache of results is exposed as the `memo` property of the function\n * returned by `memoize`.\n *\n * @name memoize\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} fn - The async function to proxy and cache results from.\n * @param {Function} hasher - An optional function for generating a custom hash\n * for storing results. It has all the arguments applied to it apart from the\n * callback, and must be synchronous.\n * @returns {AsyncFunction} a memoized version of `fn`\n * @example\n *\n * var slow_fn = function(name, callback) {\n *     // do something\n *     callback(null, result);\n * };\n * var fn = async.memoize(slow_fn);\n *\n * // fn can now be used as if it were slow_fn\n * fn('some name', function() {\n *     // callback\n * });\n */\n\n\nfunction memoize(fn) {\n  let hasher = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : v => v;\n  var memo = Object.create(null);\n  var queues = Object.create(null);\n\n  var _fn = (0, _wrapAsync2.default)(fn);\n\n  var memoized = (0, _initialParams2.default)((args, callback) => {\n    var key = hasher(...args);\n\n    if (key in memo) {\n      (0, _setImmediate2.default)(() => callback(null, ...memo[key]));\n    } else if (key in queues) {\n      queues[key].push(callback);\n    } else {\n      queues[key] = [callback];\n\n      _fn(...args, function (err) {\n        for (var _len = arguments.length, resultArgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          resultArgs[_key - 1] = arguments[_key];\n        }\n\n        // #1465 don't memoize if an error occurred\n        if (!err) {\n          memo[key] = resultArgs;\n        }\n\n        var q = queues[key];\n        delete queues[key];\n\n        for (var i = 0, l = q.length; i < l; i++) {\n          q[i](err, ...resultArgs);\n        }\n      });\n    }\n  });\n  memoized.memo = memo;\n  memoized.unmemoized = fn;\n  return memoized;\n}\n\nmodule.exports = exports['default'];","map":{"version":3,"names":["Object","defineProperty","exports","value","default","memoize","_setImmediate","require","_setImmediate2","_interopRequireDefault","_initialParams","_initialParams2","_wrapAsync","_wrapAsync2","obj","__esModule","fn","hasher","v","memo","create","queues","_fn","memoized","args","callback","key","push","err","resultArgs","q","i","l","length","unmemoized","module"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/async/memoize.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = memoize;\n\nvar _setImmediate = require('./internal/setImmediate.js');\n\nvar _setImmediate2 = _interopRequireDefault(_setImmediate);\n\nvar _initialParams = require('./internal/initialParams.js');\n\nvar _initialParams2 = _interopRequireDefault(_initialParams);\n\nvar _wrapAsync = require('./internal/wrapAsync.js');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Caches the results of an async function. When creating a hash to store\n * function results against, the callback is omitted from the hash and an\n * optional hash function can be used.\n *\n * **Note: if the async function errs, the result will not be cached and\n * subsequent calls will call the wrapped function.**\n *\n * If no hash function is specified, the first argument is used as a hash key,\n * which may work reasonably if it is a string or a data type that converts to a\n * distinct string. Note that objects and arrays will not behave reasonably.\n * Neither will cases where the other arguments are significant. In such cases,\n * specify your own hash function.\n *\n * The cache of results is exposed as the `memo` property of the function\n * returned by `memoize`.\n *\n * @name memoize\n * @static\n * @memberOf module:Utils\n * @method\n * @category Util\n * @param {AsyncFunction} fn - The async function to proxy and cache results from.\n * @param {Function} hasher - An optional function for generating a custom hash\n * for storing results. It has all the arguments applied to it apart from the\n * callback, and must be synchronous.\n * @returns {AsyncFunction} a memoized version of `fn`\n * @example\n *\n * var slow_fn = function(name, callback) {\n *     // do something\n *     callback(null, result);\n * };\n * var fn = async.memoize(slow_fn);\n *\n * // fn can now be used as if it were slow_fn\n * fn('some name', function() {\n *     // callback\n * });\n */\nfunction memoize(fn, hasher = v => v) {\n    var memo = Object.create(null);\n    var queues = Object.create(null);\n    var _fn = (0, _wrapAsync2.default)(fn);\n    var memoized = (0, _initialParams2.default)((args, callback) => {\n        var key = hasher(...args);\n        if (key in memo) {\n            (0, _setImmediate2.default)(() => callback(null, ...memo[key]));\n        } else if (key in queues) {\n            queues[key].push(callback);\n        } else {\n            queues[key] = [callback];\n            _fn(...args, (err, ...resultArgs) => {\n                // #1465 don't memoize if an error occurred\n                if (!err) {\n                    memo[key] = resultArgs;\n                }\n                var q = queues[key];\n                delete queues[key];\n                for (var i = 0, l = q.length; i < l; i++) {\n                    q[i](err, ...resultArgs);\n                }\n            });\n        }\n    });\n    memoized.memo = memo;\n    memoized.unmemoized = fn;\n    return memoized;\n}\nmodule.exports = exports['default'];"],"mappings":"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"},"metadata":{},"sourceType":"script"}