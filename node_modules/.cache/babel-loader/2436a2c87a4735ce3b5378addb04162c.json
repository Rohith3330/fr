{"ast":null,"code":"/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nconst chalk = require('chalk');\n\nconst findUp = require('find-up');\n\nconst path = require('path');\n\nclass ModuleNotFoundPlugin {\n  constructor(appPath, yarnLockFile) {\n    this.appPath = appPath;\n    this.yarnLockFile = yarnLockFile;\n    this.useYarnCommand = this.useYarnCommand.bind(this);\n    this.getRelativePath = this.getRelativePath.bind(this);\n    this.prettierError = this.prettierError.bind(this);\n  }\n\n  useYarnCommand() {\n    try {\n      return findUp.sync('yarn.lock', {\n        cwd: this.appPath\n      }) != null;\n    } catch (_) {\n      return false;\n    }\n  }\n\n  getRelativePath(_file) {\n    let file = path.relative(this.appPath, _file);\n\n    if (file.startsWith('..')) {\n      file = _file;\n    } else if (!file.startsWith('.')) {\n      file = '.' + path.sep + file;\n    }\n\n    return file;\n  }\n\n  prettierError(err) {\n    let {\n      details: _details = '',\n      origin\n    } = err;\n\n    if (origin == null) {\n      const caseSensitivity = err.message && /\\[CaseSensitivePathsPlugin\\] `(.*?)` .* `(.*?)`/.exec(err.message);\n\n      if (caseSensitivity) {\n        const [, incorrectPath, actualName] = caseSensitivity;\n        const actualFile = this.getRelativePath(path.join(path.dirname(incorrectPath), actualName));\n        const incorrectName = path.basename(incorrectPath);\n        err.message = `Cannot find file: '${incorrectName}' does not match the corresponding name on disk: '${actualFile}'.`;\n      }\n\n      return err;\n    }\n\n    const file = this.getRelativePath(origin.resource);\n\n    let details = _details.split('\\n');\n\n    const request = /resolve '(.*?)' in '(.*?)'/.exec(details);\n\n    if (request) {\n      const isModule = details[1] && details[1].includes('module');\n      const isFile = details[1] && details[1].includes('file');\n      let [, target, context] = request;\n      context = this.getRelativePath(context);\n\n      if (isModule) {\n        const isYarn = this.useYarnCommand();\n        details = [`Cannot find module: '${target}'. Make sure this package is installed.`, '', 'You can install this package by running: ' + (isYarn ? chalk.bold(`yarn add ${target}`) : chalk.bold(`npm install ${target}`)) + '.'];\n      } else if (isFile) {\n        details = [`Cannot find file '${target}' in '${context}'.`];\n      } else {\n        details = [err.message];\n      }\n    } else {\n      details = [err.message];\n    }\n\n    err.message = [file, ...details].join('\\n').replace('Error: ', '');\n    const isModuleScopePluginError = err.error && err.error.__module_scope_plugin;\n\n    if (isModuleScopePluginError) {\n      err.message = err.message.replace('Module not found: ', '');\n    }\n\n    return err;\n  }\n\n  apply(compiler) {\n    const {\n      prettierError\n    } = this;\n    compiler.hooks.make.intercept({\n      register(tap) {\n        if (!(tap.name === 'MultiEntryPlugin' || tap.name === 'EntryPlugin')) {\n          return tap;\n        }\n\n        return Object.assign({}, tap, {\n          fn: (compilation, callback) => {\n            tap.fn(compilation, function (err) {\n              if (err && err.name === 'ModuleNotFoundError') {\n                err = prettierError(err);\n              }\n\n              for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                args[_key - 1] = arguments[_key];\n              }\n\n              callback(err, ...args);\n            });\n          }\n        });\n      }\n\n    });\n    compiler.hooks.normalModuleFactory.tap('ModuleNotFoundPlugin', nmf => {\n      nmf.hooks.afterResolve.intercept({\n        register(tap) {\n          if (tap.name !== 'CaseSensitivePathsPlugin') {\n            return tap;\n          }\n\n          return Object.assign({}, tap, {\n            fn: (compilation, callback) => {\n              tap.fn(compilation, function (err) {\n                if (err && err.message && err.message.includes('CaseSensitivePathsPlugin')) {\n                  err = prettierError(err);\n                }\n\n                for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n                  args[_key2 - 1] = arguments[_key2];\n                }\n\n                callback(err, ...args);\n              });\n            }\n          });\n        }\n\n      });\n    });\n  }\n\n}\n\nmodule.exports = ModuleNotFoundPlugin;","map":{"version":3,"names":["chalk","require","findUp","path","ModuleNotFoundPlugin","constructor","appPath","yarnLockFile","useYarnCommand","bind","getRelativePath","prettierError","sync","cwd","_","_file","file","relative","startsWith","sep","err","details","_details","origin","caseSensitivity","message","exec","incorrectPath","actualName","actualFile","join","dirname","incorrectName","basename","resource","split","request","isModule","includes","isFile","target","context","isYarn","bold","replace","isModuleScopePluginError","error","__module_scope_plugin","apply","compiler","hooks","make","intercept","register","tap","name","Object","assign","fn","compilation","callback","args","normalModuleFactory","nmf","afterResolve","module","exports"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/react-dev-utils/ModuleNotFoundPlugin.js"],"sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nconst chalk = require('chalk');\nconst findUp = require('find-up');\nconst path = require('path');\n\nclass ModuleNotFoundPlugin {\n  constructor(appPath, yarnLockFile) {\n    this.appPath = appPath;\n    this.yarnLockFile = yarnLockFile;\n\n    this.useYarnCommand = this.useYarnCommand.bind(this);\n    this.getRelativePath = this.getRelativePath.bind(this);\n    this.prettierError = this.prettierError.bind(this);\n  }\n\n  useYarnCommand() {\n    try {\n      return findUp.sync('yarn.lock', { cwd: this.appPath }) != null;\n    } catch (_) {\n      return false;\n    }\n  }\n\n  getRelativePath(_file) {\n    let file = path.relative(this.appPath, _file);\n    if (file.startsWith('..')) {\n      file = _file;\n    } else if (!file.startsWith('.')) {\n      file = '.' + path.sep + file;\n    }\n    return file;\n  }\n\n  prettierError(err) {\n    let { details: _details = '', origin } = err;\n\n    if (origin == null) {\n      const caseSensitivity =\n        err.message &&\n        /\\[CaseSensitivePathsPlugin\\] `(.*?)` .* `(.*?)`/.exec(err.message);\n      if (caseSensitivity) {\n        const [, incorrectPath, actualName] = caseSensitivity;\n        const actualFile = this.getRelativePath(\n          path.join(path.dirname(incorrectPath), actualName)\n        );\n        const incorrectName = path.basename(incorrectPath);\n        err.message = `Cannot find file: '${incorrectName}' does not match the corresponding name on disk: '${actualFile}'.`;\n      }\n      return err;\n    }\n\n    const file = this.getRelativePath(origin.resource);\n    let details = _details.split('\\n');\n\n    const request = /resolve '(.*?)' in '(.*?)'/.exec(details);\n    if (request) {\n      const isModule = details[1] && details[1].includes('module');\n      const isFile = details[1] && details[1].includes('file');\n\n      let [, target, context] = request;\n      context = this.getRelativePath(context);\n      if (isModule) {\n        const isYarn = this.useYarnCommand();\n        details = [\n          `Cannot find module: '${target}'. Make sure this package is installed.`,\n          '',\n          'You can install this package by running: ' +\n            (isYarn\n              ? chalk.bold(`yarn add ${target}`)\n              : chalk.bold(`npm install ${target}`)) +\n            '.',\n        ];\n      } else if (isFile) {\n        details = [`Cannot find file '${target}' in '${context}'.`];\n      } else {\n        details = [err.message];\n      }\n    } else {\n      details = [err.message];\n    }\n    err.message = [file, ...details].join('\\n').replace('Error: ', '');\n\n    const isModuleScopePluginError =\n      err.error && err.error.__module_scope_plugin;\n    if (isModuleScopePluginError) {\n      err.message = err.message.replace('Module not found: ', '');\n    }\n    return err;\n  }\n\n  apply(compiler) {\n    const { prettierError } = this;\n    compiler.hooks.make.intercept({\n      register(tap) {\n        if (!(tap.name === 'MultiEntryPlugin' || tap.name === 'EntryPlugin')) {\n          return tap;\n        }\n        return Object.assign({}, tap, {\n          fn: (compilation, callback) => {\n            tap.fn(compilation, (err, ...args) => {\n              if (err && err.name === 'ModuleNotFoundError') {\n                err = prettierError(err);\n              }\n              callback(err, ...args);\n            });\n          },\n        });\n      },\n    });\n    compiler.hooks.normalModuleFactory.tap('ModuleNotFoundPlugin', nmf => {\n      nmf.hooks.afterResolve.intercept({\n        register(tap) {\n          if (tap.name !== 'CaseSensitivePathsPlugin') {\n            return tap;\n          }\n          return Object.assign({}, tap, {\n            fn: (compilation, callback) => {\n              tap.fn(compilation, (err, ...args) => {\n                if (\n                  err &&\n                  err.message &&\n                  err.message.includes('CaseSensitivePathsPlugin')\n                ) {\n                  err = prettierError(err);\n                }\n                callback(err, ...args);\n              });\n            },\n          });\n        },\n      });\n    });\n  }\n}\n\nmodule.exports = ModuleNotFoundPlugin;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}