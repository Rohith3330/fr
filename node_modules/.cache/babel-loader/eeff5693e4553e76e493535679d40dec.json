{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _jsxAstUtils = require(\"jsx-ast-utils\");\n\nvar _schemas = require(\"../util/schemas\");\n\nvar _getElementType = _interopRequireDefault(require(\"../util/getElementType\"));\n/**\n * @fileoverview <audio> and <video> elements must have a <track> for captions.\n * @author Ethan Cohen\n * \n */\n// ----------------------------------------------------------------------------\n// Rule Definition\n// ----------------------------------------------------------------------------\n\n\nvar errorMessage = 'Media elements such as <audio> and <video> must have a <track> for captions.';\nvar MEDIA_TYPES = ['audio', 'video'];\nvar schema = (0, _schemas.generateObjSchema)({\n  audio: _schemas.arraySchema,\n  video: _schemas.arraySchema,\n  track: _schemas.arraySchema\n});\n\nvar isMediaType = function isMediaType(context, type) {\n  var options = context.options[0] || {};\n  return MEDIA_TYPES.map(function (mediaType) {\n    return options[mediaType];\n  }).reduce(function (types, customComponent) {\n    return types.concat(customComponent);\n  }, MEDIA_TYPES).some(function (typeToCheck) {\n    return typeToCheck === type;\n  });\n};\n\nvar isTrackType = function isTrackType(context, type) {\n  var options = context.options[0] || {};\n  return ['track'].concat(options.track || []).some(function (typeToCheck) {\n    return typeToCheck === type;\n  });\n};\n\nvar _default = {\n  meta: {\n    docs: {\n      url: 'https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/tree/HEAD/docs/rules/media-has-caption.md',\n      description: 'Enforces that `<audio>` and `<video>` elements must have a `<track>` for captions.'\n    },\n    schema: [schema]\n  },\n  create: function create(context) {\n    var elementType = (0, _getElementType[\"default\"])(context);\n    return {\n      JSXElement: function JSXElement(node) {\n        var element = node.openingElement;\n        var type = elementType(element);\n\n        if (!isMediaType(context, type)) {\n          return;\n        }\n\n        var mutedProp = (0, _jsxAstUtils.getProp)(element.attributes, 'muted');\n        var mutedPropVal = (0, _jsxAstUtils.getLiteralPropValue)(mutedProp);\n\n        if (mutedPropVal === true) {\n          return;\n        } // $FlowFixMe https://github.com/facebook/flow/issues/1414\n\n\n        var trackChildren = node.children.filter(function (child) {\n          if (child.type !== 'JSXElement') {\n            return false;\n          } // $FlowFixMe https://github.com/facebook/flow/issues/1414\n\n\n          return isTrackType(context, elementType(child.openingElement));\n        });\n\n        if (trackChildren.length === 0) {\n          context.report({\n            node: element,\n            message: errorMessage\n          });\n          return;\n        }\n\n        var hasCaption = trackChildren.some(function (track) {\n          var kindProp = (0, _jsxAstUtils.getProp)(track.openingElement.attributes, 'kind');\n          var kindPropValue = (0, _jsxAstUtils.getLiteralPropValue)(kindProp) || '';\n          return kindPropValue.toLowerCase() === 'captions';\n        });\n\n        if (!hasCaption) {\n          context.report({\n            node: element,\n            message: errorMessage\n          });\n        }\n      }\n    };\n  }\n};\nexports[\"default\"] = _default;\nmodule.exports = exports.default;","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_jsxAstUtils","_schemas","_getElementType","errorMessage","MEDIA_TYPES","schema","generateObjSchema","audio","arraySchema","video","track","isMediaType","context","type","options","map","mediaType","reduce","types","customComponent","concat","some","typeToCheck","isTrackType","_default","meta","docs","url","description","create","elementType","JSXElement","node","element","openingElement","mutedProp","getProp","attributes","mutedPropVal","getLiteralPropValue","trackChildren","children","filter","child","length","report","message","hasCaption","kindProp","kindPropValue","toLowerCase","module","default"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/eslint-plugin-jsx-a11y/lib/rules/media-has-caption.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _jsxAstUtils = require(\"jsx-ast-utils\");\n\nvar _schemas = require(\"../util/schemas\");\n\nvar _getElementType = _interopRequireDefault(require(\"../util/getElementType\"));\n\n/**\n * @fileoverview <audio> and <video> elements must have a <track> for captions.\n * @author Ethan Cohen\n * \n */\n// ----------------------------------------------------------------------------\n// Rule Definition\n// ----------------------------------------------------------------------------\nvar errorMessage = 'Media elements such as <audio> and <video> must have a <track> for captions.';\nvar MEDIA_TYPES = ['audio', 'video'];\nvar schema = (0, _schemas.generateObjSchema)({\n  audio: _schemas.arraySchema,\n  video: _schemas.arraySchema,\n  track: _schemas.arraySchema\n});\n\nvar isMediaType = function isMediaType(context, type) {\n  var options = context.options[0] || {};\n  return MEDIA_TYPES.map(function (mediaType) {\n    return options[mediaType];\n  }).reduce(function (types, customComponent) {\n    return types.concat(customComponent);\n  }, MEDIA_TYPES).some(function (typeToCheck) {\n    return typeToCheck === type;\n  });\n};\n\nvar isTrackType = function isTrackType(context, type) {\n  var options = context.options[0] || {};\n  return ['track'].concat(options.track || []).some(function (typeToCheck) {\n    return typeToCheck === type;\n  });\n};\n\nvar _default = {\n  meta: {\n    docs: {\n      url: 'https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/tree/HEAD/docs/rules/media-has-caption.md',\n      description: 'Enforces that `<audio>` and `<video>` elements must have a `<track>` for captions.'\n    },\n    schema: [schema]\n  },\n  create: function create(context) {\n    var elementType = (0, _getElementType[\"default\"])(context);\n    return {\n      JSXElement: function JSXElement(node) {\n        var element = node.openingElement;\n        var type = elementType(element);\n\n        if (!isMediaType(context, type)) {\n          return;\n        }\n\n        var mutedProp = (0, _jsxAstUtils.getProp)(element.attributes, 'muted');\n        var mutedPropVal = (0, _jsxAstUtils.getLiteralPropValue)(mutedProp);\n\n        if (mutedPropVal === true) {\n          return;\n        } // $FlowFixMe https://github.com/facebook/flow/issues/1414\n\n\n        var trackChildren = node.children.filter(function (child) {\n          if (child.type !== 'JSXElement') {\n            return false;\n          } // $FlowFixMe https://github.com/facebook/flow/issues/1414\n\n\n          return isTrackType(context, elementType(child.openingElement));\n        });\n\n        if (trackChildren.length === 0) {\n          context.report({\n            node: element,\n            message: errorMessage\n          });\n          return;\n        }\n\n        var hasCaption = trackChildren.some(function (track) {\n          var kindProp = (0, _jsxAstUtils.getProp)(track.openingElement.attributes, 'kind');\n          var kindPropValue = (0, _jsxAstUtils.getLiteralPropValue)(kindProp) || '';\n          return kindPropValue.toLowerCase() === 'captions';\n        });\n\n        if (!hasCaption) {\n          context.report({\n            node: element,\n            message: errorMessage\n          });\n        }\n      }\n    };\n  }\n};\nexports[\"default\"] = _default;\nmodule.exports = exports.default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}