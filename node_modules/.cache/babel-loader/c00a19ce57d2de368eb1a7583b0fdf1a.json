{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.edit = edit;\nexports.editWithAST = editWithAST;\nexports.add = add;\nexports.addWithAST = addWithAST;\n\nvar _wasmParser = require(\"@webassemblyjs/wasm-parser\");\n\nvar _ast = require(\"@webassemblyjs/ast\");\n\nvar _clone = require(\"@webassemblyjs/ast/lib/clone\");\n\nvar _wasmOpt = require(\"@webassemblyjs/wasm-opt\");\n\nvar _helperWasmBytecode = _interopRequireWildcard(require(\"@webassemblyjs/helper-wasm-bytecode\"));\n\nvar _apply = require(\"./apply\");\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {};\n\n          if (desc.get || desc.set) {\n            Object.defineProperty(newObj, key, desc);\n          } else {\n            newObj[key] = obj[key];\n          }\n        }\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction hashNode(node) {\n  return JSON.stringify(node);\n}\n\nfunction preprocess(ab) {\n  var optBin = (0, _wasmOpt.shrinkPaddedLEB128)(new Uint8Array(ab));\n  return optBin.buffer;\n}\n\nfunction sortBySectionOrder(nodes) {\n  var originalOrder = new Map();\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _node = _step.value;\n      originalOrder.set(_node, originalOrder.size);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  nodes.sort(function (a, b) {\n    var sectionA = (0, _helperWasmBytecode.getSectionForNode)(a);\n    var sectionB = (0, _helperWasmBytecode.getSectionForNode)(b);\n    var aId = _helperWasmBytecode.default.sections[sectionA];\n    var bId = _helperWasmBytecode.default.sections[sectionB];\n\n    if (typeof aId !== \"number\" || typeof bId !== \"number\") {\n      throw new Error(\"Section id not found\");\n    }\n\n    if (aId === bId) {\n      // $FlowIgnore originalOrder is filled for all nodes\n      return originalOrder.get(a) - originalOrder.get(b);\n    }\n\n    return aId - bId;\n  });\n}\n\nfunction edit(ab, visitors) {\n  ab = preprocess(ab);\n  var ast = (0, _wasmParser.decode)(ab);\n  return editWithAST(ast, ab, visitors);\n}\n\nfunction editWithAST(ast, ab, visitors) {\n  var operations = [];\n  var uint8Buffer = new Uint8Array(ab);\n  var nodeBefore;\n\n  function before(type, path) {\n    nodeBefore = (0, _clone.cloneNode)(path.node);\n  }\n\n  function after(type, path) {\n    if (path.node._deleted === true) {\n      operations.push({\n        kind: \"delete\",\n        node: path.node\n      }); // $FlowIgnore\n    } else if (hashNode(nodeBefore) !== hashNode(path.node)) {\n      operations.push({\n        kind: \"update\",\n        oldNode: nodeBefore,\n        node: path.node\n      });\n    }\n  }\n\n  (0, _ast.traverse)(ast, visitors, before, after);\n  uint8Buffer = (0, _apply.applyOperations)(ast, uint8Buffer, operations);\n  return uint8Buffer.buffer;\n}\n\nfunction add(ab, newNodes) {\n  ab = preprocess(ab);\n  var ast = (0, _wasmParser.decode)(ab);\n  return addWithAST(ast, ab, newNodes);\n}\n\nfunction addWithAST(ast, ab, newNodes) {\n  // Sort nodes by insertion order\n  sortBySectionOrder(newNodes);\n  var uint8Buffer = new Uint8Array(ab); // Map node into operations\n\n  var operations = newNodes.map(function (n) {\n    return {\n      kind: \"add\",\n      node: n\n    };\n  });\n  uint8Buffer = (0, _apply.applyOperations)(ast, uint8Buffer, operations);\n  return uint8Buffer.buffer;\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","edit","editWithAST","add","addWithAST","_wasmParser","require","_ast","_clone","_wasmOpt","_helperWasmBytecode","_interopRequireWildcard","_apply","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","desc","getOwnPropertyDescriptor","get","set","default","hashNode","node","JSON","stringify","preprocess","ab","optBin","shrinkPaddedLEB128","Uint8Array","buffer","sortBySectionOrder","nodes","originalOrder","Map","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_iterator","Symbol","iterator","_step","next","done","_node","size","err","return","sort","a","b","sectionA","getSectionForNode","sectionB","aId","sections","bId","Error","visitors","ast","decode","operations","uint8Buffer","nodeBefore","before","type","path","cloneNode","after","_deleted","push","kind","oldNode","traverse","applyOperations","newNodes","map","n"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/@webassemblyjs/wasm-edit/lib/index.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.edit = edit;\nexports.editWithAST = editWithAST;\nexports.add = add;\nexports.addWithAST = addWithAST;\n\nvar _wasmParser = require(\"@webassemblyjs/wasm-parser\");\n\nvar _ast = require(\"@webassemblyjs/ast\");\n\nvar _clone = require(\"@webassemblyjs/ast/lib/clone\");\n\nvar _wasmOpt = require(\"@webassemblyjs/wasm-opt\");\n\nvar _helperWasmBytecode = _interopRequireWildcard(require(\"@webassemblyjs/helper-wasm-bytecode\"));\n\nvar _apply = require(\"./apply\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction hashNode(node) {\n  return JSON.stringify(node);\n}\n\nfunction preprocess(ab) {\n  var optBin = (0, _wasmOpt.shrinkPaddedLEB128)(new Uint8Array(ab));\n  return optBin.buffer;\n}\n\nfunction sortBySectionOrder(nodes) {\n  var originalOrder = new Map();\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _node = _step.value;\n      originalOrder.set(_node, originalOrder.size);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  nodes.sort(function (a, b) {\n    var sectionA = (0, _helperWasmBytecode.getSectionForNode)(a);\n    var sectionB = (0, _helperWasmBytecode.getSectionForNode)(b);\n    var aId = _helperWasmBytecode.default.sections[sectionA];\n    var bId = _helperWasmBytecode.default.sections[sectionB];\n\n    if (typeof aId !== \"number\" || typeof bId !== \"number\") {\n      throw new Error(\"Section id not found\");\n    }\n\n    if (aId === bId) {\n      // $FlowIgnore originalOrder is filled for all nodes\n      return originalOrder.get(a) - originalOrder.get(b);\n    }\n\n    return aId - bId;\n  });\n}\n\nfunction edit(ab, visitors) {\n  ab = preprocess(ab);\n  var ast = (0, _wasmParser.decode)(ab);\n  return editWithAST(ast, ab, visitors);\n}\n\nfunction editWithAST(ast, ab, visitors) {\n  var operations = [];\n  var uint8Buffer = new Uint8Array(ab);\n  var nodeBefore;\n\n  function before(type, path) {\n    nodeBefore = (0, _clone.cloneNode)(path.node);\n  }\n\n  function after(type, path) {\n    if (path.node._deleted === true) {\n      operations.push({\n        kind: \"delete\",\n        node: path.node\n      }); // $FlowIgnore\n    } else if (hashNode(nodeBefore) !== hashNode(path.node)) {\n      operations.push({\n        kind: \"update\",\n        oldNode: nodeBefore,\n        node: path.node\n      });\n    }\n  }\n\n  (0, _ast.traverse)(ast, visitors, before, after);\n  uint8Buffer = (0, _apply.applyOperations)(ast, uint8Buffer, operations);\n  return uint8Buffer.buffer;\n}\n\nfunction add(ab, newNodes) {\n  ab = preprocess(ab);\n  var ast = (0, _wasmParser.decode)(ab);\n  return addWithAST(ast, ab, newNodes);\n}\n\nfunction addWithAST(ast, ab, newNodes) {\n  // Sort nodes by insertion order\n  sortBySectionOrder(newNodes);\n  var uint8Buffer = new Uint8Array(ab); // Map node into operations\n\n  var operations = newNodes.map(function (n) {\n    return {\n      kind: \"add\",\n      node: n\n    };\n  });\n  uint8Buffer = (0, _apply.applyOperations)(ast, uint8Buffer, operations);\n  return uint8Buffer.buffer;\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}