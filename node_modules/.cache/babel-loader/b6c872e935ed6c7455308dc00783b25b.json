{"ast":null,"code":"var generate = require('css-tree').generate;\n\nvar specificity = require('./specificity');\n\nvar nonFreezePseudoElements = {\n  'first-letter': true,\n  'first-line': true,\n  'after': true,\n  'before': true\n};\nvar nonFreezePseudoClasses = {\n  'link': true,\n  'visited': true,\n  'hover': true,\n  'active': true,\n  'first-letter': true,\n  'first-line': true,\n  'after': true,\n  'before': true\n};\n\nmodule.exports = function freeze(node, usageData) {\n  var pseudos = Object.create(null);\n  var hasPseudo = false;\n  node.prelude.children.each(function (simpleSelector) {\n    var tagName = '*';\n    var scope = 0;\n    simpleSelector.children.each(function (node) {\n      switch (node.type) {\n        case 'ClassSelector':\n          if (usageData && usageData.scopes) {\n            var classScope = usageData.scopes[node.name] || 0;\n\n            if (scope !== 0 && classScope !== scope) {\n              throw new Error('Selector can\\'t has classes from different scopes: ' + generate(simpleSelector));\n            }\n\n            scope = classScope;\n          }\n\n          break;\n\n        case 'PseudoClassSelector':\n          var name = node.name.toLowerCase();\n\n          if (!nonFreezePseudoClasses.hasOwnProperty(name)) {\n            pseudos[':' + name] = true;\n            hasPseudo = true;\n          }\n\n          break;\n\n        case 'PseudoElementSelector':\n          var name = node.name.toLowerCase();\n\n          if (!nonFreezePseudoElements.hasOwnProperty(name)) {\n            pseudos['::' + name] = true;\n            hasPseudo = true;\n          }\n\n          break;\n\n        case 'TypeSelector':\n          tagName = node.name.toLowerCase();\n          break;\n\n        case 'AttributeSelector':\n          if (node.flags) {\n            pseudos['[' + node.flags.toLowerCase() + ']'] = true;\n            hasPseudo = true;\n          }\n\n          break;\n\n        case 'WhiteSpace':\n        case 'Combinator':\n          tagName = '*';\n          break;\n      }\n    });\n    simpleSelector.compareMarker = specificity(simpleSelector).toString();\n    simpleSelector.id = null; // pre-init property to avoid multiple hidden class\n\n    simpleSelector.id = generate(simpleSelector);\n\n    if (scope) {\n      simpleSelector.compareMarker += ':' + scope;\n    }\n\n    if (tagName !== '*') {\n      simpleSelector.compareMarker += ',' + tagName;\n    }\n  }); // add property to all rule nodes to avoid multiple hidden class\n\n  node.pseudoSignature = hasPseudo && Object.keys(pseudos).sort().join(',');\n};","map":{"version":3,"names":["generate","require","specificity","nonFreezePseudoElements","nonFreezePseudoClasses","module","exports","freeze","node","usageData","pseudos","Object","create","hasPseudo","prelude","children","each","simpleSelector","tagName","scope","type","scopes","classScope","name","Error","toLowerCase","hasOwnProperty","flags","compareMarker","toString","id","pseudoSignature","keys","sort","join"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/csso/lib/restructure/prepare/processSelector.js"],"sourcesContent":["var generate = require('css-tree').generate;\nvar specificity = require('./specificity');\n\nvar nonFreezePseudoElements = {\n    'first-letter': true,\n    'first-line': true,\n    'after': true,\n    'before': true\n};\nvar nonFreezePseudoClasses = {\n    'link': true,\n    'visited': true,\n    'hover': true,\n    'active': true,\n    'first-letter': true,\n    'first-line': true,\n    'after': true,\n    'before': true\n};\n\nmodule.exports = function freeze(node, usageData) {\n    var pseudos = Object.create(null);\n    var hasPseudo = false;\n\n    node.prelude.children.each(function(simpleSelector) {\n        var tagName = '*';\n        var scope = 0;\n\n        simpleSelector.children.each(function(node) {\n            switch (node.type) {\n                case 'ClassSelector':\n                    if (usageData && usageData.scopes) {\n                        var classScope = usageData.scopes[node.name] || 0;\n\n                        if (scope !== 0 && classScope !== scope) {\n                            throw new Error('Selector can\\'t has classes from different scopes: ' + generate(simpleSelector));\n                        }\n\n                        scope = classScope;\n                    }\n                    break;\n\n                case 'PseudoClassSelector':\n                    var name = node.name.toLowerCase();\n\n                    if (!nonFreezePseudoClasses.hasOwnProperty(name)) {\n                        pseudos[':' + name] = true;\n                        hasPseudo = true;\n                    }\n                    break;\n\n                case 'PseudoElementSelector':\n                    var name = node.name.toLowerCase();\n\n                    if (!nonFreezePseudoElements.hasOwnProperty(name)) {\n                        pseudos['::' + name] = true;\n                        hasPseudo = true;\n                    }\n                    break;\n\n                case 'TypeSelector':\n                    tagName = node.name.toLowerCase();\n                    break;\n\n                case 'AttributeSelector':\n                    if (node.flags) {\n                        pseudos['[' + node.flags.toLowerCase() + ']'] = true;\n                        hasPseudo = true;\n                    }\n                    break;\n\n                case 'WhiteSpace':\n                case 'Combinator':\n                    tagName = '*';\n                    break;\n            }\n        });\n\n        simpleSelector.compareMarker = specificity(simpleSelector).toString();\n        simpleSelector.id = null; // pre-init property to avoid multiple hidden class\n        simpleSelector.id = generate(simpleSelector);\n\n        if (scope) {\n            simpleSelector.compareMarker += ':' + scope;\n        }\n\n        if (tagName !== '*') {\n            simpleSelector.compareMarker += ',' + tagName;\n        }\n    });\n\n    // add property to all rule nodes to avoid multiple hidden class\n    node.pseudoSignature = hasPseudo && Object.keys(pseudos).sort().join(',');\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}