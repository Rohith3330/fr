{"ast":null,"code":"/**\n * @fileoverview Prevent usage of `javascript:` URLs\n * @author Sergei Startsev\n */\n'use strict';\n\nconst docsUrl = require('../util/docsUrl');\n\nconst report = require('../util/report'); // ------------------------------------------------------------------------------\n// Rule Definition\n// ------------------------------------------------------------------------------\n// https://github.com/facebook/react/blob/d0ebde77f6d1232cefc0da184d731943d78e86f2/packages/react-dom/src/shared/sanitizeURL.js#L30\n\n/* eslint-disable-next-line max-len, no-control-regex */\n\n\nconst isJavaScriptProtocol = /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:/i;\n\nfunction hasJavaScriptProtocol(attr) {\n  return attr.value && attr.value.type === 'Literal' && isJavaScriptProtocol.test(attr.value.value);\n}\n\nfunction shouldVerifyElement(node, config) {\n  const name = node.name && node.name.name;\n  return name === 'a' || config.find(i => i.name === name);\n}\n\nfunction shouldVerifyProp(node, config) {\n  const name = node.name && node.name.name;\n  const parentName = node.parent.name && node.parent.name.name;\n\n  if (parentName === 'a' && name === 'href') {\n    return true;\n  }\n\n  const el = config.find(i => i.name === parentName);\n\n  if (!el) {\n    return false;\n  }\n\n  const props = el.props || [];\n  return node.name && props.indexOf(name) !== -1;\n}\n\nconst messages = {\n  noScriptURL: 'A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML, try using dangerouslySetInnerHTML instead.'\n};\nmodule.exports = {\n  meta: {\n    docs: {\n      description: 'Disallow usage of `javascript:` URLs',\n      category: 'Best Practices',\n      recommended: false,\n      url: docsUrl('jsx-no-script-url')\n    },\n    messages,\n    schema: [{\n      type: 'array',\n      uniqueItems: true,\n      items: {\n        type: 'object',\n        properties: {\n          name: {\n            type: 'string'\n          },\n          props: {\n            type: 'array',\n            items: {\n              type: 'string',\n              uniqueItems: true\n            }\n          }\n        },\n        required: ['name', 'props'],\n        additionalProperties: false\n      }\n    }]\n  },\n\n  create(context) {\n    const config = context.options[0] || [];\n    return {\n      JSXAttribute(node) {\n        const parent = node.parent;\n\n        if (shouldVerifyElement(parent, config) && shouldVerifyProp(node, config) && hasJavaScriptProtocol(node)) {\n          report(context, messages.noScriptURL, 'noScriptURL', {\n            node\n          });\n        }\n      }\n\n    };\n  }\n\n};","map":{"version":3,"names":["docsUrl","require","report","isJavaScriptProtocol","hasJavaScriptProtocol","attr","value","type","test","shouldVerifyElement","node","config","name","find","i","shouldVerifyProp","parentName","parent","el","props","indexOf","messages","noScriptURL","module","exports","meta","docs","description","category","recommended","url","schema","uniqueItems","items","properties","required","additionalProperties","create","context","options","JSXAttribute"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/eslint-plugin-react/lib/rules/jsx-no-script-url.js"],"sourcesContent":["/**\n * @fileoverview Prevent usage of `javascript:` URLs\n * @author Sergei Startsev\n */\n\n'use strict';\n\nconst docsUrl = require('../util/docsUrl');\nconst report = require('../util/report');\n\n// ------------------------------------------------------------------------------\n// Rule Definition\n// ------------------------------------------------------------------------------\n\n// https://github.com/facebook/react/blob/d0ebde77f6d1232cefc0da184d731943d78e86f2/packages/react-dom/src/shared/sanitizeURL.js#L30\n/* eslint-disable-next-line max-len, no-control-regex */\nconst isJavaScriptProtocol = /^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:/i;\n\nfunction hasJavaScriptProtocol(attr) {\n  return attr.value && attr.value.type === 'Literal'\n    && isJavaScriptProtocol.test(attr.value.value);\n}\n\nfunction shouldVerifyElement(node, config) {\n  const name = node.name && node.name.name;\n  return name === 'a' || config.find((i) => i.name === name);\n}\n\nfunction shouldVerifyProp(node, config) {\n  const name = node.name && node.name.name;\n  const parentName = node.parent.name && node.parent.name.name;\n\n  if (parentName === 'a' && name === 'href') {\n    return true;\n  }\n\n  const el = config.find((i) => i.name === parentName);\n  if (!el) {\n    return false;\n  }\n\n  const props = el.props || [];\n  return node.name && props.indexOf(name) !== -1;\n}\n\nconst messages = {\n  noScriptURL: 'A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML, try using dangerouslySetInnerHTML instead.',\n};\n\nmodule.exports = {\n  meta: {\n    docs: {\n      description: 'Disallow usage of `javascript:` URLs',\n      category: 'Best Practices',\n      recommended: false,\n      url: docsUrl('jsx-no-script-url'),\n    },\n\n    messages,\n\n    schema: [{\n      type: 'array',\n      uniqueItems: true,\n      items: {\n        type: 'object',\n        properties: {\n          name: {\n            type: 'string',\n          },\n          props: {\n            type: 'array',\n            items: {\n              type: 'string',\n              uniqueItems: true,\n            },\n          },\n        },\n        required: ['name', 'props'],\n        additionalProperties: false,\n      },\n    }],\n  },\n\n  create(context) {\n    const config = context.options[0] || [];\n    return {\n      JSXAttribute(node) {\n        const parent = node.parent;\n        if (shouldVerifyElement(parent, config) && shouldVerifyProp(node, config) && hasJavaScriptProtocol(node)) {\n          report(context, messages.noScriptURL, 'noScriptURL', {\n            node,\n          });\n        }\n      },\n    };\n  },\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}