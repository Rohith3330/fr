{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _react = require(\"react\");\n\nvar _useStableMemo = _interopRequireDefault(require(\"./useStableMemo\"));\n\nvar _useWillUnmount = _interopRequireDefault(require(\"./useWillUnmount\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * An _immediate_ effect that runs an effect callback when its dependency array\n * changes. This is helpful for updates should must run during render, most\n * commonly state derived from props; a more ergonomic version of https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\n *\n * ```ts\n * function Example({ value }) {\n *   const [intermediaryValue, setValue] = useState(value);\n *\n *   useUpdateImmediateEffect(() => {\n *     setValue(value)\n *   }, [value])\n * ```\n *\n * @category effects\n */\n\n\nfunction useUpdateImmediateEffect(effect, deps) {\n  var firstRef = (0, _react.useRef)(true);\n  var tearDown = (0, _react.useRef)();\n  (0, _useWillUnmount.default)(function () {\n    if (tearDown.current) tearDown.current();\n  });\n  (0, _useStableMemo.default)(function () {\n    if (firstRef.current) {\n      firstRef.current = false;\n      return;\n    }\n\n    if (tearDown.current) tearDown.current();\n    tearDown.current = effect();\n  }, deps);\n}\n\nvar _default = useUpdateImmediateEffect;\nexports.default = _default;","map":{"version":3,"names":["exports","__esModule","default","_react","require","_useStableMemo","_interopRequireDefault","_useWillUnmount","obj","useUpdateImmediateEffect","effect","deps","firstRef","useRef","tearDown","current","_default"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/@restart/hooks/cjs/useUpdateImmediateEffect.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _react = require(\"react\");\n\nvar _useStableMemo = _interopRequireDefault(require(\"./useStableMemo\"));\n\nvar _useWillUnmount = _interopRequireDefault(require(\"./useWillUnmount\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * An _immediate_ effect that runs an effect callback when its dependency array\n * changes. This is helpful for updates should must run during render, most\n * commonly state derived from props; a more ergonomic version of https://reactjs.org/docs/hooks-faq.html#how-do-i-implement-getderivedstatefromprops\n *\n * ```ts\n * function Example({ value }) {\n *   const [intermediaryValue, setValue] = useState(value);\n *\n *   useUpdateImmediateEffect(() => {\n *     setValue(value)\n *   }, [value])\n * ```\n *\n * @category effects\n */\nfunction useUpdateImmediateEffect(effect, deps) {\n  var firstRef = (0, _react.useRef)(true);\n  var tearDown = (0, _react.useRef)();\n  (0, _useWillUnmount.default)(function () {\n    if (tearDown.current) tearDown.current();\n  });\n  (0, _useStableMemo.default)(function () {\n    if (firstRef.current) {\n      firstRef.current = false;\n      return;\n    }\n\n    if (tearDown.current) tearDown.current();\n    tearDown.current = effect();\n  }, deps);\n}\n\nvar _default = useUpdateImmediateEffect;\nexports.default = _default;"],"mappings":"AAAA;;AAEAA,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAACE,OAAR,GAAkB,KAAK,CAAvB;;AAEA,IAAIC,MAAM,GAAGC,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIC,cAAc,GAAGC,sBAAsB,CAACF,OAAO,CAAC,iBAAD,CAAR,CAA3C;;AAEA,IAAIG,eAAe,GAAGD,sBAAsB,CAACF,OAAO,CAAC,kBAAD,CAAR,CAA5C;;AAEA,SAASE,sBAAT,CAAgCE,GAAhC,EAAqC;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAACP,UAAX,GAAwBO,GAAxB,GAA8B;IAAEN,OAAO,EAAEM;EAAX,CAArC;AAAwD;AAE/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,wBAAT,CAAkCC,MAAlC,EAA0CC,IAA1C,EAAgD;EAC9C,IAAIC,QAAQ,GAAG,CAAC,GAAGT,MAAM,CAACU,MAAX,EAAmB,IAAnB,CAAf;EACA,IAAIC,QAAQ,GAAG,CAAC,GAAGX,MAAM,CAACU,MAAX,GAAf;EACA,CAAC,GAAGN,eAAe,CAACL,OAApB,EAA6B,YAAY;IACvC,IAAIY,QAAQ,CAACC,OAAb,EAAsBD,QAAQ,CAACC,OAAT;EACvB,CAFD;EAGA,CAAC,GAAGV,cAAc,CAACH,OAAnB,EAA4B,YAAY;IACtC,IAAIU,QAAQ,CAACG,OAAb,EAAsB;MACpBH,QAAQ,CAACG,OAAT,GAAmB,KAAnB;MACA;IACD;;IAED,IAAID,QAAQ,CAACC,OAAb,EAAsBD,QAAQ,CAACC,OAAT;IACtBD,QAAQ,CAACC,OAAT,GAAmBL,MAAM,EAAzB;EACD,CARD,EAQGC,IARH;AASD;;AAED,IAAIK,QAAQ,GAAGP,wBAAf;AACAT,OAAO,CAACE,OAAR,GAAkBc,QAAlB"},"metadata":{},"sourceType":"script"}