{"ast":null,"code":"var path = require('path');\n\nvar test = require('tape');\n\nvar resolve = require('../');\n\nvar resolverDir = path.join(__dirname, '/pathfilter/deep_ref');\n\nvar pathFilterFactory = function (t) {\n  return function (pkg, x, remainder) {\n    t.equal(pkg.version, '1.2.3');\n    t.equal(x, path.join(resolverDir, 'node_modules/deep/ref'));\n    t.equal(remainder, 'ref');\n    return 'alt';\n  };\n};\n\ntest('#62: deep module references and the pathFilter', function (t) {\n  t.test('deep/ref.js', function (st) {\n    st.plan(3);\n    resolve('deep/ref', {\n      basedir: resolverDir\n    }, function (err, res, pkg) {\n      if (err) st.fail(err);\n      st.equal(pkg.version, '1.2.3');\n      st.equal(res, path.join(resolverDir, 'node_modules/deep/ref.js'));\n    });\n    var res = resolve.sync('deep/ref', {\n      basedir: resolverDir\n    });\n    st.equal(res, path.join(resolverDir, 'node_modules/deep/ref.js'));\n  });\n  t.test('deep/deeper/ref', function (st) {\n    st.plan(4);\n    resolve('deep/deeper/ref', {\n      basedir: resolverDir\n    }, function (err, res, pkg) {\n      if (err) t.fail(err);\n      st.notEqual(pkg, undefined);\n      st.equal(pkg.version, '1.2.3');\n      st.equal(res, path.join(resolverDir, 'node_modules/deep/deeper/ref.js'));\n    });\n    var res = resolve.sync('deep/deeper/ref', {\n      basedir: resolverDir\n    });\n    st.equal(res, path.join(resolverDir, 'node_modules/deep/deeper/ref.js'));\n  });\n  t.test('deep/ref alt', function (st) {\n    st.plan(8);\n    var pathFilter = pathFilterFactory(st);\n    var res = resolve.sync('deep/ref', {\n      basedir: resolverDir,\n      pathFilter: pathFilter\n    });\n    st.equal(res, path.join(resolverDir, 'node_modules/deep/alt.js'));\n    resolve('deep/ref', {\n      basedir: resolverDir,\n      pathFilter: pathFilter\n    }, function (err, res, pkg) {\n      if (err) st.fail(err);\n      st.equal(res, path.join(resolverDir, 'node_modules/deep/alt.js'));\n      st.end();\n    });\n  });\n  t.end();\n});","map":{"version":3,"names":["path","require","test","resolve","resolverDir","join","__dirname","pathFilterFactory","t","pkg","x","remainder","equal","version","st","plan","basedir","err","res","fail","sync","notEqual","undefined","pathFilter","end"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/resolve/test/pathfilter.js"],"sourcesContent":["var path = require('path');\nvar test = require('tape');\nvar resolve = require('../');\n\nvar resolverDir = path.join(__dirname, '/pathfilter/deep_ref');\n\nvar pathFilterFactory = function (t) {\n    return function (pkg, x, remainder) {\n        t.equal(pkg.version, '1.2.3');\n        t.equal(x, path.join(resolverDir, 'node_modules/deep/ref'));\n        t.equal(remainder, 'ref');\n        return 'alt';\n    };\n};\n\ntest('#62: deep module references and the pathFilter', function (t) {\n    t.test('deep/ref.js', function (st) {\n        st.plan(3);\n\n        resolve('deep/ref', { basedir: resolverDir }, function (err, res, pkg) {\n            if (err) st.fail(err);\n\n            st.equal(pkg.version, '1.2.3');\n            st.equal(res, path.join(resolverDir, 'node_modules/deep/ref.js'));\n        });\n\n        var res = resolve.sync('deep/ref', { basedir: resolverDir });\n        st.equal(res, path.join(resolverDir, 'node_modules/deep/ref.js'));\n    });\n\n    t.test('deep/deeper/ref', function (st) {\n        st.plan(4);\n\n        resolve(\n            'deep/deeper/ref',\n            { basedir: resolverDir },\n            function (err, res, pkg) {\n                if (err) t.fail(err);\n                st.notEqual(pkg, undefined);\n                st.equal(pkg.version, '1.2.3');\n                st.equal(res, path.join(resolverDir, 'node_modules/deep/deeper/ref.js'));\n            }\n        );\n\n        var res = resolve.sync(\n            'deep/deeper/ref',\n            { basedir: resolverDir }\n        );\n        st.equal(res, path.join(resolverDir, 'node_modules/deep/deeper/ref.js'));\n    });\n\n    t.test('deep/ref alt', function (st) {\n        st.plan(8);\n\n        var pathFilter = pathFilterFactory(st);\n\n        var res = resolve.sync(\n            'deep/ref',\n            { basedir: resolverDir, pathFilter: pathFilter }\n        );\n        st.equal(res, path.join(resolverDir, 'node_modules/deep/alt.js'));\n\n        resolve(\n            'deep/ref',\n            { basedir: resolverDir, pathFilter: pathFilter },\n            function (err, res, pkg) {\n                if (err) st.fail(err);\n                st.equal(res, path.join(resolverDir, 'node_modules/deep/alt.js'));\n                st.end();\n            }\n        );\n    });\n\n    t.end();\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}