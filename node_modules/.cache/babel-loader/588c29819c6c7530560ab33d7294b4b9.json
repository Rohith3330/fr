{"ast":null,"code":"let childProcess = require('child_process');\n\nlet escalade = require('escalade/sync');\n\nlet pico = require('picocolors');\n\nlet path = require('path');\n\nlet fs = require('fs');\n\nconst {\n  detectIndent,\n  detectEOL\n} = require('./utils');\n\nfunction BrowserslistUpdateError(message) {\n  this.name = 'BrowserslistUpdateError';\n  this.message = message;\n  this.browserslist = true;\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, BrowserslistUpdateError);\n  }\n}\n\nBrowserslistUpdateError.prototype = Error.prototype;\n/* c8 ignore next 3 */\n\nfunction defaultPrint(str) {\n  process.stdout.write(str);\n}\n\nfunction detectLockfile() {\n  let packageDir = escalade('.', (dir, names) => {\n    return names.indexOf('package.json') !== -1 ? dir : '';\n  });\n\n  if (!packageDir) {\n    throw new BrowserslistUpdateError('Cannot find package.json. ' + 'Is this the right directory to run `npx update-browserslist-db` in?');\n  }\n\n  let lockfileNpm = path.join(packageDir, 'package-lock.json');\n  let lockfileShrinkwrap = path.join(packageDir, 'npm-shrinkwrap.json');\n  let lockfileYarn = path.join(packageDir, 'yarn.lock');\n  let lockfilePnpm = path.join(packageDir, 'pnpm-lock.yaml');\n\n  if (fs.existsSync(lockfilePnpm)) {\n    return {\n      mode: 'pnpm',\n      file: lockfilePnpm\n    };\n  } else if (fs.existsSync(lockfileNpm)) {\n    return {\n      mode: 'npm',\n      file: lockfileNpm\n    };\n  } else if (fs.existsSync(lockfileYarn)) {\n    let lock = {\n      mode: 'yarn',\n      file: lockfileYarn\n    };\n    lock.content = fs.readFileSync(lock.file).toString();\n    lock.version = /# yarn lockfile v1/.test(lock.content) ? 1 : 2;\n    return lock;\n  } else if (fs.existsSync(lockfileShrinkwrap)) {\n    return {\n      mode: 'npm',\n      file: lockfileShrinkwrap\n    };\n  }\n\n  throw new BrowserslistUpdateError('No lockfile found. Run \"npm install\", \"yarn install\" or \"pnpm install\"');\n}\n\nfunction getLatestInfo(lock) {\n  if (lock.mode === 'yarn') {\n    if (lock.version === 1) {\n      return JSON.parse(childProcess.execSync('yarn info caniuse-lite --json').toString()).data;\n    } else {\n      return JSON.parse(childProcess.execSync('yarn npm info caniuse-lite --json').toString());\n    }\n  }\n\n  return JSON.parse(childProcess.execSync('npm show caniuse-lite --json').toString());\n}\n\nfunction getBrowsers() {\n  let browserslist = require('browserslist');\n\n  return browserslist().reduce((result, entry) => {\n    if (!result[entry[0]]) {\n      result[entry[0]] = [];\n    }\n\n    result[entry[0]].push(entry[1]);\n    return result;\n  }, {});\n}\n\nfunction diffBrowsers(old, current) {\n  let browsers = Object.keys(old).concat(Object.keys(current).filter(browser => old[browser] === undefined));\n  return browsers.map(browser => {\n    let oldVersions = old[browser] || [];\n    let currentVersions = current[browser] || [];\n    let common = oldVersions.filter(v => currentVersions.includes(v));\n    let added = currentVersions.filter(v => !common.includes(v));\n    let removed = oldVersions.filter(v => !common.includes(v));\n    return removed.map(v => pico.red('- ' + browser + ' ' + v)).concat(added.map(v => pico.green('+ ' + browser + ' ' + v)));\n  }).reduce((result, array) => result.concat(array), []).join('\\n');\n}\n\nfunction updateNpmLockfile(lock, latest) {\n  let metadata = {\n    latest,\n    versions: []\n  };\n  let content = deletePackage(JSON.parse(lock.content), metadata);\n  metadata.content = JSON.stringify(content, null, detectIndent(lock.content));\n  return metadata;\n}\n\nfunction deletePackage(node, metadata) {\n  if (node.dependencies) {\n    if (node.dependencies['caniuse-lite']) {\n      let version = node.dependencies['caniuse-lite'].version;\n      metadata.versions[version] = true;\n      delete node.dependencies['caniuse-lite'];\n    }\n\n    for (let i in node.dependencies) {\n      node.dependencies[i] = deletePackage(node.dependencies[i], metadata);\n    }\n  }\n\n  return node;\n}\n\nlet yarnVersionRe = /version \"(.*?)\"/;\n\nfunction updateYarnLockfile(lock, latest) {\n  let blocks = lock.content.split(/(\\n{2,})/).map(block => {\n    return block.split('\\n');\n  });\n  let versions = {};\n  blocks.forEach(lines => {\n    if (lines[0].indexOf('caniuse-lite@') !== -1) {\n      let match = yarnVersionRe.exec(lines[1]);\n      versions[match[1]] = true;\n\n      if (match[1] !== latest.version) {\n        lines[1] = lines[1].replace(/version \"[^\"]+\"/, 'version \"' + latest.version + '\"');\n        lines[2] = lines[2].replace(/resolved \"[^\"]+\"/, 'resolved \"' + latest.dist.tarball + '\"');\n\n        if (lines.length === 4) {\n          lines[3] = latest.dist.integrity ? lines[3].replace(/integrity .+/, 'integrity ' + latest.dist.integrity) : '';\n        }\n      }\n    }\n  });\n  let content = blocks.map(lines => lines.join('\\n')).join('');\n  return {\n    content,\n    versions\n  };\n}\n\nfunction updateLockfile(lock, latest) {\n  if (!lock.content) lock.content = fs.readFileSync(lock.file).toString();\n  let updatedLockFile;\n\n  if (lock.mode === 'yarn') {\n    updatedLockFile = updateYarnLockfile(lock, latest);\n  } else {\n    updatedLockFile = updateNpmLockfile(lock, latest);\n  }\n\n  updatedLockFile.content = updatedLockFile.content.replace(/\\n/g, detectEOL(lock.content));\n  return updatedLockFile;\n}\n\nfunction updatePackageManually(print, lock, latest) {\n  let lockfileData = updateLockfile(lock, latest);\n  let caniuseVersions = Object.keys(lockfileData.versions).sort();\n\n  if (caniuseVersions.length === 1 && caniuseVersions[0] === latest.version) {\n    print('Installed version:  ' + pico.bold(pico.green(latest.version)) + '\\n' + pico.bold(pico.green('caniuse-lite is up to date')) + '\\n');\n    return;\n  }\n\n  if (caniuseVersions.length === 0) {\n    caniuseVersions[0] = 'none';\n  }\n\n  print('Installed version' + (caniuseVersions.length === 1 ? ':  ' : 's: ') + pico.bold(pico.red(caniuseVersions.join(', '))) + '\\n' + 'Removing old caniuse-lite from lock file\\n');\n  fs.writeFileSync(lock.file, lockfileData.content);\n  let install = lock.mode === 'yarn' ? 'yarn add -W' : lock.mode + ' install';\n  print('Installing new caniuse-lite version\\n' + pico.yellow('$ ' + install + ' caniuse-lite') + '\\n');\n\n  try {\n    childProcess.execSync(install + ' caniuse-lite');\n  } catch (e)\n  /* c8 ignore start */\n  {\n    print(pico.red('\\n' + e.stack + '\\n\\n' + 'Problem with `' + install + ' caniuse-lite` call. ' + 'Run it manually.\\n'));\n    process.exit(1);\n  }\n  /* c8 ignore end */\n\n\n  let del = lock.mode === 'yarn' ? 'yarn remove -W' : lock.mode + ' uninstall';\n  print('Cleaning package.json dependencies from caniuse-lite\\n' + pico.yellow('$ ' + del + ' caniuse-lite') + '\\n');\n  childProcess.execSync(del + ' caniuse-lite');\n}\n\nfunction updateWith(print, cmd) {\n  print('Updating caniuse-lite version\\n' + pico.yellow('$ ' + cmd) + '\\n');\n\n  try {\n    childProcess.execSync(cmd);\n  } catch (e)\n  /* c8 ignore start */\n  {\n    print(pico.red(e.stdout.toString()));\n    print(pico.red('\\n' + e.stack + '\\n\\n' + 'Problem with `' + cmd + '` call. ' + 'Run it manually.\\n'));\n    process.exit(1);\n  }\n  /* c8 ignore end */\n\n}\n\nmodule.exports = function updateDB() {\n  let print = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultPrint;\n  let lock = detectLockfile();\n  let latest = getLatestInfo(lock);\n  let listError;\n  let oldList;\n\n  try {\n    oldList = getBrowsers();\n  } catch (e) {\n    listError = e;\n  }\n\n  print('Latest version:     ' + pico.bold(pico.green(latest.version)) + '\\n');\n\n  if (lock.mode === 'yarn' && lock.version !== 1) {\n    updateWith(print, 'yarn up -R caniuse-lite');\n  } else if (lock.mode === 'pnpm') {\n    updateWith(print, 'pnpm up caniuse-lite');\n  } else {\n    updatePackageManually(print, lock, latest);\n  }\n\n  print('caniuse-lite has been successfully updated\\n');\n  let newList;\n\n  if (!listError) {\n    try {\n      newList = getBrowsers();\n    } catch (e)\n    /* c8 ignore start */\n    {\n      listError = e;\n    }\n    /* c8 ignore end */\n\n  }\n\n  if (listError) {\n    print(pico.red('\\n' + listError.stack + '\\n\\n' + 'Problem with browser list retrieval.\\n' + 'Target browser changes wonâ€™t be shown.\\n'));\n  } else {\n    let changes = diffBrowsers(oldList, newList);\n\n    if (changes) {\n      print('\\nTarget browser changes:\\n');\n      print(changes + '\\n');\n    } else {\n      print('\\n' + pico.green('No target browser changes') + '\\n');\n    }\n  }\n};","map":{"version":3,"names":["childProcess","require","escalade","pico","path","fs","detectIndent","detectEOL","BrowserslistUpdateError","message","name","browserslist","Error","captureStackTrace","prototype","defaultPrint","str","process","stdout","write","detectLockfile","packageDir","dir","names","indexOf","lockfileNpm","join","lockfileShrinkwrap","lockfileYarn","lockfilePnpm","existsSync","mode","file","lock","content","readFileSync","toString","version","test","getLatestInfo","JSON","parse","execSync","data","getBrowsers","reduce","result","entry","push","diffBrowsers","old","current","browsers","Object","keys","concat","filter","browser","undefined","map","oldVersions","currentVersions","common","v","includes","added","removed","red","green","array","updateNpmLockfile","latest","metadata","versions","deletePackage","stringify","node","dependencies","i","yarnVersionRe","updateYarnLockfile","blocks","split","block","forEach","lines","match","exec","replace","dist","tarball","length","integrity","updateLockfile","updatedLockFile","updatePackageManually","print","lockfileData","caniuseVersions","sort","bold","writeFileSync","install","yellow","e","stack","exit","del","updateWith","cmd","module","exports","updateDB","listError","oldList","newList","changes"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/update-browserslist-db/index.js"],"sourcesContent":["let childProcess = require('child_process')\nlet escalade = require('escalade/sync')\nlet pico = require('picocolors')\nlet path = require('path')\nlet fs = require('fs')\n\nconst { detectIndent, detectEOL } = require('./utils')\n\nfunction BrowserslistUpdateError(message) {\n  this.name = 'BrowserslistUpdateError'\n  this.message = message\n  this.browserslist = true\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, BrowserslistUpdateError)\n  }\n}\n\nBrowserslistUpdateError.prototype = Error.prototype\n\n/* c8 ignore next 3 */\nfunction defaultPrint(str) {\n  process.stdout.write(str)\n}\n\nfunction detectLockfile() {\n  let packageDir = escalade('.', (dir, names) => {\n    return names.indexOf('package.json') !== -1 ? dir : ''\n  })\n\n  if (!packageDir) {\n    throw new BrowserslistUpdateError(\n      'Cannot find package.json. ' +\n        'Is this the right directory to run `npx update-browserslist-db` in?'\n    )\n  }\n\n  let lockfileNpm = path.join(packageDir, 'package-lock.json')\n  let lockfileShrinkwrap = path.join(packageDir, 'npm-shrinkwrap.json')\n  let lockfileYarn = path.join(packageDir, 'yarn.lock')\n  let lockfilePnpm = path.join(packageDir, 'pnpm-lock.yaml')\n\n  if (fs.existsSync(lockfilePnpm)) {\n    return { mode: 'pnpm', file: lockfilePnpm }\n  } else if (fs.existsSync(lockfileNpm)) {\n    return { mode: 'npm', file: lockfileNpm }\n  } else if (fs.existsSync(lockfileYarn)) {\n    let lock = { mode: 'yarn', file: lockfileYarn }\n    lock.content = fs.readFileSync(lock.file).toString()\n    lock.version = /# yarn lockfile v1/.test(lock.content) ? 1 : 2\n    return lock\n  } else if (fs.existsSync(lockfileShrinkwrap)) {\n    return { mode: 'npm', file: lockfileShrinkwrap }\n  }\n  throw new BrowserslistUpdateError(\n    'No lockfile found. Run \"npm install\", \"yarn install\" or \"pnpm install\"'\n  )\n}\n\nfunction getLatestInfo(lock) {\n  if (lock.mode === 'yarn') {\n    if (lock.version === 1) {\n      return JSON.parse(\n        childProcess.execSync('yarn info caniuse-lite --json').toString()\n      ).data\n    } else {\n      return JSON.parse(\n        childProcess.execSync('yarn npm info caniuse-lite --json').toString()\n      )\n    }\n  }\n  return JSON.parse(\n    childProcess.execSync('npm show caniuse-lite --json').toString()\n  )\n}\n\nfunction getBrowsers() {\n  let browserslist = require('browserslist')\n  return browserslist().reduce((result, entry) => {\n    if (!result[entry[0]]) {\n      result[entry[0]] = []\n    }\n    result[entry[0]].push(entry[1])\n    return result\n  }, {})\n}\n\nfunction diffBrowsers(old, current) {\n  let browsers = Object.keys(old).concat(\n    Object.keys(current).filter(browser => old[browser] === undefined)\n  )\n  return browsers\n    .map(browser => {\n      let oldVersions = old[browser] || []\n      let currentVersions = current[browser] || []\n      let common = oldVersions.filter(v => currentVersions.includes(v))\n      let added = currentVersions.filter(v => !common.includes(v))\n      let removed = oldVersions.filter(v => !common.includes(v))\n      return removed\n        .map(v => pico.red('- ' + browser + ' ' + v))\n        .concat(added.map(v => pico.green('+ ' + browser + ' ' + v)))\n    })\n    .reduce((result, array) => result.concat(array), [])\n    .join('\\n')\n}\n\nfunction updateNpmLockfile(lock, latest) {\n  let metadata = { latest, versions: [] }\n  let content = deletePackage(JSON.parse(lock.content), metadata)\n  metadata.content = JSON.stringify(content, null, detectIndent(lock.content))\n  return metadata\n}\n\nfunction deletePackage(node, metadata) {\n  if (node.dependencies) {\n    if (node.dependencies['caniuse-lite']) {\n      let version = node.dependencies['caniuse-lite'].version\n      metadata.versions[version] = true\n      delete node.dependencies['caniuse-lite']\n    }\n    for (let i in node.dependencies) {\n      node.dependencies[i] = deletePackage(node.dependencies[i], metadata)\n    }\n  }\n  return node\n}\n\nlet yarnVersionRe = /version \"(.*?)\"/\n\nfunction updateYarnLockfile(lock, latest) {\n  let blocks = lock.content.split(/(\\n{2,})/).map(block => {\n    return block.split('\\n')\n  })\n  let versions = {}\n  blocks.forEach(lines => {\n    if (lines[0].indexOf('caniuse-lite@') !== -1) {\n      let match = yarnVersionRe.exec(lines[1])\n      versions[match[1]] = true\n      if (match[1] !== latest.version) {\n        lines[1] = lines[1].replace(\n          /version \"[^\"]+\"/,\n          'version \"' + latest.version + '\"'\n        )\n        lines[2] = lines[2].replace(\n          /resolved \"[^\"]+\"/,\n          'resolved \"' + latest.dist.tarball + '\"'\n        )\n        if (lines.length === 4) {\n          lines[3] = latest.dist.integrity\n            ? lines[3].replace(\n                /integrity .+/,\n                'integrity ' + latest.dist.integrity\n              )\n            : ''\n        }\n      }\n    }\n  })\n  let content = blocks.map(lines => lines.join('\\n')).join('')\n  return { content, versions }\n}\n\nfunction updateLockfile(lock, latest) {\n  if (!lock.content) lock.content = fs.readFileSync(lock.file).toString()\n\n  let updatedLockFile\n  if (lock.mode === 'yarn') {\n    updatedLockFile = updateYarnLockfile(lock, latest)\n  } else {\n    updatedLockFile = updateNpmLockfile(lock, latest)\n  }\n  updatedLockFile.content = updatedLockFile.content.replace(\n    /\\n/g,\n    detectEOL(lock.content)\n  )\n  return updatedLockFile\n}\n\nfunction updatePackageManually(print, lock, latest) {\n  let lockfileData = updateLockfile(lock, latest)\n  let caniuseVersions = Object.keys(lockfileData.versions).sort()\n  if (caniuseVersions.length === 1 && caniuseVersions[0] === latest.version) {\n    print(\n      'Installed version:  ' +\n        pico.bold(pico.green(latest.version)) +\n        '\\n' +\n        pico.bold(pico.green('caniuse-lite is up to date')) +\n        '\\n'\n    )\n    return\n  }\n\n  if (caniuseVersions.length === 0) {\n    caniuseVersions[0] = 'none'\n  }\n  print(\n    'Installed version' +\n      (caniuseVersions.length === 1 ? ':  ' : 's: ') +\n      pico.bold(pico.red(caniuseVersions.join(', '))) +\n      '\\n' +\n      'Removing old caniuse-lite from lock file\\n'\n  )\n  fs.writeFileSync(lock.file, lockfileData.content)\n\n  let install = lock.mode === 'yarn' ? 'yarn add -W' : lock.mode + ' install'\n  print(\n    'Installing new caniuse-lite version\\n' +\n      pico.yellow('$ ' + install + ' caniuse-lite') +\n      '\\n'\n  )\n  try {\n    childProcess.execSync(install + ' caniuse-lite')\n  } catch (e) /* c8 ignore start */ {\n    print(\n      pico.red(\n        '\\n' +\n          e.stack +\n          '\\n\\n' +\n          'Problem with `' +\n          install +\n          ' caniuse-lite` call. ' +\n          'Run it manually.\\n'\n      )\n    )\n    process.exit(1)\n  } /* c8 ignore end */\n\n  let del = lock.mode === 'yarn' ? 'yarn remove -W' : lock.mode + ' uninstall'\n  print(\n    'Cleaning package.json dependencies from caniuse-lite\\n' +\n      pico.yellow('$ ' + del + ' caniuse-lite') +\n      '\\n'\n  )\n  childProcess.execSync(del + ' caniuse-lite')\n}\n\nfunction updateWith(print, cmd) {\n  print('Updating caniuse-lite version\\n' + pico.yellow('$ ' + cmd) + '\\n')\n  try {\n    childProcess.execSync(cmd)\n  } catch (e) /* c8 ignore start */ {\n    print(pico.red(e.stdout.toString()))\n    print(\n      pico.red(\n        '\\n' +\n          e.stack +\n          '\\n\\n' +\n          'Problem with `' +\n          cmd +\n          '` call. ' +\n          'Run it manually.\\n'\n      )\n    )\n    process.exit(1)\n  } /* c8 ignore end */\n}\n\nmodule.exports = function updateDB(print = defaultPrint) {\n  let lock = detectLockfile()\n  let latest = getLatestInfo(lock)\n\n  let listError\n  let oldList\n  try {\n    oldList = getBrowsers()\n  } catch (e) {\n    listError = e\n  }\n\n  print('Latest version:     ' + pico.bold(pico.green(latest.version)) + '\\n')\n\n  if (lock.mode === 'yarn' && lock.version !== 1) {\n    updateWith(print, 'yarn up -R caniuse-lite')\n  } else if (lock.mode === 'pnpm') {\n    updateWith(print, 'pnpm up caniuse-lite')\n  } else {\n    updatePackageManually(print, lock, latest)\n  }\n\n  print('caniuse-lite has been successfully updated\\n')\n\n  let newList\n  if (!listError) {\n    try {\n      newList = getBrowsers()\n    } catch (e) /* c8 ignore start */ {\n      listError = e\n    } /* c8 ignore end */\n  }\n\n  if (listError) {\n    print(\n      pico.red(\n        '\\n' +\n          listError.stack +\n          '\\n\\n' +\n          'Problem with browser list retrieval.\\n' +\n          'Target browser changes wonâ€™t be shown.\\n'\n      )\n    )\n  } else {\n    let changes = diffBrowsers(oldList, newList)\n    if (changes) {\n      print('\\nTarget browser changes:\\n')\n      print(changes + '\\n')\n    } else {\n      print('\\n' + pico.green('No target browser changes') + '\\n')\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}