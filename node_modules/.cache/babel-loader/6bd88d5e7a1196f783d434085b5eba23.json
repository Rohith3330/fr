{"ast":null,"code":"'use strict';\n\nconst browserslist = require('browserslist');\n\nconst {\n  isSupported\n} = require('caniuse-api');\n\nconst fromInitial = require('./data/fromInitial.json');\n\nconst toInitial = require('./data/toInitial.json');\n\nconst initial = 'initial'; // In most of the browser including chrome the initial for `writing-mode` is not `horizontal-tb`. Ref https://github.com/cssnano/cssnano/pull/905\n\nconst defaultIgnoreProps = ['writing-mode', 'transform-box'];\n/**\n * @type {import('postcss').PluginCreator<void>}\n * @return {import('postcss').Plugin}\n */\n\nfunction pluginCreator() {\n  return {\n    postcssPlugin: 'postcss-reduce-initial',\n\n    /** @param {import('postcss').Result & {opts: browserslist.Options & {ignore?: string[]}}} result */\n    prepare(result) {\n      const resultOpts = result.opts || {};\n      const browsers = browserslist(null, {\n        stats: resultOpts.stats,\n        path: __dirname,\n        env: resultOpts.env\n      });\n      const initialSupport = isSupported('css-initial-value', browsers);\n      return {\n        OnceExit(css) {\n          css.walkDecls(decl => {\n            const lowerCasedProp = decl.prop.toLowerCase();\n            const ignoreProp = new Set(defaultIgnoreProps.concat(resultOpts.ignore || []));\n\n            if (ignoreProp.has(lowerCasedProp)) {\n              return;\n            }\n\n            if (initialSupport && Object.prototype.hasOwnProperty.call(toInitial, lowerCasedProp) && decl.value.toLowerCase() === toInitial[\n            /** @type {keyof toInitial} */\n            lowerCasedProp]) {\n              decl.value = initial;\n              return;\n            }\n\n            if (decl.value.toLowerCase() !== initial || !fromInitial[\n            /** @type {keyof fromInitial} */\n            lowerCasedProp]) {\n              return;\n            }\n\n            decl.value = fromInitial[\n            /** @type {keyof fromInitial} */\n            lowerCasedProp];\n          });\n        }\n\n      };\n    }\n\n  };\n}\n\npluginCreator.postcss = true;\nmodule.exports = pluginCreator;","map":{"version":3,"names":["browserslist","require","isSupported","fromInitial","toInitial","initial","defaultIgnoreProps","pluginCreator","postcssPlugin","prepare","result","resultOpts","opts","browsers","stats","path","__dirname","env","initialSupport","OnceExit","css","walkDecls","decl","lowerCasedProp","prop","toLowerCase","ignoreProp","Set","concat","ignore","has","Object","prototype","hasOwnProperty","call","value","postcss","module","exports"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/postcss-reduce-initial/src/index.js"],"sourcesContent":["'use strict';\nconst browserslist = require('browserslist');\nconst { isSupported } = require('caniuse-api');\nconst fromInitial = require('./data/fromInitial.json');\nconst toInitial = require('./data/toInitial.json');\n\nconst initial = 'initial';\n\n// In most of the browser including chrome the initial for `writing-mode` is not `horizontal-tb`. Ref https://github.com/cssnano/cssnano/pull/905\nconst defaultIgnoreProps = ['writing-mode', 'transform-box'];\n\n/**\n * @type {import('postcss').PluginCreator<void>}\n * @return {import('postcss').Plugin}\n */\nfunction pluginCreator() {\n  return {\n    postcssPlugin: 'postcss-reduce-initial',\n    /** @param {import('postcss').Result & {opts: browserslist.Options & {ignore?: string[]}}} result */\n    prepare(result) {\n      const resultOpts = result.opts || {};\n      const browsers = browserslist(null, {\n        stats: resultOpts.stats,\n        path: __dirname,\n        env: resultOpts.env,\n      });\n\n      const initialSupport = isSupported('css-initial-value', browsers);\n      return {\n        OnceExit(css) {\n          css.walkDecls((decl) => {\n            const lowerCasedProp = decl.prop.toLowerCase();\n            const ignoreProp = new Set(\n              defaultIgnoreProps.concat(resultOpts.ignore || [])\n            );\n\n            if (ignoreProp.has(lowerCasedProp)) {\n              return;\n            }\n\n            if (\n              initialSupport &&\n              Object.prototype.hasOwnProperty.call(toInitial, lowerCasedProp) &&\n              decl.value.toLowerCase() ===\n                toInitial[/** @type {keyof toInitial} */ (lowerCasedProp)]\n            ) {\n              decl.value = initial;\n              return;\n            }\n\n            if (\n              decl.value.toLowerCase() !== initial ||\n              !fromInitial[/** @type {keyof fromInitial} */ (lowerCasedProp)]\n            ) {\n              return;\n            }\n\n            decl.value =\n              fromInitial[/** @type {keyof fromInitial} */ (lowerCasedProp)];\n          });\n        },\n      };\n    },\n  };\n}\n\npluginCreator.postcss = true;\nmodule.exports = pluginCreator;\n"],"mappings":"AAAA;;AACA,MAAMA,YAAY,GAAGC,OAAO,CAAC,cAAD,CAA5B;;AACA,MAAM;EAAEC;AAAF,IAAkBD,OAAO,CAAC,aAAD,CAA/B;;AACA,MAAME,WAAW,GAAGF,OAAO,CAAC,yBAAD,CAA3B;;AACA,MAAMG,SAAS,GAAGH,OAAO,CAAC,uBAAD,CAAzB;;AAEA,MAAMI,OAAO,GAAG,SAAhB,C,CAEA;;AACA,MAAMC,kBAAkB,GAAG,CAAC,cAAD,EAAiB,eAAjB,CAA3B;AAEA;AACA;AACA;AACA;;AACA,SAASC,aAAT,GAAyB;EACvB,OAAO;IACLC,aAAa,EAAE,wBADV;;IAEL;IACAC,OAAO,CAACC,MAAD,EAAS;MACd,MAAMC,UAAU,GAAGD,MAAM,CAACE,IAAP,IAAe,EAAlC;MACA,MAAMC,QAAQ,GAAGb,YAAY,CAAC,IAAD,EAAO;QAClCc,KAAK,EAAEH,UAAU,CAACG,KADgB;QAElCC,IAAI,EAAEC,SAF4B;QAGlCC,GAAG,EAAEN,UAAU,CAACM;MAHkB,CAAP,CAA7B;MAMA,MAAMC,cAAc,GAAGhB,WAAW,CAAC,mBAAD,EAAsBW,QAAtB,CAAlC;MACA,OAAO;QACLM,QAAQ,CAACC,GAAD,EAAM;UACZA,GAAG,CAACC,SAAJ,CAAeC,IAAD,IAAU;YACtB,MAAMC,cAAc,GAAGD,IAAI,CAACE,IAAL,CAAUC,WAAV,EAAvB;YACA,MAAMC,UAAU,GAAG,IAAIC,GAAJ,CACjBrB,kBAAkB,CAACsB,MAAnB,CAA0BjB,UAAU,CAACkB,MAAX,IAAqB,EAA/C,CADiB,CAAnB;;YAIA,IAAIH,UAAU,CAACI,GAAX,CAAeP,cAAf,CAAJ,EAAoC;cAClC;YACD;;YAED,IACEL,cAAc,IACda,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqC9B,SAArC,EAAgDmB,cAAhD,CADA,IAEAD,IAAI,CAACa,KAAL,CAAWV,WAAX,OACErB,SAAS;YAAC;YAAgCmB,cAAjC,CAJb,EAKE;cACAD,IAAI,CAACa,KAAL,GAAa9B,OAAb;cACA;YACD;;YAED,IACEiB,IAAI,CAACa,KAAL,CAAWV,WAAX,OAA6BpB,OAA7B,IACA,CAACF,WAAW;YAAC;YAAkCoB,cAAnC,CAFd,EAGE;cACA;YACD;;YAEDD,IAAI,CAACa,KAAL,GACEhC,WAAW;YAAC;YAAkCoB,cAAnC,CADb;UAED,CA7BD;QA8BD;;MAhCI,CAAP;IAkCD;;EA9CI,CAAP;AAgDD;;AAEDhB,aAAa,CAAC6B,OAAd,GAAwB,IAAxB;AACAC,MAAM,CAACC,OAAP,GAAiB/B,aAAjB"},"metadata":{},"sourceType":"script"}