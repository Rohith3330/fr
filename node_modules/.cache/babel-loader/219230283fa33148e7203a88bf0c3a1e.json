{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toType = exports.toString = void 0;\n\nconst Prefix = name => {\n  return '_' + name;\n};\n\nconst AllowedProp = key => {\n  let keys = ['name', 'protocol', 'subtypes'];\n  return keys.includes(key);\n};\n\nconst toString = data => {\n  let formatted = {\n    name: data.name,\n    protocol: data.protocol,\n    subtypes: data.subtypes\n  };\n  let entries = Object.entries(formatted);\n  return entries.filter(_ref => {\n    let [key, val] = _ref;\n    return AllowedProp(key) && val !== undefined;\n  }).reduce((prev, _ref2) => {\n    let [key, val] = _ref2;\n\n    switch (typeof val) {\n      case 'object':\n        val.map(i => prev.push(Prefix(i)));\n        break;\n\n      default:\n        prev.push(Prefix(val));\n        break;\n    }\n\n    return prev;\n  }, []).join('.');\n};\n\nexports.toString = toString;\n\nconst toType = string => {\n  var parts = string.split('.');\n\n  for (let i in parts) {\n    if (parts[i][0] !== '_') continue;\n    parts[i] = parts[i].slice(1);\n  }\n\n  return {\n    name: parts.shift(),\n    protocol: parts.shift() || null,\n    subtypes: parts\n  };\n};\n\nexports.toType = toType;","map":{"version":3,"mappings":";;;;;;;AAcA,MAAMA,MAAM,GAAIC,IAAD,IAAyB;EACpC,OAAO,MAAMA,IAAb;AACH,CAFD;;AASA,MAAMC,WAAW,GAAIC,GAAD,IAAyB;EACzC,IAAIC,IAAI,GAAkB,CAAC,MAAD,EAAQ,UAAR,EAAmB,UAAnB,CAA1B;EACA,OAAOA,IAAI,CAACC,QAAL,CAAcF,GAAd,CAAP;AACH,CAHD;;AAUO,MAAMG,QAAQ,GAAIC,IAAD,IAA2B;EAE/C,IAAIC,SAAS,GAAgB;IACzBP,IAAI,EAAUM,IAAI,CAACN,IADM;IAEzBQ,QAAQ,EAAMF,IAAI,CAACE,QAFM;IAGzBC,QAAQ,EAAMH,IAAI,CAACG;EAHM,CAA7B;EAMA,IAAIC,OAAO,GAAeC,MAAM,CAACD,OAAP,CAAeH,SAAf,CAA1B;EACA,OAAOG,OAAO,CACTE,MADE,CACK;IAAA,IAAC,CAACV,GAAD,EAAKW,GAAL,CAAD;IAAA,OAAeZ,WAAW,CAACC,GAAD,CAAX,IAAoBW,GAAG,KAAKC,SAA3C;EAAA,CADL,EAEFC,MAFE,CAEK,CAACC,IAAD,YAAoB;IAAA,IAAb,CAACd,GAAD,EAAKW,GAAL,CAAa;;IACxB,QAAO,OAAOA,GAAd;MACI,KAAK,QAAL;QACIA,GAAG,CAACI,GAAJ,CAASC,CAAD,IAAeF,IAAI,CAACG,IAAL,CAAUpB,MAAM,CAACmB,CAAD,CAAhB,CAAvB;QACA;;MACJ;QACIF,IAAI,CAACG,IAAL,CAAUpB,MAAM,CAACc,GAAD,CAAhB;QACA;IANR;;IAQA,OAAOG,IAAP;EACH,CAZE,EAYD,EAZC,EAaFI,IAbE,CAaG,GAbH,CAAP;AAcH,CAvBM;;AAAMC,mBAAQhB,QAAR;;AA8BN,MAAMiB,MAAM,GAAIC,MAAD,IAAgC;EAElD,IAAIC,KAAK,GAAkBD,MAAM,CAACE,KAAP,CAAa,GAAb,CAA3B;;EAEA,KAAI,IAAIP,CAAR,IAAaM,KAAb,EAAoB;IAChB,IAAIA,KAAK,CAACN,CAAD,CAAL,CAAS,CAAT,MAAgB,GAApB,EAAyB;IACzBM,KAAK,CAACN,CAAD,CAAL,GAAWM,KAAK,CAACN,CAAD,CAAL,CAASQ,KAAT,CAAe,CAAf,CAAX;EACH;;EAED,OAAO;IACH1B,IAAI,EAAEwB,KAAK,CAACG,KAAN,EADH;IAEHnB,QAAQ,EAAEgB,KAAK,CAACG,KAAN,MAAiB,IAFxB;IAGHlB,QAAQ,EAAEe;EAHP,CAAP;AAKH,CAdM;;AAAMH,iBAAMC,MAAN","names":["Prefix","name","AllowedProp","key","keys","includes","toString","data","formatted","protocol","subtypes","entries","Object","filter","val","undefined","reduce","prev","map","i","push","join","exports","toType","string","parts","split","slice","shift"],"sources":["../../src/lib/service-types.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}