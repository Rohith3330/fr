{"ast":null,"code":"/*\n * Jake JavaScript build tool\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\nconst PROJECT_DIR = process.env.PROJECT_DIR;\n\nlet parseargs = require(`${PROJECT_DIR}/lib/parseargs`);\n\nlet assert = require('assert');\n\nlet optsReg = [{\n  full: 'directory',\n  abbr: 'C',\n  preempts: false,\n  expectValue: true\n}, {\n  full: 'jakefile',\n  abbr: 'f',\n  preempts: false,\n  expectValue: true\n}, {\n  full: 'tasks',\n  abbr: 'T',\n  preempts: true\n}, {\n  full: 'tasks',\n  abbr: 'ls',\n  preempts: true\n}, {\n  full: 'trace',\n  abbr: 't',\n  preempts: false,\n  expectValue: false\n}, {\n  full: 'help',\n  abbr: 'h',\n  preempts: true\n}, {\n  full: 'version',\n  abbr: 'V',\n  preempts: true\n}];\nlet p = new parseargs.Parser(optsReg);\n\nlet z = function (s) {\n  return s.split(' ');\n};\n\nlet res;\nsuite('parseargs', function () {\n  test('long preemptive opt and val with equal-sign, ignore further opts', function () {\n    res = p.parse(z('--tasks=foo --jakefile=asdf'));\n    assert.equal('foo', res.opts.tasks);\n    assert.equal(undefined, res.opts.jakefile);\n  });\n  test('long preemptive opt and val without equal-sign, ignore further opts', function () {\n    res = p.parse(z('--tasks foo --jakefile=asdf'));\n    assert.equal('foo', res.opts.tasks);\n    assert.equal(undefined, res.opts.jakefile);\n  });\n  test('long preemptive opt and no val, ignore further opts', function () {\n    res = p.parse(z('--tasks --jakefile=asdf'));\n    assert.equal(true, res.opts.tasks);\n    assert.equal(undefined, res.opts.jakefile);\n  });\n  test('preemptive opt with no val, should be true', function () {\n    res = p.parse(z('-T'));\n    assert.equal(true, res.opts.tasks);\n  });\n  test('preemptive opt with no val, should be true and ignore further opts', function () {\n    res = p.parse(z('-T -f'));\n    assert.equal(true, res.opts.tasks);\n    assert.equal(undefined, res.opts.jakefile);\n  });\n  test('preemptive opt with val, should be val', function () {\n    res = p.parse(z('-T zoobie -f foo/bar/baz'));\n    assert.equal('zoobie', res.opts.tasks);\n    assert.equal(undefined, res.opts.jakefile);\n  });\n  test('-f expects a value, -t does not (howdy is task-name)', function () {\n    res = p.parse(z('-f zoobie -t howdy'));\n    assert.equal('zoobie', res.opts.jakefile);\n    assert.equal(true, res.opts.trace);\n    assert.equal('howdy', res.taskNames[0]);\n  });\n  test('different order, -f expects a value, -t does not (howdy is task-name)', function () {\n    res = p.parse(z('-f zoobie howdy -t'));\n    assert.equal('zoobie', res.opts.jakefile);\n    assert.equal(true, res.opts.trace);\n    assert.equal('howdy', res.taskNames[0]);\n  });\n  test('-f expects a value, -t does not (foo=bar is env var)', function () {\n    res = p.parse(z('-f zoobie -t foo=bar'));\n    assert.equal('zoobie', res.opts.jakefile);\n    assert.equal(true, res.opts.trace);\n    assert.equal('bar', res.envVars.foo);\n    assert.equal(undefined, res.taskNames[0]);\n  });\n  test('-f expects a value, -t does not (foo=bar is env-var, task-name follows)', function () {\n    res = p.parse(z('-f zoobie -t howdy foo=bar'));\n    assert.equal('zoobie', res.opts.jakefile);\n    assert.equal(true, res.opts.trace);\n    assert.equal('bar', res.envVars.foo);\n    assert.equal('howdy', res.taskNames[0]);\n  });\n  test('-t does not expect a value, -f does (howdy is task-name)', function () {\n    res = p.parse(z('-t howdy -f zoobie'));\n    assert.equal(true, res.opts.trace);\n    assert.equal('zoobie', res.opts.jakefile);\n    assert.equal('howdy', res.taskNames[0]);\n  });\n  test('--trace does not expect a value, -f does (howdy is task-name)', function () {\n    res = p.parse(z('--trace howdy --jakefile zoobie'));\n    assert.equal(true, res.opts.trace);\n    assert.equal('zoobie', res.opts.jakefile);\n    assert.equal('howdy', res.taskNames[0]);\n  });\n  test('--trace does not expect a value (equal), -f does (throw howdy away)', function () {\n    res = p.parse(z('--trace=howdy --jakefile=zoobie'));\n    assert.equal(true, res.opts.trace);\n    assert.equal('zoobie', res.opts.jakefile);\n    assert.equal(undefined, res.taskNames[0]);\n  });\n  /*\n  , test('task-name with positional args', function () {\n    res = p.parse(z('foo:bar[asdf,qwer]'));\n    assert.equal('asdf', p.taskArgs[0]);\n    assert.equal('qwer', p.taskArgs[1]);\n  }\n  , test('opts, env vars, task-name with positional args', function () {\n    res = p.parse(z('-f ./tests/Jakefile -t default[asdf,qwer] foo=bar'));\n    assert.equal('./tests/Jakefile', res.opts.jakefile);\n    assert.equal(true, res.opts.trace);\n    assert.equal('bar', res.envVars.foo);\n    assert.equal('default', res.taskName);\n    assert.equal('asdf', p.taskArgs[0]);\n    assert.equal('qwer', p.taskArgs[1]);\n  }\n  */\n});","map":{"version":3,"names":["PROJECT_DIR","process","env","parseargs","require","assert","optsReg","full","abbr","preempts","expectValue","p","Parser","z","s","split","res","suite","test","parse","equal","opts","tasks","undefined","jakefile","trace","taskNames","envVars","foo"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/jake/test/unit/parseargs.js"],"sourcesContent":["/*\n * Jake JavaScript build tool\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\nconst PROJECT_DIR = process.env.PROJECT_DIR;\n\nlet parseargs = require(`${PROJECT_DIR}/lib/parseargs`);\nlet assert = require('assert');\nlet optsReg = [\n  { full: 'directory',\n    abbr: 'C',\n    preempts: false,\n    expectValue: true\n  },\n  { full: 'jakefile',\n    abbr: 'f',\n    preempts: false,\n    expectValue: true\n  },\n  { full: 'tasks',\n    abbr: 'T',\n    preempts: true\n  },\n  { full: 'tasks',\n    abbr: 'ls',\n    preempts: true\n  },\n  { full: 'trace',\n    abbr: 't',\n    preempts: false,\n    expectValue: false\n  },\n  { full: 'help',\n    abbr: 'h',\n    preempts: true\n  },\n  { full: 'version',\n    abbr: 'V',\n    preempts: true\n  }\n];\nlet p = new parseargs.Parser(optsReg);\nlet z = function (s) { return s.split(' '); };\nlet res;\n\nsuite('parseargs', function () {\n\n  test('long preemptive opt and val with equal-sign, ignore further opts', function () {\n    res = p.parse(z('--tasks=foo --jakefile=asdf'));\n    assert.equal('foo', res.opts.tasks);\n    assert.equal(undefined, res.opts.jakefile);\n  });\n\n  test('long preemptive opt and val without equal-sign, ignore further opts', function () {\n    res = p.parse(z('--tasks foo --jakefile=asdf'));\n    assert.equal('foo', res.opts.tasks);\n    assert.equal(undefined, res.opts.jakefile);\n  });\n\n  test('long preemptive opt and no val, ignore further opts', function () {\n    res = p.parse(z('--tasks --jakefile=asdf'));\n    assert.equal(true, res.opts.tasks);\n    assert.equal(undefined, res.opts.jakefile);\n  });\n\n  test('preemptive opt with no val, should be true', function () {\n    res = p.parse(z('-T'));\n    assert.equal(true, res.opts.tasks);\n  });\n\n  test('preemptive opt with no val, should be true and ignore further opts', function () {\n    res = p.parse(z('-T -f'));\n    assert.equal(true, res.opts.tasks);\n    assert.equal(undefined, res.opts.jakefile);\n  });\n\n  test('preemptive opt with val, should be val', function () {\n    res = p.parse(z('-T zoobie -f foo/bar/baz'));\n    assert.equal('zoobie', res.opts.tasks);\n    assert.equal(undefined, res.opts.jakefile);\n  });\n\n  test('-f expects a value, -t does not (howdy is task-name)', function () {\n    res = p.parse(z('-f zoobie -t howdy'));\n    assert.equal('zoobie', res.opts.jakefile);\n    assert.equal(true, res.opts.trace);\n    assert.equal('howdy', res.taskNames[0]);\n  });\n\n  test('different order, -f expects a value, -t does not (howdy is task-name)', function () {\n    res = p.parse(z('-f zoobie howdy -t'));\n    assert.equal('zoobie', res.opts.jakefile);\n    assert.equal(true, res.opts.trace);\n    assert.equal('howdy', res.taskNames[0]);\n  });\n\n  test('-f expects a value, -t does not (foo=bar is env var)', function () {\n    res = p.parse(z('-f zoobie -t foo=bar'));\n    assert.equal('zoobie', res.opts.jakefile);\n    assert.equal(true, res.opts.trace);\n    assert.equal('bar', res.envVars.foo);\n    assert.equal(undefined, res.taskNames[0]);\n  });\n\n  test('-f expects a value, -t does not (foo=bar is env-var, task-name follows)', function () {\n    res = p.parse(z('-f zoobie -t howdy foo=bar'));\n    assert.equal('zoobie', res.opts.jakefile);\n    assert.equal(true, res.opts.trace);\n    assert.equal('bar', res.envVars.foo);\n    assert.equal('howdy', res.taskNames[0]);\n  });\n\n  test('-t does not expect a value, -f does (howdy is task-name)', function () {\n    res = p.parse(z('-t howdy -f zoobie'));\n    assert.equal(true, res.opts.trace);\n    assert.equal('zoobie', res.opts.jakefile);\n    assert.equal('howdy', res.taskNames[0]);\n  });\n\n  test('--trace does not expect a value, -f does (howdy is task-name)', function () {\n    res = p.parse(z('--trace howdy --jakefile zoobie'));\n    assert.equal(true, res.opts.trace);\n    assert.equal('zoobie', res.opts.jakefile);\n    assert.equal('howdy', res.taskNames[0]);\n  });\n\n  test('--trace does not expect a value (equal), -f does (throw howdy away)', function () {\n    res = p.parse(z('--trace=howdy --jakefile=zoobie'));\n    assert.equal(true, res.opts.trace);\n    assert.equal('zoobie', res.opts.jakefile);\n    assert.equal(undefined, res.taskNames[0]);\n  });\n\n  /*\n, test('task-name with positional args', function () {\n    res = p.parse(z('foo:bar[asdf,qwer]'));\n    assert.equal('asdf', p.taskArgs[0]);\n    assert.equal('qwer', p.taskArgs[1]);\n  }\n\n, test('opts, env vars, task-name with positional args', function () {\n    res = p.parse(z('-f ./tests/Jakefile -t default[asdf,qwer] foo=bar'));\n    assert.equal('./tests/Jakefile', res.opts.jakefile);\n    assert.equal(true, res.opts.trace);\n    assert.equal('bar', res.envVars.foo);\n    assert.equal('default', res.taskName);\n    assert.equal('asdf', p.taskArgs[0]);\n    assert.equal('qwer', p.taskArgs[1]);\n  }\n*/\n\n\n});\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}