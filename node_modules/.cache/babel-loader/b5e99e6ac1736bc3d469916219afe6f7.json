{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst substract_1 = __importDefault(require(\"../utils/array/substract\"));\n\nconst unique_1 = __importDefault(require(\"../utils/array/unique\")); // we ignore package.json file because of https://github.com/TypeStrong/fork-ts-checker-webpack-plugin/issues/674\n\n\nconst IGNORED_FILES = ['package.json'];\n\nconst isIgnoredFile = file => IGNORED_FILES.some(ignoredFile => file.endsWith(`/${ignoredFile}`) || file.endsWith(`\\\\${ignoredFile}`));\n\nconst compilerFilesChangeMap = new WeakMap();\n\nfunction getFilesChange(compiler) {\n  const {\n    changedFiles = [],\n    deletedFiles = []\n  } = compilerFilesChangeMap.get(compiler) || {\n    changedFiles: [],\n    deletedFiles: []\n  };\n  return {\n    changedFiles: changedFiles.filter(changedFile => !isIgnoredFile(changedFile)),\n    deletedFiles: deletedFiles.filter(deletedFile => !isIgnoredFile(deletedFile))\n  };\n}\n\nexports.getFilesChange = getFilesChange;\n\nfunction updateFilesChange(compiler, change) {\n  compilerFilesChangeMap.set(compiler, aggregateFilesChanges([getFilesChange(compiler), change]));\n}\n\nexports.updateFilesChange = updateFilesChange;\n\nfunction clearFilesChange(compiler) {\n  compilerFilesChangeMap.delete(compiler);\n}\n\nexports.clearFilesChange = clearFilesChange;\n/**\n * Computes aggregated files change based on the subsequent files changes.\n *\n * @param changes List of subsequent files changes\n * @returns Files change that represents all subsequent changes as a one event\n */\n\nfunction aggregateFilesChanges(changes) {\n  let changedFiles = [];\n  let deletedFiles = [];\n\n  for (const change of changes) {\n    changedFiles = unique_1.default(substract_1.default(changedFiles, change.deletedFiles).concat(change.changedFiles || []));\n    deletedFiles = unique_1.default(substract_1.default(deletedFiles, change.changedFiles).concat(change.deletedFiles || []));\n  }\n\n  return {\n    changedFiles,\n    deletedFiles\n  };\n}\n\nexports.aggregateFilesChanges = aggregateFilesChanges;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","substract_1","require","unique_1","IGNORED_FILES","isIgnoredFile","file","some","ignoredFile","endsWith","compilerFilesChangeMap","WeakMap","getFilesChange","compiler","changedFiles","deletedFiles","get","filter","changedFile","deletedFile","updateFilesChange","change","set","aggregateFilesChanges","clearFilesChange","delete","changes","default","concat"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/fork-ts-checker-webpack-plugin/lib/reporter/FilesChange.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst substract_1 = __importDefault(require(\"../utils/array/substract\"));\nconst unique_1 = __importDefault(require(\"../utils/array/unique\"));\n// we ignore package.json file because of https://github.com/TypeStrong/fork-ts-checker-webpack-plugin/issues/674\nconst IGNORED_FILES = ['package.json'];\nconst isIgnoredFile = (file) => IGNORED_FILES.some((ignoredFile) => file.endsWith(`/${ignoredFile}`) || file.endsWith(`\\\\${ignoredFile}`));\nconst compilerFilesChangeMap = new WeakMap();\nfunction getFilesChange(compiler) {\n    const { changedFiles = [], deletedFiles = [] } = compilerFilesChangeMap.get(compiler) || {\n        changedFiles: [],\n        deletedFiles: [],\n    };\n    return {\n        changedFiles: changedFiles.filter((changedFile) => !isIgnoredFile(changedFile)),\n        deletedFiles: deletedFiles.filter((deletedFile) => !isIgnoredFile(deletedFile)),\n    };\n}\nexports.getFilesChange = getFilesChange;\nfunction updateFilesChange(compiler, change) {\n    compilerFilesChangeMap.set(compiler, aggregateFilesChanges([getFilesChange(compiler), change]));\n}\nexports.updateFilesChange = updateFilesChange;\nfunction clearFilesChange(compiler) {\n    compilerFilesChangeMap.delete(compiler);\n}\nexports.clearFilesChange = clearFilesChange;\n/**\n * Computes aggregated files change based on the subsequent files changes.\n *\n * @param changes List of subsequent files changes\n * @returns Files change that represents all subsequent changes as a one event\n */\nfunction aggregateFilesChanges(changes) {\n    let changedFiles = [];\n    let deletedFiles = [];\n    for (const change of changes) {\n        changedFiles = unique_1.default(substract_1.default(changedFiles, change.deletedFiles).concat(change.changedFiles || []));\n        deletedFiles = unique_1.default(substract_1.default(deletedFiles, change.changedFiles).concat(change.deletedFiles || []));\n    }\n    return {\n        changedFiles,\n        deletedFiles,\n    };\n}\nexports.aggregateFilesChanges = aggregateFilesChanges;\n"],"mappings":"AAAA;;AACA,IAAIA,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;EACnE,OAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;IAAE,WAAWA;EAAb,CAAvC;AACH,CAFD;;AAGAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,WAAW,GAAGP,eAAe,CAACQ,OAAO,CAAC,0BAAD,CAAR,CAAnC;;AACA,MAAMC,QAAQ,GAAGT,eAAe,CAACQ,OAAO,CAAC,uBAAD,CAAR,CAAhC,C,CACA;;;AACA,MAAME,aAAa,GAAG,CAAC,cAAD,CAAtB;;AACA,MAAMC,aAAa,GAAIC,IAAD,IAAUF,aAAa,CAACG,IAAd,CAAoBC,WAAD,IAAiBF,IAAI,CAACG,QAAL,CAAe,IAAGD,WAAY,EAA9B,KAAoCF,IAAI,CAACG,QAAL,CAAe,KAAID,WAAY,EAA/B,CAAxE,CAAhC;;AACA,MAAME,sBAAsB,GAAG,IAAIC,OAAJ,EAA/B;;AACA,SAASC,cAAT,CAAwBC,QAAxB,EAAkC;EAC9B,MAAM;IAAEC,YAAY,GAAG,EAAjB;IAAqBC,YAAY,GAAG;EAApC,IAA2CL,sBAAsB,CAACM,GAAvB,CAA2BH,QAA3B,KAAwC;IACrFC,YAAY,EAAE,EADuE;IAErFC,YAAY,EAAE;EAFuE,CAAzF;EAIA,OAAO;IACHD,YAAY,EAAEA,YAAY,CAACG,MAAb,CAAqBC,WAAD,IAAiB,CAACb,aAAa,CAACa,WAAD,CAAnD,CADX;IAEHH,YAAY,EAAEA,YAAY,CAACE,MAAb,CAAqBE,WAAD,IAAiB,CAACd,aAAa,CAACc,WAAD,CAAnD;EAFX,CAAP;AAIH;;AACDpB,OAAO,CAACa,cAAR,GAAyBA,cAAzB;;AACA,SAASQ,iBAAT,CAA2BP,QAA3B,EAAqCQ,MAArC,EAA6C;EACzCX,sBAAsB,CAACY,GAAvB,CAA2BT,QAA3B,EAAqCU,qBAAqB,CAAC,CAACX,cAAc,CAACC,QAAD,CAAf,EAA2BQ,MAA3B,CAAD,CAA1D;AACH;;AACDtB,OAAO,CAACqB,iBAAR,GAA4BA,iBAA5B;;AACA,SAASI,gBAAT,CAA0BX,QAA1B,EAAoC;EAChCH,sBAAsB,CAACe,MAAvB,CAA8BZ,QAA9B;AACH;;AACDd,OAAO,CAACyB,gBAAR,GAA2BA,gBAA3B;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASD,qBAAT,CAA+BG,OAA/B,EAAwC;EACpC,IAAIZ,YAAY,GAAG,EAAnB;EACA,IAAIC,YAAY,GAAG,EAAnB;;EACA,KAAK,MAAMM,MAAX,IAAqBK,OAArB,EAA8B;IAC1BZ,YAAY,GAAGX,QAAQ,CAACwB,OAAT,CAAiB1B,WAAW,CAAC0B,OAAZ,CAAoBb,YAApB,EAAkCO,MAAM,CAACN,YAAzC,EAAuDa,MAAvD,CAA8DP,MAAM,CAACP,YAAP,IAAuB,EAArF,CAAjB,CAAf;IACAC,YAAY,GAAGZ,QAAQ,CAACwB,OAAT,CAAiB1B,WAAW,CAAC0B,OAAZ,CAAoBZ,YAApB,EAAkCM,MAAM,CAACP,YAAzC,EAAuDc,MAAvD,CAA8DP,MAAM,CAACN,YAAP,IAAuB,EAArF,CAAjB,CAAf;EACH;;EACD,OAAO;IACHD,YADG;IAEHC;EAFG,CAAP;AAIH;;AACDhB,OAAO,CAACwB,qBAAR,GAAgCA,qBAAhC"},"metadata":{},"sourceType":"script"}