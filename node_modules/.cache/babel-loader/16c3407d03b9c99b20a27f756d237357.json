{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Rohith\\\\mern\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport { getCoordsDataType } from './shader_compiler';\nexport var GatherNDProgram = function GatherNDProgram(sliceDim, strides, shape, paramsShape) {\n  _classCallCheck(this, GatherNDProgram);\n  this.sliceDim = sliceDim;\n  this.strides = strides;\n  this.paramsShape = paramsShape;\n  this.variableNames = ['x', 'indices'];\n  this.outputShape = shape;\n  var dtype = getCoordsDataType(shape.length);\n  var mainLoop = \"\\n    int index;\";\n  for (var j = 0; j < this.sliceDim; j++) {\n    mainLoop += \"\\n          index = round(getIndices(coords[0], \".concat(j, \"));\\n          out_of_bounds = out_of_bounds || index < 0;\\n          out_of_bounds = out_of_bounds || index >= \").concat(this.paramsShape[j], \";\\n          flattenIndex += index * \").concat(this.strides[j], \";\");\n  }\n  this.userCode = \"\\n         void main() {\\n          \".concat(dtype, \" coords = getOutputCoords();\\n          int flattenIndex = 0;\\n          bool out_of_bounds = false;\\n\\n          \").concat(mainLoop, \"\\n\\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\\n        }\\n      \");\n};","map":null,"metadata":{},"sourceType":"module"}