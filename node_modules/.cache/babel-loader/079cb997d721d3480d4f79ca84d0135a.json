{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst OperationCanceledError_1 = require(\"../error/OperationCanceledError\");\n\nconst FilesChange_1 = require(\"./FilesChange\");\n/**\n * This higher order reporter aggregates too frequent getReport requests to avoid unnecessary computation.\n */\n\n\nfunction createAggregatedReporter(reporter) {\n  let pendingPromise;\n  let queuedIndex = 0;\n  let queuedChanges = [];\n  const aggregatedReporter = Object.assign(Object.assign({}, reporter), {\n    getReport: change => __awaiter(this, void 0, void 0, function* () {\n      if (!pendingPromise) {\n        let resolvePending;\n        pendingPromise = new Promise(resolve => {\n          resolvePending = () => {\n            resolve();\n            pendingPromise = undefined;\n          };\n        });\n        return reporter.getReport(change).then(report => Object.assign(Object.assign({}, report), {\n          close() {\n            return __awaiter(this, void 0, void 0, function* () {\n              yield report.close();\n              resolvePending();\n            });\n          }\n\n        })).catch(error => {\n          resolvePending();\n          throw error;\n        });\n      } else {\n        const currentIndex = ++queuedIndex;\n        queuedChanges.push(change);\n        return pendingPromise.then(() => {\n          if (queuedIndex === currentIndex) {\n            const change = FilesChange_1.aggregateFilesChanges(queuedChanges);\n            queuedChanges = [];\n            return aggregatedReporter.getReport(change);\n          } else {\n            throw new OperationCanceledError_1.OperationCanceledError('getReport canceled - new report requested.');\n          }\n        });\n      }\n    })\n  });\n  return aggregatedReporter;\n}\n\nexports.createAggregatedReporter = createAggregatedReporter;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","OperationCanceledError_1","require","FilesChange_1","createAggregatedReporter","reporter","pendingPromise","queuedIndex","queuedChanges","aggregatedReporter","assign","getReport","change","resolvePending","undefined","report","close","catch","error","currentIndex","push","aggregateFilesChanges","OperationCanceledError"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/fork-ts-checker-webpack-plugin/lib/reporter/AggregatedReporter.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst OperationCanceledError_1 = require(\"../error/OperationCanceledError\");\nconst FilesChange_1 = require(\"./FilesChange\");\n/**\n * This higher order reporter aggregates too frequent getReport requests to avoid unnecessary computation.\n */\nfunction createAggregatedReporter(reporter) {\n    let pendingPromise;\n    let queuedIndex = 0;\n    let queuedChanges = [];\n    const aggregatedReporter = Object.assign(Object.assign({}, reporter), { getReport: (change) => __awaiter(this, void 0, void 0, function* () {\n            if (!pendingPromise) {\n                let resolvePending;\n                pendingPromise = new Promise((resolve) => {\n                    resolvePending = () => {\n                        resolve();\n                        pendingPromise = undefined;\n                    };\n                });\n                return reporter\n                    .getReport(change)\n                    .then((report) => (Object.assign(Object.assign({}, report), { close() {\n                        return __awaiter(this, void 0, void 0, function* () {\n                            yield report.close();\n                            resolvePending();\n                        });\n                    } })))\n                    .catch((error) => {\n                    resolvePending();\n                    throw error;\n                });\n            }\n            else {\n                const currentIndex = ++queuedIndex;\n                queuedChanges.push(change);\n                return pendingPromise.then(() => {\n                    if (queuedIndex === currentIndex) {\n                        const change = FilesChange_1.aggregateFilesChanges(queuedChanges);\n                        queuedChanges = [];\n                        return aggregatedReporter.getReport(change);\n                    }\n                    else {\n                        throw new OperationCanceledError_1.OperationCanceledError('getReport canceled - new report requested.');\n                    }\n                });\n            }\n        }) });\n    return aggregatedReporter;\n}\nexports.createAggregatedReporter = createAggregatedReporter;\n"],"mappings":"AAAA;;AACA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA4B,UAAUC,OAAV,EAAmBC,UAAnB,EAA+BC,CAA/B,EAAkCC,SAAlC,EAA6C;EACrF,SAASC,KAAT,CAAeC,KAAf,EAAsB;IAAE,OAAOA,KAAK,YAAYH,CAAjB,GAAqBG,KAArB,GAA6B,IAAIH,CAAJ,CAAM,UAAUI,OAAV,EAAmB;MAAEA,OAAO,CAACD,KAAD,CAAP;IAAiB,CAA5C,CAApC;EAAoF;;EAC5G,OAAO,KAAKH,CAAC,KAAKA,CAAC,GAAGK,OAAT,CAAN,EAAyB,UAAUD,OAAV,EAAmBE,MAAnB,EAA2B;IACvD,SAASC,SAAT,CAAmBJ,KAAnB,EAA0B;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAACQ,IAAV,CAAeN,KAAf,CAAD,CAAJ;MAA8B,CAApC,CAAqC,OAAOO,CAAP,EAAU;QAAEJ,MAAM,CAACI,CAAD,CAAN;MAAY;IAAE;;IAC3F,SAASC,QAAT,CAAkBR,KAAlB,EAAyB;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAAC,OAAD,CAAT,CAAmBE,KAAnB,CAAD,CAAJ;MAAkC,CAAxC,CAAyC,OAAOO,CAAP,EAAU;QAAEJ,MAAM,CAACI,CAAD,CAAN;MAAY;IAAE;;IAC9F,SAASF,IAAT,CAAcI,MAAd,EAAsB;MAAEA,MAAM,CAACC,IAAP,GAAcT,OAAO,CAACQ,MAAM,CAACT,KAAR,CAArB,GAAsCD,KAAK,CAACU,MAAM,CAACT,KAAR,CAAL,CAAoBW,IAApB,CAAyBP,SAAzB,EAAoCI,QAApC,CAAtC;IAAsF;;IAC9GH,IAAI,CAAC,CAACP,SAAS,GAAGA,SAAS,CAACc,KAAV,CAAgBjB,OAAhB,EAAyBC,UAAU,IAAI,EAAvC,CAAb,EAAyDU,IAAzD,EAAD,CAAJ;EACH,CALM,CAAP;AAMH,CARD;;AASAO,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEf,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMgB,wBAAwB,GAAGC,OAAO,CAAC,iCAAD,CAAxC;;AACA,MAAMC,aAAa,GAAGD,OAAO,CAAC,eAAD,CAA7B;AACA;AACA;AACA;;;AACA,SAASE,wBAAT,CAAkCC,QAAlC,EAA4C;EACxC,IAAIC,cAAJ;EACA,IAAIC,WAAW,GAAG,CAAlB;EACA,IAAIC,aAAa,GAAG,EAApB;EACA,MAAMC,kBAAkB,GAAGX,MAAM,CAACY,MAAP,CAAcZ,MAAM,CAACY,MAAP,CAAc,EAAd,EAAkBL,QAAlB,CAAd,EAA2C;IAAEM,SAAS,EAAGC,MAAD,IAAYjC,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAa;MACpI,IAAI,CAAC2B,cAAL,EAAqB;QACjB,IAAIO,cAAJ;QACAP,cAAc,GAAG,IAAInB,OAAJ,CAAaD,OAAD,IAAa;UACtC2B,cAAc,GAAG,MAAM;YACnB3B,OAAO;YACPoB,cAAc,GAAGQ,SAAjB;UACH,CAHD;QAIH,CALgB,CAAjB;QAMA,OAAOT,QAAQ,CACVM,SADE,CACQC,MADR,EAEFhB,IAFE,CAEImB,MAAD,IAAajB,MAAM,CAACY,MAAP,CAAcZ,MAAM,CAACY,MAAP,CAAc,EAAd,EAAkBK,MAAlB,CAAd,EAAyC;UAAEC,KAAK,GAAG;YAClE,OAAOrC,SAAS,CAAC,IAAD,EAAO,KAAK,CAAZ,EAAe,KAAK,CAApB,EAAuB,aAAa;cAChD,MAAMoC,MAAM,CAACC,KAAP,EAAN;cACAH,cAAc;YACjB,CAHe,CAAhB;UAIH;;QAL2D,CAAzC,CAFhB,EAQFI,KARE,CAQKC,KAAD,IAAW;UAClBL,cAAc;UACd,MAAMK,KAAN;QACH,CAXM,CAAP;MAYH,CApBD,MAqBK;QACD,MAAMC,YAAY,GAAG,EAAEZ,WAAvB;QACAC,aAAa,CAACY,IAAd,CAAmBR,MAAnB;QACA,OAAON,cAAc,CAACV,IAAf,CAAoB,MAAM;UAC7B,IAAIW,WAAW,KAAKY,YAApB,EAAkC;YAC9B,MAAMP,MAAM,GAAGT,aAAa,CAACkB,qBAAd,CAAoCb,aAApC,CAAf;YACAA,aAAa,GAAG,EAAhB;YACA,OAAOC,kBAAkB,CAACE,SAAnB,CAA6BC,MAA7B,CAAP;UACH,CAJD,MAKK;YACD,MAAM,IAAIX,wBAAwB,CAACqB,sBAA7B,CAAoD,4CAApD,CAAN;UACH;QACJ,CATM,CAAP;MAUH;IACJ,CApCmG;EAAlC,CAA3C,CAA3B;EAqCA,OAAOb,kBAAP;AACH;;AACDT,OAAO,CAACI,wBAAR,GAAmCA,wBAAnC"},"metadata":{},"sourceType":"script"}