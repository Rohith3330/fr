{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FEATURES = void 0;\nexports.enableFeature = enableFeature;\nexports.isLoose = isLoose;\nexports.shouldTransform = shouldTransform;\n\nvar _decorators = require(\"./decorators\");\n\nconst FEATURES = Object.freeze({\n  fields: 1 << 1,\n  privateMethods: 1 << 2,\n  decorators: 1 << 3,\n  privateIn: 1 << 4,\n  staticBlocks: 1 << 5\n});\nexports.FEATURES = FEATURES;\nconst featuresSameLoose = new Map([[FEATURES.fields, \"@babel/plugin-proposal-class-properties\"], [FEATURES.privateMethods, \"@babel/plugin-proposal-private-methods\"], [FEATURES.privateIn, \"@babel/plugin-proposal-private-property-in-object\"]]);\nconst featuresKey = \"@babel/plugin-class-features/featuresKey\";\nconst looseKey = \"@babel/plugin-class-features/looseKey\";\nconst looseLowPriorityKey = \"@babel/plugin-class-features/looseLowPriorityKey/#__internal__@babel/preset-env__please-overwrite-loose-instead-of-throwing\";\n\nfunction enableFeature(file, feature, loose) {\n  if (!hasFeature(file, feature) || canIgnoreLoose(file, feature)) {\n    file.set(featuresKey, file.get(featuresKey) | feature);\n\n    if (loose === \"#__internal__@babel/preset-env__prefer-true-but-false-is-ok-if-it-prevents-an-error\") {\n      setLoose(file, feature, true);\n      file.set(looseLowPriorityKey, file.get(looseLowPriorityKey) | feature);\n    } else if (loose === \"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\") {\n      setLoose(file, feature, false);\n      file.set(looseLowPriorityKey, file.get(looseLowPriorityKey) | feature);\n    } else {\n      setLoose(file, feature, loose);\n    }\n  }\n\n  let resolvedLoose;\n  let higherPriorityPluginName;\n\n  for (const [mask, name] of featuresSameLoose) {\n    if (!hasFeature(file, mask)) continue;\n    const loose = isLoose(file, mask);\n\n    if (canIgnoreLoose(file, mask)) {\n      continue;\n    } else if (resolvedLoose === !loose) {\n      throw new Error(\"'loose' mode configuration must be the same for @babel/plugin-proposal-class-properties, \" + \"@babel/plugin-proposal-private-methods and \" + \"@babel/plugin-proposal-private-property-in-object (when they are enabled).\");\n    } else {\n      resolvedLoose = loose;\n      higherPriorityPluginName = name;\n    }\n  }\n\n  if (resolvedLoose !== undefined) {\n    for (const [mask, name] of featuresSameLoose) {\n      if (hasFeature(file, mask) && isLoose(file, mask) !== resolvedLoose) {\n        setLoose(file, mask, resolvedLoose);\n        console.warn(`Though the \"loose\" option was set to \"${!resolvedLoose}\" in your @babel/preset-env ` + `config, it will not be used for ${name} since the \"loose\" mode option was set to ` + `\"${resolvedLoose}\" for ${higherPriorityPluginName}.\\nThe \"loose\" option must be the ` + `same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods ` + `and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can ` + `silence this warning by explicitly adding\\n` + `\\t[\"${name}\", { \"loose\": ${resolvedLoose} }]\\n` + `to the \"plugins\" section of your Babel config.`);\n      }\n    }\n  }\n}\n\nfunction hasFeature(file, feature) {\n  return !!(file.get(featuresKey) & feature);\n}\n\nfunction isLoose(file, feature) {\n  return !!(file.get(looseKey) & feature);\n}\n\nfunction setLoose(file, feature, loose) {\n  if (loose) file.set(looseKey, file.get(looseKey) | feature);else file.set(looseKey, file.get(looseKey) & ~feature);\n  file.set(looseLowPriorityKey, file.get(looseLowPriorityKey) & ~feature);\n}\n\nfunction canIgnoreLoose(file, feature) {\n  return !!(file.get(looseLowPriorityKey) & feature);\n}\n\nfunction shouldTransform(path, file) {\n  let decoratorPath = null;\n  let publicFieldPath = null;\n  let privateFieldPath = null;\n  let privateMethodPath = null;\n  let staticBlockPath = null;\n\n  if ((0, _decorators.hasOwnDecorators)(path.node)) {\n    decoratorPath = path.get(\"decorators.0\");\n  }\n\n  for (const el of path.get(\"body.body\")) {\n    if (!decoratorPath && (0, _decorators.hasOwnDecorators)(el.node)) {\n      decoratorPath = el.get(\"decorators.0\");\n    }\n\n    if (!publicFieldPath && el.isClassProperty()) {\n      publicFieldPath = el;\n    }\n\n    if (!privateFieldPath && el.isClassPrivateProperty()) {\n      privateFieldPath = el;\n    }\n\n    if (!privateMethodPath && el.isClassPrivateMethod != null && el.isClassPrivateMethod()) {\n      privateMethodPath = el;\n    }\n\n    if (!staticBlockPath && el.isStaticBlock != null && el.isStaticBlock()) {\n      staticBlockPath = el;\n    }\n  }\n\n  if (decoratorPath && privateFieldPath) {\n    throw privateFieldPath.buildCodeFrameError(\"Private fields in decorated classes are not supported yet.\");\n  }\n\n  if (decoratorPath && privateMethodPath) {\n    throw privateMethodPath.buildCodeFrameError(\"Private methods in decorated classes are not supported yet.\");\n  }\n\n  if (decoratorPath && !hasFeature(file, FEATURES.decorators)) {\n    throw path.buildCodeFrameError(\"Decorators are not enabled.\" + \"\\nIf you are using \" + '[\"@babel/plugin-proposal-decorators\", { \"version\": \"legacy\" }], ' + 'make sure it comes *before* \"@babel/plugin-proposal-class-properties\" ' + \"and enable loose mode, like so:\\n\" + '\\t[\"@babel/plugin-proposal-decorators\", { \"version\": \"legacy\" }]\\n' + '\\t[\"@babel/plugin-proposal-class-properties\", { \"loose\": true }]');\n  }\n\n  if (privateMethodPath && !hasFeature(file, FEATURES.privateMethods)) {\n    throw privateMethodPath.buildCodeFrameError(\"Class private methods are not enabled. \" + \"Please add `@babel/plugin-proposal-private-methods` to your configuration.\");\n  }\n\n  if ((publicFieldPath || privateFieldPath) && !hasFeature(file, FEATURES.fields) && !hasFeature(file, FEATURES.privateMethods)) {\n    throw path.buildCodeFrameError(\"Class fields are not enabled. \" + \"Please add `@babel/plugin-proposal-class-properties` to your configuration.\");\n  }\n\n  if (staticBlockPath && !hasFeature(file, FEATURES.staticBlocks)) {\n    throw path.buildCodeFrameError(\"Static class blocks are not enabled. \" + \"Please add `@babel/plugin-proposal-class-static-block` to your configuration.\");\n  }\n\n  if (decoratorPath || privateMethodPath || staticBlockPath) {\n    return true;\n  }\n\n  if ((publicFieldPath || privateFieldPath) && hasFeature(file, FEATURES.fields)) {\n    return true;\n  }\n\n  return false;\n}","map":{"version":3,"mappings":"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","names":["FEATURES","Object","freeze","fields","privateMethods","decorators","privateIn","staticBlocks","featuresSameLoose","Map","featuresKey","looseKey","looseLowPriorityKey","enableFeature","file","feature","loose","hasFeature","canIgnoreLoose","set","get","setLoose","resolvedLoose","higherPriorityPluginName","mask","name","isLoose","Error","undefined","console","warn","shouldTransform","path","decoratorPath","publicFieldPath","privateFieldPath","privateMethodPath","staticBlockPath","node","el","isClassProperty","isClassPrivateProperty","isClassPrivateMethod","isStaticBlock","buildCodeFrameError"],"sources":["C:\\Users\\Rohith\\mern\\frontend\\node_modules\\@babel\\helper-create-class-features-plugin\\src\\features.ts"],"sourcesContent":["import type { File, types as t } from \"@babel/core\";\nimport type { NodePath } from \"@babel/traverse\";\nimport { hasOwnDecorators } from \"./decorators\";\n\nexport const FEATURES = Object.freeze({\n  //classes: 1 << 0,\n  fields: 1 << 1,\n  privateMethods: 1 << 2,\n  // TODO(Babel 8): Remove this\n  decorators: 1 << 3,\n  privateIn: 1 << 4,\n  staticBlocks: 1 << 5,\n});\n\nconst featuresSameLoose = new Map([\n  [FEATURES.fields, \"@babel/plugin-proposal-class-properties\"],\n  [FEATURES.privateMethods, \"@babel/plugin-proposal-private-methods\"],\n  [FEATURES.privateIn, \"@babel/plugin-proposal-private-property-in-object\"],\n]);\n\n// We can't use a symbol because this needs to always be the same, even if\n// this package isn't deduped by npm. e.g.\n//  - node_modules/\n//    - @babel/plugin-class-features\n//    - @babel/plugin-proposal-decorators\n//      - node_modules\n//        - @babel-plugin-class-features\nconst featuresKey = \"@babel/plugin-class-features/featuresKey\";\nconst looseKey = \"@babel/plugin-class-features/looseKey\";\n\n// See https://github.com/babel/babel/issues/11622.\n// Since preset-env sets loose for the fields and private methods plugins, it can\n// cause conflicts with the loose mode set by an explicit plugin in the config.\n// To solve this problem, we ignore preset-env's loose mode if another plugin\n// explicitly sets it\n// The code to handle this logic doesn't check that \"low priority loose\" is always\n// the same. However, it is only set by the preset and not directly by users:\n// unless someone _wants_ to break it, it shouldn't be a problem.\nconst looseLowPriorityKey =\n  \"@babel/plugin-class-features/looseLowPriorityKey/#__internal__@babel/preset-env__please-overwrite-loose-instead-of-throwing\";\n\nexport function enableFeature(file: File, feature: number, loose: boolean) {\n  // We can't blindly enable the feature because, if it was already set,\n  // \"loose\" can't be changed, so that\n  //   @babel/plugin-class-properties { loose: true }\n  //   @babel/plugin-class-properties { loose: false }\n  // is transformed in loose mode.\n  // We only enabled the feature if it was previously disabled.\n  if (!hasFeature(file, feature) || canIgnoreLoose(file, feature)) {\n    file.set(featuresKey, file.get(featuresKey) | feature);\n    if (\n      // @ts-expect-error comparing loose with internal private magic string\n      loose ===\n      \"#__internal__@babel/preset-env__prefer-true-but-false-is-ok-if-it-prevents-an-error\"\n    ) {\n      setLoose(file, feature, true);\n      file.set(looseLowPriorityKey, file.get(looseLowPriorityKey) | feature);\n    } else if (\n      // @ts-expect-error comparing loose with internal private magic string\n      loose ===\n      \"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"\n    ) {\n      setLoose(file, feature, false);\n      file.set(looseLowPriorityKey, file.get(looseLowPriorityKey) | feature);\n    } else {\n      setLoose(file, feature, loose);\n    }\n  }\n\n  let resolvedLoose: boolean | undefined;\n  let higherPriorityPluginName: string | undefined;\n\n  for (const [mask, name] of featuresSameLoose) {\n    if (!hasFeature(file, mask)) continue;\n\n    const loose = isLoose(file, mask);\n\n    if (canIgnoreLoose(file, mask)) {\n      continue;\n    } else if (resolvedLoose === !loose) {\n      throw new Error(\n        \"'loose' mode configuration must be the same for @babel/plugin-proposal-class-properties, \" +\n          \"@babel/plugin-proposal-private-methods and \" +\n          \"@babel/plugin-proposal-private-property-in-object (when they are enabled).\",\n      );\n    } else {\n      resolvedLoose = loose;\n      higherPriorityPluginName = name;\n    }\n  }\n\n  if (resolvedLoose !== undefined) {\n    for (const [mask, name] of featuresSameLoose) {\n      if (hasFeature(file, mask) && isLoose(file, mask) !== resolvedLoose) {\n        setLoose(file, mask, resolvedLoose);\n        console.warn(\n          `Though the \"loose\" option was set to \"${!resolvedLoose}\" in your @babel/preset-env ` +\n            `config, it will not be used for ${name} since the \"loose\" mode option was set to ` +\n            `\"${resolvedLoose}\" for ${higherPriorityPluginName}.\\nThe \"loose\" option must be the ` +\n            `same for @babel/plugin-proposal-class-properties, @babel/plugin-proposal-private-methods ` +\n            `and @babel/plugin-proposal-private-property-in-object (when they are enabled): you can ` +\n            `silence this warning by explicitly adding\\n` +\n            `\\t[\"${name}\", { \"loose\": ${resolvedLoose} }]\\n` +\n            `to the \"plugins\" section of your Babel config.`,\n        );\n      }\n    }\n  }\n}\n\nfunction hasFeature(file: File, feature: number) {\n  return !!(file.get(featuresKey) & feature);\n}\n\nexport function isLoose(file: File, feature: number) {\n  return !!(file.get(looseKey) & feature);\n}\n\nfunction setLoose(file: File, feature: number, loose: boolean) {\n  if (loose) file.set(looseKey, file.get(looseKey) | feature);\n  else file.set(looseKey, file.get(looseKey) & ~feature);\n\n  file.set(looseLowPriorityKey, file.get(looseLowPriorityKey) & ~feature);\n}\n\nfunction canIgnoreLoose(file: File, feature: number) {\n  return !!(file.get(looseLowPriorityKey) & feature);\n}\n\nexport function shouldTransform(path: NodePath<t.Class>, file: File): boolean {\n  let decoratorPath: NodePath<t.Decorator> | null = null;\n  let publicFieldPath: NodePath<t.ClassProperty> | null = null;\n  let privateFieldPath: NodePath<t.ClassPrivateProperty> | null = null;\n  let privateMethodPath: NodePath<t.ClassPrivateMethod> | null = null;\n  let staticBlockPath: NodePath<t.StaticBlock> | null = null;\n\n  if (hasOwnDecorators(path.node)) {\n    decoratorPath = path.get(\"decorators.0\");\n  }\n  for (const el of path.get(\"body.body\")) {\n    if (!decoratorPath && hasOwnDecorators(el.node)) {\n      decoratorPath = el.get(\"decorators.0\");\n    }\n    if (!publicFieldPath && el.isClassProperty()) {\n      publicFieldPath = el;\n    }\n    if (!privateFieldPath && el.isClassPrivateProperty()) {\n      privateFieldPath = el;\n    }\n    // NOTE: path.isClassPrivateMethod() it isn't supported in <7.2.0\n    if (!privateMethodPath && el.isClassPrivateMethod?.()) {\n      privateMethodPath = el;\n    }\n    if (!staticBlockPath && el.isStaticBlock?.()) {\n      staticBlockPath = el;\n    }\n  }\n\n  if (decoratorPath && privateFieldPath) {\n    throw privateFieldPath.buildCodeFrameError(\n      \"Private fields in decorated classes are not supported yet.\",\n    );\n  }\n  if (decoratorPath && privateMethodPath) {\n    throw privateMethodPath.buildCodeFrameError(\n      \"Private methods in decorated classes are not supported yet.\",\n    );\n  }\n\n  if (decoratorPath && !hasFeature(file, FEATURES.decorators)) {\n    throw path.buildCodeFrameError(\n      \"Decorators are not enabled.\" +\n        \"\\nIf you are using \" +\n        '[\"@babel/plugin-proposal-decorators\", { \"version\": \"legacy\" }], ' +\n        'make sure it comes *before* \"@babel/plugin-proposal-class-properties\" ' +\n        \"and enable loose mode, like so:\\n\" +\n        '\\t[\"@babel/plugin-proposal-decorators\", { \"version\": \"legacy\" }]\\n' +\n        '\\t[\"@babel/plugin-proposal-class-properties\", { \"loose\": true }]',\n    );\n  }\n\n  if (privateMethodPath && !hasFeature(file, FEATURES.privateMethods)) {\n    throw privateMethodPath.buildCodeFrameError(\n      \"Class private methods are not enabled. \" +\n        \"Please add `@babel/plugin-proposal-private-methods` to your configuration.\",\n    );\n  }\n\n  if (\n    (publicFieldPath || privateFieldPath) &&\n    !hasFeature(file, FEATURES.fields) &&\n    // We want to allow enabling the private-methods plugin even without enabling\n    // the class-properties plugin. Class fields will still be compiled in classes\n    // that contain private methods.\n    // This is already allowed with the other various class features plugins, but\n    // it's because they can fallback to a transform separated from this helper.\n    !hasFeature(file, FEATURES.privateMethods)\n  ) {\n    throw path.buildCodeFrameError(\n      \"Class fields are not enabled. \" +\n        \"Please add `@babel/plugin-proposal-class-properties` to your configuration.\",\n    );\n  }\n\n  if (staticBlockPath && !hasFeature(file, FEATURES.staticBlocks)) {\n    throw path.buildCodeFrameError(\n      \"Static class blocks are not enabled. \" +\n        \"Please add `@babel/plugin-proposal-class-static-block` to your configuration.\",\n    );\n  }\n\n  if (decoratorPath || privateMethodPath || staticBlockPath) {\n    // If one of those feature is used we know that its transform is\n    // enabled, otherwise the previous checks throw.\n    return true;\n  }\n  if (\n    (publicFieldPath || privateFieldPath) &&\n    hasFeature(file, FEATURES.fields)\n  ) {\n    return true;\n  }\n\n  return false;\n}\n"]},"metadata":{},"sourceType":"script"}