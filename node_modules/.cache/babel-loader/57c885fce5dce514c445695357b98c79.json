{"ast":null,"code":"// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\nvar test = require('tape');\n\nvar assert = require('assert');\n\nvar noop = function () {};\n\nvar mustCallChecks = [];\n\nfunction runCallChecks(exitCode) {\n  if (exitCode !== 0) return;\n  var failed = filter(mustCallChecks, function (context) {\n    if ('minimum' in context) {\n      context.messageSegment = 'at least ' + context.minimum;\n      return context.actual < context.minimum;\n    } else {\n      context.messageSegment = 'exactly ' + context.exact;\n      return context.actual !== context.exact;\n    }\n  });\n\n  for (var i = 0; i < failed.length; i++) {\n    var context = failed[i];\n    console.log('Mismatched %s function calls. Expected %s, actual %d.', context.name, context.messageSegment, context.actual); // IE8 has no .stack\n\n    if (context.stack) console.log(context.stack.split('\\n').slice(2).join('\\n'));\n  }\n\n  assert.strictEqual(failed.length, 0);\n}\n\nexports.mustCall = function (fn, exact) {\n  return _mustCallInner(fn, exact, 'exact');\n};\n\nfunction _mustCallInner(fn, criteria, field) {\n  if (typeof criteria == 'undefined') criteria = 1;\n\n  if (typeof fn === 'number') {\n    criteria = fn;\n    fn = noop;\n  } else if (fn === undefined) {\n    fn = noop;\n  }\n\n  if (typeof criteria !== 'number') throw new TypeError('Invalid ' + field + ' value: ' + criteria);\n  var context = {\n    actual: 0,\n    stack: new Error().stack,\n    name: fn.name || '<anonymous>'\n  };\n  context[field] = criteria; // add the exit listener only once to avoid listener leak warnings\n\n  if (mustCallChecks.length === 0) test.onFinish(function () {\n    runCallChecks(0);\n  });\n  mustCallChecks.push(context);\n  return function () {\n    context.actual++;\n    return fn.apply(this, arguments);\n  };\n}\n\nexports.mustNotCall = function (msg) {\n  return function mustNotCall() {\n    assert.fail(msg || 'function should not have been called');\n  };\n};\n\nfunction filter(arr, fn) {\n  if (arr.filter) return arr.filter(fn);\n  var filtered = [];\n\n  for (var i = 0; i < arr.length; i++) {\n    if (fn(arr[i], i, arr)) filtered.push(arr[i]);\n  }\n\n  return filtered;\n}","map":{"version":3,"names":["test","require","assert","noop","mustCallChecks","runCallChecks","exitCode","failed","filter","context","messageSegment","minimum","actual","exact","i","length","console","log","name","stack","split","slice","join","strictEqual","exports","mustCall","fn","_mustCallInner","criteria","field","undefined","TypeError","Error","onFinish","push","apply","arguments","mustNotCall","msg","fail","arr","filtered"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/events/tests/common.js"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar test = require('tape');\nvar assert = require('assert');\n\nvar noop = function() {};\n\nvar mustCallChecks = [];\n\nfunction runCallChecks(exitCode) {\n  if (exitCode !== 0) return;\n\n  var failed = filter(mustCallChecks, function(context) {\n    if ('minimum' in context) {\n      context.messageSegment = 'at least ' + context.minimum;\n      return context.actual < context.minimum;\n    } else {\n      context.messageSegment = 'exactly ' + context.exact;\n      return context.actual !== context.exact;\n    }\n  });\n\n  for (var i = 0; i < failed.length; i++) {\n    var context = failed[i];\n    console.log('Mismatched %s function calls. Expected %s, actual %d.',\n        context.name,\n        context.messageSegment,\n        context.actual);\n    // IE8 has no .stack\n    if (context.stack) console.log(context.stack.split('\\n').slice(2).join('\\n'));\n  }\n\n  assert.strictEqual(failed.length, 0);\n}\n\nexports.mustCall = function(fn, exact) {\n  return _mustCallInner(fn, exact, 'exact');\n};\n\nfunction _mustCallInner(fn, criteria, field) {\n  if (typeof criteria == 'undefined') criteria = 1;\n\n  if (typeof fn === 'number') {\n    criteria = fn;\n    fn = noop;\n  } else if (fn === undefined) {\n    fn = noop;\n  }\n\n  if (typeof criteria !== 'number')\n    throw new TypeError('Invalid ' + field + ' value: ' + criteria);\n\n  var context = {\n    actual: 0,\n    stack: (new Error()).stack,\n    name: fn.name || '<anonymous>'\n  };\n\n  context[field] = criteria;\n\n  // add the exit listener only once to avoid listener leak warnings\n  if (mustCallChecks.length === 0) test.onFinish(function() { runCallChecks(0); });\n\n  mustCallChecks.push(context);\n\n  return function() {\n    context.actual++;\n    return fn.apply(this, arguments);\n  };\n}\n\nexports.mustNotCall = function(msg) {\n  return function mustNotCall() {\n    assert.fail(msg || 'function should not have been called');\n  };\n};\n\nfunction filter(arr, fn) {\n  if (arr.filter) return arr.filter(fn);\n  var filtered = [];\n  for (var i = 0; i < arr.length; i++) {\n    if (fn(arr[i], i, arr)) filtered.push(arr[i]);\n  }\n  return filtered\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}