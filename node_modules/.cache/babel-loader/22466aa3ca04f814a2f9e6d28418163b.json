{"ast":null,"code":"var List = require('css-tree').List;\n\nvar clone = require('css-tree').clone;\n\nvar usageUtils = require('./usage');\n\nvar clean = require('./clean');\n\nvar replace = require('./replace');\n\nvar restructure = require('./restructure');\n\nvar walk = require('css-tree').walk;\n\nfunction readChunk(children, specialComments) {\n  var buffer = new List();\n  var nonSpaceTokenInBuffer = false;\n  var protectedComment;\n  children.nextUntil(children.head, function (node, item, list) {\n    if (node.type === 'Comment') {\n      if (!specialComments || node.value.charAt(0) !== '!') {\n        list.remove(item);\n        return;\n      }\n\n      if (nonSpaceTokenInBuffer || protectedComment) {\n        return true;\n      }\n\n      list.remove(item);\n      protectedComment = node;\n      return;\n    }\n\n    if (node.type !== 'WhiteSpace') {\n      nonSpaceTokenInBuffer = true;\n    }\n\n    buffer.insert(list.remove(item));\n  });\n  return {\n    comment: protectedComment,\n    stylesheet: {\n      type: 'StyleSheet',\n      loc: null,\n      children: buffer\n    }\n  };\n}\n\nfunction compressChunk(ast, firstAtrulesAllowed, num, options) {\n  options.logger('Compress block #' + num, null, true);\n  var seed = 1;\n\n  if (ast.type === 'StyleSheet') {\n    ast.firstAtrulesAllowed = firstAtrulesAllowed;\n    ast.id = seed++;\n  }\n\n  walk(ast, {\n    visit: 'Atrule',\n    enter: function markScopes(node) {\n      if (node.block !== null) {\n        node.block.id = seed++;\n      }\n    }\n  });\n  options.logger('init', ast); // remove redundant\n\n  clean(ast, options);\n  options.logger('clean', ast); // replace nodes for shortened forms\n\n  replace(ast, options);\n  options.logger('replace', ast); // structure optimisations\n\n  if (options.restructuring) {\n    restructure(ast, options);\n  }\n\n  return ast;\n}\n\nfunction getCommentsOption(options) {\n  var comments = 'comments' in options ? options.comments : 'exclamation';\n\n  if (typeof comments === 'boolean') {\n    comments = comments ? 'exclamation' : false;\n  } else if (comments !== 'exclamation' && comments !== 'first-exclamation') {\n    comments = false;\n  }\n\n  return comments;\n}\n\nfunction getRestructureOption(options) {\n  if ('restructure' in options) {\n    return options.restructure;\n  }\n\n  return 'restructuring' in options ? options.restructuring : true;\n}\n\nfunction wrapBlock(block) {\n  return new List().appendData({\n    type: 'Rule',\n    loc: null,\n    prelude: {\n      type: 'SelectorList',\n      loc: null,\n      children: new List().appendData({\n        type: 'Selector',\n        loc: null,\n        children: new List().appendData({\n          type: 'TypeSelector',\n          loc: null,\n          name: 'x'\n        })\n      })\n    },\n    block: block\n  });\n}\n\nmodule.exports = function compress(ast, options) {\n  ast = ast || {\n    type: 'StyleSheet',\n    loc: null,\n    children: new List()\n  };\n  options = options || {};\n  var compressOptions = {\n    logger: typeof options.logger === 'function' ? options.logger : function () {},\n    restructuring: getRestructureOption(options),\n    forceMediaMerge: Boolean(options.forceMediaMerge),\n    usage: options.usage ? usageUtils.buildIndex(options.usage) : false\n  };\n  var specialComments = getCommentsOption(options);\n  var firstAtrulesAllowed = true;\n  var input;\n  var output = new List();\n  var chunk;\n  var chunkNum = 1;\n  var chunkChildren;\n\n  if (options.clone) {\n    ast = clone(ast);\n  }\n\n  if (ast.type === 'StyleSheet') {\n    input = ast.children;\n    ast.children = output;\n  } else {\n    input = wrapBlock(ast);\n  }\n\n  do {\n    chunk = readChunk(input, Boolean(specialComments));\n    compressChunk(chunk.stylesheet, firstAtrulesAllowed, chunkNum++, compressOptions);\n    chunkChildren = chunk.stylesheet.children;\n\n    if (chunk.comment) {\n      // add \\n before comment if there is another content in output\n      if (!output.isEmpty()) {\n        output.insert(List.createItem({\n          type: 'Raw',\n          value: '\\n'\n        }));\n      }\n\n      output.insert(List.createItem(chunk.comment)); // add \\n after comment if chunk is not empty\n\n      if (!chunkChildren.isEmpty()) {\n        output.insert(List.createItem({\n          type: 'Raw',\n          value: '\\n'\n        }));\n      }\n    }\n\n    if (firstAtrulesAllowed && !chunkChildren.isEmpty()) {\n      var lastRule = chunkChildren.last();\n\n      if (lastRule.type !== 'Atrule' || lastRule.name !== 'import' && lastRule.name !== 'charset') {\n        firstAtrulesAllowed = false;\n      }\n    }\n\n    if (specialComments !== 'exclamation') {\n      specialComments = false;\n    }\n\n    output.appendList(chunkChildren);\n  } while (!input.isEmpty());\n\n  return {\n    ast: ast\n  };\n};","map":{"version":3,"names":["List","require","clone","usageUtils","clean","replace","restructure","walk","readChunk","children","specialComments","buffer","nonSpaceTokenInBuffer","protectedComment","nextUntil","head","node","item","list","type","value","charAt","remove","insert","comment","stylesheet","loc","compressChunk","ast","firstAtrulesAllowed","num","options","logger","seed","id","visit","enter","markScopes","block","restructuring","getCommentsOption","comments","getRestructureOption","wrapBlock","appendData","prelude","name","module","exports","compress","compressOptions","forceMediaMerge","Boolean","usage","buildIndex","input","output","chunk","chunkNum","chunkChildren","isEmpty","createItem","lastRule","last","appendList"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/csso/lib/compress.js"],"sourcesContent":["var List = require('css-tree').List;\nvar clone = require('css-tree').clone;\nvar usageUtils = require('./usage');\nvar clean = require('./clean');\nvar replace = require('./replace');\nvar restructure = require('./restructure');\nvar walk = require('css-tree').walk;\n\nfunction readChunk(children, specialComments) {\n    var buffer = new List();\n    var nonSpaceTokenInBuffer = false;\n    var protectedComment;\n\n    children.nextUntil(children.head, function(node, item, list) {\n        if (node.type === 'Comment') {\n            if (!specialComments || node.value.charAt(0) !== '!') {\n                list.remove(item);\n                return;\n            }\n\n            if (nonSpaceTokenInBuffer || protectedComment) {\n                return true;\n            }\n\n            list.remove(item);\n            protectedComment = node;\n            return;\n        }\n\n        if (node.type !== 'WhiteSpace') {\n            nonSpaceTokenInBuffer = true;\n        }\n\n        buffer.insert(list.remove(item));\n    });\n\n    return {\n        comment: protectedComment,\n        stylesheet: {\n            type: 'StyleSheet',\n            loc: null,\n            children: buffer\n        }\n    };\n}\n\nfunction compressChunk(ast, firstAtrulesAllowed, num, options) {\n    options.logger('Compress block #' + num, null, true);\n\n    var seed = 1;\n\n    if (ast.type === 'StyleSheet') {\n        ast.firstAtrulesAllowed = firstAtrulesAllowed;\n        ast.id = seed++;\n    }\n\n    walk(ast, {\n        visit: 'Atrule',\n        enter: function markScopes(node) {\n            if (node.block !== null) {\n                node.block.id = seed++;\n            }\n        }\n    });\n    options.logger('init', ast);\n\n    // remove redundant\n    clean(ast, options);\n    options.logger('clean', ast);\n\n    // replace nodes for shortened forms\n    replace(ast, options);\n    options.logger('replace', ast);\n\n    // structure optimisations\n    if (options.restructuring) {\n        restructure(ast, options);\n    }\n\n    return ast;\n}\n\nfunction getCommentsOption(options) {\n    var comments = 'comments' in options ? options.comments : 'exclamation';\n\n    if (typeof comments === 'boolean') {\n        comments = comments ? 'exclamation' : false;\n    } else if (comments !== 'exclamation' && comments !== 'first-exclamation') {\n        comments = false;\n    }\n\n    return comments;\n}\n\nfunction getRestructureOption(options) {\n    if ('restructure' in options) {\n        return options.restructure;\n    }\n\n    return 'restructuring' in options ? options.restructuring : true;\n}\n\nfunction wrapBlock(block) {\n    return new List().appendData({\n        type: 'Rule',\n        loc: null,\n        prelude: {\n            type: 'SelectorList',\n            loc: null,\n            children: new List().appendData({\n                type: 'Selector',\n                loc: null,\n                children: new List().appendData({\n                    type: 'TypeSelector',\n                    loc: null,\n                    name: 'x'\n                })\n            })\n        },\n        block: block\n    });\n}\n\nmodule.exports = function compress(ast, options) {\n    ast = ast || { type: 'StyleSheet', loc: null, children: new List() };\n    options = options || {};\n\n    var compressOptions = {\n        logger: typeof options.logger === 'function' ? options.logger : function() {},\n        restructuring: getRestructureOption(options),\n        forceMediaMerge: Boolean(options.forceMediaMerge),\n        usage: options.usage ? usageUtils.buildIndex(options.usage) : false\n    };\n    var specialComments = getCommentsOption(options);\n    var firstAtrulesAllowed = true;\n    var input;\n    var output = new List();\n    var chunk;\n    var chunkNum = 1;\n    var chunkChildren;\n\n    if (options.clone) {\n        ast = clone(ast);\n    }\n\n    if (ast.type === 'StyleSheet') {\n        input = ast.children;\n        ast.children = output;\n    } else {\n        input = wrapBlock(ast);\n    }\n\n    do {\n        chunk = readChunk(input, Boolean(specialComments));\n        compressChunk(chunk.stylesheet, firstAtrulesAllowed, chunkNum++, compressOptions);\n        chunkChildren = chunk.stylesheet.children;\n\n        if (chunk.comment) {\n            // add \\n before comment if there is another content in output\n            if (!output.isEmpty()) {\n                output.insert(List.createItem({\n                    type: 'Raw',\n                    value: '\\n'\n                }));\n            }\n\n            output.insert(List.createItem(chunk.comment));\n\n            // add \\n after comment if chunk is not empty\n            if (!chunkChildren.isEmpty()) {\n                output.insert(List.createItem({\n                    type: 'Raw',\n                    value: '\\n'\n                }));\n            }\n        }\n\n        if (firstAtrulesAllowed && !chunkChildren.isEmpty()) {\n            var lastRule = chunkChildren.last();\n\n            if (lastRule.type !== 'Atrule' ||\n               (lastRule.name !== 'import' && lastRule.name !== 'charset')) {\n                firstAtrulesAllowed = false;\n            }\n        }\n\n        if (specialComments !== 'exclamation') {\n            specialComments = false;\n        }\n\n        output.appendList(chunkChildren);\n    } while (!input.isEmpty());\n\n    return {\n        ast: ast\n    };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}