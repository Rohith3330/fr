{"ast":null,"code":"'use strict';\n\nvar test = require('tape');\n\nvar keys = require('object-keys');\n\nvar semver = require('semver');\n\nvar mockProperty = require('mock-property');\n\nvar isCore = require('../');\n\nvar data = require('../core.json');\n\nvar supportsNodePrefix = semver.satisfies(process.versions.node, '^14.18 || >= 16', {\n  includePrerelease: true\n});\ntest('core modules', function (t) {\n  t.test('isCore()', function (st) {\n    st.ok(isCore('fs'));\n    st.ok(isCore('net'));\n    st.ok(isCore('http'));\n    st.ok(!isCore('seq'));\n    st.ok(!isCore('../'));\n    st.ok(!isCore('toString'));\n    st.end();\n  });\n  t.test('core list', function (st) {\n    var cores = keys(data);\n    st.plan(cores.length);\n\n    for (var i = 0; i < cores.length; ++i) {\n      var mod = cores[i];\n\n      var requireFunc = function () {\n        require(mod);\n      }; // eslint-disable-line no-loop-func\n\n\n      if (isCore(mod)) {\n        st.doesNotThrow(requireFunc, mod + ' supported; requiring does not throw');\n      } else {\n        st['throws'](requireFunc, mod + ' not supported; requiring throws');\n      }\n    }\n\n    st.end();\n  });\n  t.test('core via repl module', {\n    skip: !data.repl\n  }, function (st) {\n    var libs = require('repl')._builtinLibs; // eslint-disable-line no-underscore-dangle\n\n\n    if (!libs) {\n      st.skip('repl._builtinLibs does not exist');\n    } else {\n      for (var i = 0; i < libs.length; ++i) {\n        var mod = libs[i];\n        st.ok(data[mod], mod + ' is a core module');\n        st.doesNotThrow(function () {\n          require(mod);\n        }, // eslint-disable-line no-loop-func\n        'requiring ' + mod + ' does not throw');\n\n        if (mod.slice(0, 5) !== 'node:') {\n          if (supportsNodePrefix) {\n            st.doesNotThrow(function () {\n              require('node:' + mod);\n            }, // eslint-disable-line no-loop-func\n            'requiring node:' + mod + ' does not throw');\n          } else {\n            st['throws'](function () {\n              require('node:' + mod);\n            }, // eslint-disable-line no-loop-func\n            'requiring node:' + mod + ' throws');\n          }\n        }\n      }\n    }\n\n    st.end();\n  });\n  t.test('core via builtinModules list', {\n    skip: !data.module\n  }, function (st) {\n    var libs = require('module').builtinModules;\n\n    if (!libs) {\n      st.skip('module.builtinModules does not exist');\n    } else {\n      var excludeList = ['_debug_agent', 'v8/tools/tickprocessor-driver', 'v8/tools/SourceMap', 'v8/tools/tickprocessor', 'v8/tools/profile']; // see https://github.com/nodejs/node/issues/42785\n\n      if (semver.satisfies(process.version, '>= 18')) {\n        libs = libs.concat('node:test');\n      }\n\n      for (var i = 0; i < libs.length; ++i) {\n        var mod = libs[i];\n\n        if (excludeList.indexOf(mod) === -1) {\n          st.ok(data[mod], mod + ' is a core module');\n          st.doesNotThrow(function () {\n            require(mod);\n          }, // eslint-disable-line no-loop-func\n          'requiring ' + mod + ' does not throw');\n\n          if (mod.slice(0, 5) !== 'node:') {\n            if (supportsNodePrefix) {\n              st.doesNotThrow(function () {\n                require('node:' + mod);\n              }, // eslint-disable-line no-loop-func\n              'requiring node:' + mod + ' does not throw');\n            } else {\n              st['throws'](function () {\n                require('node:' + mod);\n              }, // eslint-disable-line no-loop-func\n              'requiring node:' + mod + ' throws');\n            }\n          }\n        }\n      }\n    }\n\n    st.end();\n  });\n  t.test('Object.prototype pollution', function (st) {\n    var nonKey = 'not a core module';\n    st.teardown(mockProperty(Object.prototype, 'fs', {\n      value: false\n    }));\n    st.teardown(mockProperty(Object.prototype, 'path', {\n      value: '>= 999999999'\n    }));\n    st.teardown(mockProperty(Object.prototype, 'http', {\n      value: data.http\n    }));\n    st.teardown(mockProperty(Object.prototype, nonKey, {\n      value: true\n    }));\n    st.equal(isCore('fs'), true, 'fs is a core module even if Object.prototype lies');\n    st.equal(isCore('path'), true, 'path is a core module even if Object.prototype lies');\n    st.equal(isCore('http'), true, 'path is a core module even if Object.prototype matches data');\n    st.equal(isCore(nonKey), false, '\"' + nonKey + '\" is not a core module even if Object.prototype lies');\n    st.end();\n  });\n  t.end();\n});","map":{"version":3,"names":["test","require","keys","semver","mockProperty","isCore","data","supportsNodePrefix","satisfies","process","versions","node","includePrerelease","t","st","ok","end","cores","plan","length","i","mod","requireFunc","doesNotThrow","skip","repl","libs","_builtinLibs","slice","module","builtinModules","excludeList","version","concat","indexOf","nonKey","teardown","Object","prototype","value","http","equal"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/is-core-module/test/index.js"],"sourcesContent":["'use strict';\n\nvar test = require('tape');\nvar keys = require('object-keys');\nvar semver = require('semver');\nvar mockProperty = require('mock-property');\n\nvar isCore = require('../');\nvar data = require('../core.json');\n\nvar supportsNodePrefix = semver.satisfies(process.versions.node, '^14.18 || >= 16', { includePrerelease: true });\n\ntest('core modules', function (t) {\n\tt.test('isCore()', function (st) {\n\t\tst.ok(isCore('fs'));\n\t\tst.ok(isCore('net'));\n\t\tst.ok(isCore('http'));\n\n\t\tst.ok(!isCore('seq'));\n\t\tst.ok(!isCore('../'));\n\n\t\tst.ok(!isCore('toString'));\n\n\t\tst.end();\n\t});\n\n\tt.test('core list', function (st) {\n\t\tvar cores = keys(data);\n\t\tst.plan(cores.length);\n\n\t\tfor (var i = 0; i < cores.length; ++i) {\n\t\t\tvar mod = cores[i];\n\t\t\tvar requireFunc = function () { require(mod); }; // eslint-disable-line no-loop-func\n\t\t\tif (isCore(mod)) {\n\t\t\t\tst.doesNotThrow(requireFunc, mod + ' supported; requiring does not throw');\n\t\t\t} else {\n\t\t\t\tst['throws'](requireFunc, mod + ' not supported; requiring throws');\n\t\t\t}\n\t\t}\n\n\t\tst.end();\n\t});\n\n\tt.test('core via repl module', { skip: !data.repl }, function (st) {\n\t\tvar libs = require('repl')._builtinLibs; // eslint-disable-line no-underscore-dangle\n\t\tif (!libs) {\n\t\t\tst.skip('repl._builtinLibs does not exist');\n\t\t} else {\n\t\t\tfor (var i = 0; i < libs.length; ++i) {\n\t\t\t\tvar mod = libs[i];\n\t\t\t\tst.ok(data[mod], mod + ' is a core module');\n\t\t\t\tst.doesNotThrow(\n\t\t\t\t\tfunction () { require(mod); }, // eslint-disable-line no-loop-func\n\t\t\t\t\t'requiring ' + mod + ' does not throw'\n\t\t\t\t);\n\t\t\t\tif (mod.slice(0, 5) !== 'node:') {\n\t\t\t\t\tif (supportsNodePrefix) {\n\t\t\t\t\t\tst.doesNotThrow(\n\t\t\t\t\t\t\tfunction () { require('node:' + mod); }, // eslint-disable-line no-loop-func\n\t\t\t\t\t\t\t'requiring node:' + mod + ' does not throw'\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tst['throws'](\n\t\t\t\t\t\t\tfunction () { require('node:' + mod); }, // eslint-disable-line no-loop-func\n\t\t\t\t\t\t\t'requiring node:' + mod + ' throws'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tst.end();\n\t});\n\n\tt.test('core via builtinModules list', { skip: !data.module }, function (st) {\n\t\tvar libs = require('module').builtinModules;\n\t\tif (!libs) {\n\t\t\tst.skip('module.builtinModules does not exist');\n\t\t} else {\n\t\t\tvar excludeList = [\n\t\t\t\t'_debug_agent',\n\t\t\t\t'v8/tools/tickprocessor-driver',\n\t\t\t\t'v8/tools/SourceMap',\n\t\t\t\t'v8/tools/tickprocessor',\n\t\t\t\t'v8/tools/profile'\n\t\t\t];\n\t\t\t// see https://github.com/nodejs/node/issues/42785\n\t\t\tif (semver.satisfies(process.version, '>= 18')) {\n\t\t\t\tlibs = libs.concat('node:test');\n\t\t\t}\n\t\t\tfor (var i = 0; i < libs.length; ++i) {\n\t\t\t\tvar mod = libs[i];\n\t\t\t\tif (excludeList.indexOf(mod) === -1) {\n\t\t\t\t\tst.ok(data[mod], mod + ' is a core module');\n\t\t\t\t\tst.doesNotThrow(\n\t\t\t\t\t\tfunction () { require(mod); }, // eslint-disable-line no-loop-func\n\t\t\t\t\t\t'requiring ' + mod + ' does not throw'\n\t\t\t\t\t);\n\t\t\t\t\tif (mod.slice(0, 5) !== 'node:') {\n\t\t\t\t\t\tif (supportsNodePrefix) {\n\t\t\t\t\t\t\tst.doesNotThrow(\n\t\t\t\t\t\t\t\tfunction () { require('node:' + mod); }, // eslint-disable-line no-loop-func\n\t\t\t\t\t\t\t\t'requiring node:' + mod + ' does not throw'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tst['throws'](\n\t\t\t\t\t\t\t\tfunction () { require('node:' + mod); }, // eslint-disable-line no-loop-func\n\t\t\t\t\t\t\t\t'requiring node:' + mod + ' throws'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tst.end();\n\t});\n\n\tt.test('Object.prototype pollution', function (st) {\n\t\tvar nonKey = 'not a core module';\n\t\tst.teardown(mockProperty(Object.prototype, 'fs', { value: false }));\n\t\tst.teardown(mockProperty(Object.prototype, 'path', { value: '>= 999999999' }));\n\t\tst.teardown(mockProperty(Object.prototype, 'http', { value: data.http }));\n\t\tst.teardown(mockProperty(Object.prototype, nonKey, { value: true }));\n\n\t\tst.equal(isCore('fs'), true, 'fs is a core module even if Object.prototype lies');\n\t\tst.equal(isCore('path'), true, 'path is a core module even if Object.prototype lies');\n\t\tst.equal(isCore('http'), true, 'path is a core module even if Object.prototype matches data');\n\t\tst.equal(isCore(nonKey), false, '\"' + nonKey + '\" is not a core module even if Object.prototype lies');\n\n\t\tst.end();\n\t});\n\n\tt.end();\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}