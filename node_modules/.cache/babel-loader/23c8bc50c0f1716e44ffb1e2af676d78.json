{"ast":null,"code":"var decls = require('./decls.json');\n\nfunction template(string, data) {\n  return string.replace(/\\$\\{([\\w\\-\\.]*)\\}/g, function (_str, key) {\n    var v = data[key];\n    return typeof v !== 'undefined' && v !== null ? v : '';\n  });\n}\n/*\n  Rules legend:\n   - combined - if rule is combined it will be rendered with template\n   - combined and basic rules are present in basic reset\n   - combined, basic and inherited rules are present in full reset\n*/\n\n\nfunction _getRulesMap(inputDecls) {\n  return inputDecls.filter(function (decl) {\n    return !decl.combined;\n  }).reduce(function (map, decl) {\n    map[decl.prop.replace(/\\-/g, '')] = decl.initial;\n    return map;\n  }, {});\n}\n\nfunction _compileDecls(inputDecls) {\n  var templateVars = _getRulesMap(inputDecls);\n\n  return inputDecls.map(function (decl) {\n    if (decl.combined && decl.initial) {\n      decl.initial = template(decl.initial.replace(/\\-/g, ''), templateVars);\n    }\n\n    return decl;\n  });\n}\n\nfunction _getRequirements(inputDecls) {\n  return inputDecls.reduce(function (map, decl) {\n    if (!decl.contains) return map;\n    return decl.contains.reduce(function (mapInner, dependency) {\n      mapInner[dependency] = decl;\n      return mapInner;\n    }, map);\n  }, {});\n}\n\nfunction _expandContainments(inputDecls) {\n  var requiredMap = _getRequirements(inputDecls);\n\n  return inputDecls.filter(function (decl) {\n    return !decl.contains;\n  }).map(function (decl) {\n    var dependency = requiredMap[decl.prop];\n\n    if (dependency) {\n      decl.requiredBy = dependency.prop;\n      decl.basic = decl.basic || dependency.basic;\n      decl.inherited = decl.inherited || dependency.inherited;\n    }\n\n    return decl;\n  });\n}\n\nvar compiledDecls = _expandContainments(_compileDecls(decls));\n\nfunction _clearDecls(rules, value) {\n  return rules.map(function (rule) {\n    return {\n      prop: rule.prop,\n      value: value.replace(/\\binitial\\b/g, rule.initial)\n    };\n  });\n}\n\nfunction _allDecls(onlyInherited) {\n  return compiledDecls.filter(function (decl) {\n    var allowed = decl.combined || decl.basic;\n    if (onlyInherited) return allowed && decl.inherited;\n    return allowed;\n  });\n}\n\nfunction _concreteDecl(declName) {\n  return compiledDecls.filter(function (decl) {\n    return declName === decl.prop || declName === decl.requiredBy;\n  });\n}\n\nfunction makeFallbackFunction(onlyInherited) {\n  return function (declName, declValue) {\n    var result;\n\n    if (declName === 'all') {\n      result = _allDecls(onlyInherited);\n    } else {\n      result = _concreteDecl(declName);\n    }\n\n    return _clearDecls(result, declValue);\n  };\n}\n\nmodule.exports = makeFallbackFunction;","map":{"version":3,"names":["decls","require","template","string","data","replace","_str","key","v","_getRulesMap","inputDecls","filter","decl","combined","reduce","map","prop","initial","_compileDecls","templateVars","_getRequirements","contains","mapInner","dependency","_expandContainments","requiredMap","requiredBy","basic","inherited","compiledDecls","_clearDecls","rules","value","rule","_allDecls","onlyInherited","allowed","_concreteDecl","declName","makeFallbackFunction","declValue","result","module","exports"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/postcss-initial/lib/rules-fabric.js"],"sourcesContent":["var decls =  require('./decls.json');\n\nfunction template(string, data) {\n  return string.replace(/\\$\\{([\\w\\-\\.]*)\\}/g, function (_str, key) {\n    var v = data[key];\n    return typeof v !== 'undefined' && v !== null ? v : '';\n  });\n}\n\n/*\n  Rules legend:\n   - combined - if rule is combined it will be rendered with template\n   - combined and basic rules are present in basic reset\n   - combined, basic and inherited rules are present in full reset\n*/\n\nfunction _getRulesMap(inputDecls) {\n  return inputDecls\n    .filter(function (decl) {\n      return !decl.combined;\n    })\n    .reduce(function (map, decl) {\n      map[decl.prop.replace(/\\-/g, '')] = decl.initial;\n      return map;\n    }, {});\n}\n\nfunction _compileDecls(inputDecls) {\n  var templateVars = _getRulesMap(inputDecls);\n  return inputDecls.map(function (decl) {\n    if (decl.combined && decl.initial) {\n      decl.initial = template(decl.initial.replace(/\\-/g, ''), templateVars);\n    }\n    return decl;\n  });\n}\n\nfunction _getRequirements(inputDecls) {\n  return inputDecls.reduce(function (map, decl) {\n    if (!decl.contains) return map;\n    return decl.contains.reduce(function (mapInner, dependency) {\n      mapInner[dependency] = decl;\n      return mapInner;\n    }, map);\n  }, {});\n}\n\nfunction _expandContainments(inputDecls) {\n  var requiredMap = _getRequirements(inputDecls);\n  return inputDecls\n    .filter(function (decl) {\n      return !decl.contains;\n    }).map(function (decl) {\n      var dependency = requiredMap[decl.prop];\n      if (dependency) {\n        decl.requiredBy = dependency.prop;\n        decl.basic = decl.basic || dependency.basic;\n        decl.inherited = decl.inherited || dependency.inherited;\n      }\n      return decl;\n    });\n}\n\nvar compiledDecls = _expandContainments(_compileDecls(decls));\n\nfunction _clearDecls(rules, value) {\n  return rules.map(function (rule) {\n    return {\n      prop:  rule.prop,\n      value: value.replace(/\\binitial\\b/g, rule.initial)\n    };\n  });\n}\n\nfunction _allDecls(onlyInherited) {\n  return compiledDecls.filter(function (decl) {\n    var allowed = decl.combined || decl.basic;\n    if (onlyInherited) return allowed && decl.inherited;\n    return allowed;\n  });\n}\n\nfunction _concreteDecl(declName) {\n  return compiledDecls.filter(function (decl) {\n    return declName === decl.prop || declName === decl.requiredBy;\n  });\n}\n\nfunction makeFallbackFunction(onlyInherited) {\n  return function (declName, declValue) {\n    var result;\n    if (declName === 'all') {\n      result = _allDecls(onlyInherited);\n    } else {\n      result = _concreteDecl(declName);\n    }\n    return _clearDecls(result, declValue);\n  };\n}\n\nmodule.exports = makeFallbackFunction;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}