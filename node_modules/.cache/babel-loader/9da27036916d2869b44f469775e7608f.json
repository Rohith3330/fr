{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WithScope = void 0;\n\nconst assert_1 = require(\"../assert\");\n\nconst ScopeBase_1 = require(\"./ScopeBase\");\n\nconst ScopeType_1 = require(\"./ScopeType\");\n\nclass WithScope extends ScopeBase_1.ScopeBase {\n  constructor(scopeManager, upperScope, block) {\n    super(scopeManager, ScopeType_1.ScopeType.with, upperScope, block, false);\n  }\n\n  close(scopeManager) {\n    if (this.shouldStaticallyClose()) {\n      return super.close(scopeManager);\n    }\n\n    (0, assert_1.assert)(this.leftToResolve);\n    this.leftToResolve.forEach(ref => this.delegateToUpperScope(ref));\n    this.leftToResolve = null;\n    return this.upper;\n  }\n\n}\n\nexports.WithScope = WithScope;","map":{"version":3,"mappings":";;;;;;;AAEA;;AAGA;;AACA;;AAEA,MAAMA,SAAN,SAAwBC,qBAAxB,CAIC;EACCC,YACEC,YADF,EAEEC,UAFF,EAGEC,KAHF,EAG2B;IAEzB,MAAMF,YAAN,EAAoBG,sBAAUC,IAA9B,EAAoCH,UAApC,EAAgDC,KAAhD,EAAuD,KAAvD;EACD;;EACDG,KAAK,CAACL,YAAD,EAA2B;IAC9B,IAAI,KAAKM,qBAAL,EAAJ,EAAkC;MAChC,OAAO,MAAMD,KAAN,CAAYL,YAAZ,CAAP;IACD;;IACD,qBAAO,KAAKO,aAAZ;IACA,KAAKA,aAAL,CAAmBC,OAAnB,CAA2BC,GAAG,IAAI,KAAKC,oBAAL,CAA0BD,GAA1B,CAAlC;IACA,KAAKF,aAAL,GAAqB,IAArB;IACA,OAAO,KAAKI,KAAZ;EACD;;AAhBF;;AAmBQC","names":["WithScope","ScopeBase_1","constructor","scopeManager","upperScope","block","ScopeType_1","with","close","shouldStaticallyClose","leftToResolve","forEach","ref","delegateToUpperScope","upper","exports"],"sources":["../../src/scope/WithScope.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}