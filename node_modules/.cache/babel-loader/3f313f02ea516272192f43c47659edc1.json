{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RULE_NAME = void 0;\n\nconst create_testing_library_rule_1 = require(\"../create-testing-library-rule\");\n\nconst node_utils_1 = require(\"../node-utils\");\n\nexports.RULE_NAME = 'no-dom-import';\nconst DOM_TESTING_LIBRARY_MODULES = ['dom-testing-library', '@testing-library/dom'];\nconst correctModuleNameByFramework = {\n  angular: '@testing-library/angular',\n  marko: '@marko/testing-library'\n};\n\nconst getCorrectModuleName = (moduleName, framework) => correctModuleNameByFramework[framework] || moduleName.replace('dom', framework);\n\nexports.default = (0, create_testing_library_rule_1.createTestingLibraryRule)({\n  name: exports.RULE_NAME,\n  meta: {\n    type: 'problem',\n    docs: {\n      description: 'Disallow importing from DOM Testing Library',\n      recommendedConfig: {\n        dom: false,\n        angular: ['error', 'angular'],\n        react: ['error', 'react'],\n        vue: ['error', 'vue'],\n        marko: ['error', 'marko']\n      }\n    },\n    messages: {\n      noDomImport: 'import from DOM Testing Library is restricted, import from corresponding Testing Library framework instead',\n      noDomImportFramework: 'import from DOM Testing Library is restricted, import from {{module}} instead'\n    },\n    fixable: 'code',\n    schema: [{\n      type: 'string'\n    }]\n  },\n  defaultOptions: [''],\n\n  create(context, _ref, helpers) {\n    let [framework] = _ref;\n\n    function report(node, moduleName) {\n      if (!framework) {\n        return context.report({\n          node,\n          messageId: 'noDomImport'\n        });\n      }\n\n      const correctModuleName = getCorrectModuleName(moduleName, framework);\n      context.report({\n        data: {\n          module: correctModuleName\n        },\n\n        fix(fixer) {\n          if ((0, node_utils_1.isCallExpression)(node)) {\n            const name = node.arguments[0];\n            return fixer.replaceText(name, name.raw.replace(moduleName, correctModuleName));\n          } else {\n            const name = node.source;\n            return fixer.replaceText(name, name.raw.replace(moduleName, correctModuleName));\n          }\n        },\n\n        messageId: 'noDomImportFramework',\n        node\n      });\n    }\n\n    return {\n      'Program:exit'() {\n        const importName = helpers.getTestingLibraryImportName();\n        const importNode = helpers.getTestingLibraryImportNode();\n\n        if (!importNode) {\n          return;\n        }\n\n        const domModuleName = DOM_TESTING_LIBRARY_MODULES.find(module => module === importName);\n\n        if (!domModuleName) {\n          return;\n        }\n\n        report(importNode, domModuleName);\n      }\n\n    };\n  }\n\n});","map":{"version":3,"names":["Object","defineProperty","exports","value","RULE_NAME","create_testing_library_rule_1","require","node_utils_1","DOM_TESTING_LIBRARY_MODULES","correctModuleNameByFramework","angular","marko","getCorrectModuleName","moduleName","framework","replace","default","createTestingLibraryRule","name","meta","type","docs","description","recommendedConfig","dom","react","vue","messages","noDomImport","noDomImportFramework","fixable","schema","defaultOptions","create","context","helpers","report","node","messageId","correctModuleName","data","module","fix","fixer","isCallExpression","arguments","replaceText","raw","source","importName","getTestingLibraryImportName","importNode","getTestingLibraryImportNode","domModuleName","find"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/eslint-plugin-testing-library/rules/no-dom-import.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RULE_NAME = void 0;\nconst create_testing_library_rule_1 = require(\"../create-testing-library-rule\");\nconst node_utils_1 = require(\"../node-utils\");\nexports.RULE_NAME = 'no-dom-import';\nconst DOM_TESTING_LIBRARY_MODULES = [\n    'dom-testing-library',\n    '@testing-library/dom',\n];\nconst correctModuleNameByFramework = {\n    angular: '@testing-library/angular',\n    marko: '@marko/testing-library',\n};\nconst getCorrectModuleName = (moduleName, framework) => correctModuleNameByFramework[framework] ||\n    moduleName.replace('dom', framework);\nexports.default = (0, create_testing_library_rule_1.createTestingLibraryRule)({\n    name: exports.RULE_NAME,\n    meta: {\n        type: 'problem',\n        docs: {\n            description: 'Disallow importing from DOM Testing Library',\n            recommendedConfig: {\n                dom: false,\n                angular: ['error', 'angular'],\n                react: ['error', 'react'],\n                vue: ['error', 'vue'],\n                marko: ['error', 'marko'],\n            },\n        },\n        messages: {\n            noDomImport: 'import from DOM Testing Library is restricted, import from corresponding Testing Library framework instead',\n            noDomImportFramework: 'import from DOM Testing Library is restricted, import from {{module}} instead',\n        },\n        fixable: 'code',\n        schema: [{ type: 'string' }],\n    },\n    defaultOptions: [''],\n    create(context, [framework], helpers) {\n        function report(node, moduleName) {\n            if (!framework) {\n                return context.report({\n                    node,\n                    messageId: 'noDomImport',\n                });\n            }\n            const correctModuleName = getCorrectModuleName(moduleName, framework);\n            context.report({\n                data: { module: correctModuleName },\n                fix(fixer) {\n                    if ((0, node_utils_1.isCallExpression)(node)) {\n                        const name = node.arguments[0];\n                        return fixer.replaceText(name, name.raw.replace(moduleName, correctModuleName));\n                    }\n                    else {\n                        const name = node.source;\n                        return fixer.replaceText(name, name.raw.replace(moduleName, correctModuleName));\n                    }\n                },\n                messageId: 'noDomImportFramework',\n                node,\n            });\n        }\n        return {\n            'Program:exit'() {\n                const importName = helpers.getTestingLibraryImportName();\n                const importNode = helpers.getTestingLibraryImportNode();\n                if (!importNode) {\n                    return;\n                }\n                const domModuleName = DOM_TESTING_LIBRARY_MODULES.find((module) => module === importName);\n                if (!domModuleName) {\n                    return;\n                }\n                report(importNode, domModuleName);\n            },\n        };\n    },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}