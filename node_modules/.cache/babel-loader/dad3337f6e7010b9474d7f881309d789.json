{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst chalk_1 = __importDefault(require(\"chalk\"));\n\nconst pluginHooks_1 = require(\"./pluginHooks\");\n\nconst WebpackFormatter_1 = require(\"../formatter/WebpackFormatter\");\n\nconst IssueWebpackError_1 = require(\"../issue/IssueWebpackError\");\n\nconst isPending_1 = __importDefault(require(\"../utils/async/isPending\"));\n\nconst wait_1 = __importDefault(require(\"../utils/async/wait\"));\n\nfunction tapDoneToAsyncGetIssues(compiler, configuration, state) {\n  const hooks = pluginHooks_1.getForkTsCheckerWebpackPluginHooks(compiler);\n  compiler.hooks.done.tap('ForkTsCheckerWebpackPlugin', stats => __awaiter(this, void 0, void 0, function* () {\n    if (stats.compilation.compiler !== compiler) {\n      // run only for the compiler that the plugin was registered for\n      return;\n    }\n\n    const reportPromise = state.issuesReportPromise;\n    const issuesPromise = state.issuesPromise;\n    let issues;\n\n    try {\n      if (yield isPending_1.default(issuesPromise)) {\n        hooks.waiting.call(stats.compilation);\n        configuration.logger.issues.log(chalk_1.default.cyan('Issues checking in progress...'));\n      } else {\n        // wait 10ms to log issues after webpack stats\n        yield wait_1.default(10);\n      }\n\n      issues = yield issuesPromise;\n    } catch (error) {\n      hooks.error.call(error, stats.compilation);\n      return;\n    }\n\n    if (!issues) {\n      // some error has been thrown or it was canceled\n      return;\n    }\n\n    if (reportPromise !== state.issuesReportPromise) {\n      // there is a newer report - ignore this one\n      return;\n    } // filter list of issues by provided issue predicate\n\n\n    issues = issues.filter(configuration.issue.predicate); // modify list of issues in the plugin hooks\n\n    issues = hooks.issues.call(issues, stats.compilation);\n    const formatter = WebpackFormatter_1.createWebpackFormatter(configuration.formatter);\n\n    if (issues.length) {\n      // follow webpack's approach - one process.write to stderr with all errors and warnings\n      configuration.logger.issues.error(issues.map(issue => formatter(issue)).join('\\n'));\n    } else {\n      configuration.logger.issues.log(chalk_1.default.green('No issues found.'));\n    } // report issues to webpack-dev-server, if it's listening\n    // skip reporting if there are no issues, to avoid an extra hot reload\n\n\n    if (issues.length && state.webpackDevServerDoneTap) {\n      issues.forEach(issue => {\n        const error = new IssueWebpackError_1.IssueWebpackError(configuration.formatter(issue), issue);\n\n        if (issue.severity === 'warning') {\n          stats.compilation.warnings.push(error);\n        } else {\n          stats.compilation.errors.push(error);\n        }\n      });\n      state.webpackDevServerDoneTap.fn(stats);\n    }\n\n    if (stats.startTime) {\n      configuration.logger.infrastructure.info(`Time: ${Math.round(Date.now() - stats.startTime).toString()} ms`);\n    }\n  }));\n}\n\nexports.tapDoneToAsyncGetIssues = tapDoneToAsyncGetIssues;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__importDefault","mod","__esModule","Object","defineProperty","exports","chalk_1","require","pluginHooks_1","WebpackFormatter_1","IssueWebpackError_1","isPending_1","wait_1","tapDoneToAsyncGetIssues","compiler","configuration","state","hooks","getForkTsCheckerWebpackPluginHooks","tap","stats","compilation","reportPromise","issuesReportPromise","issuesPromise","issues","default","waiting","call","logger","log","cyan","error","filter","issue","predicate","formatter","createWebpackFormatter","length","map","join","green","webpackDevServerDoneTap","forEach","IssueWebpackError","severity","warnings","push","errors","fn","startTime","infrastructure","info","Math","round","Date","now","toString"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/fork-ts-checker-webpack-plugin/lib/hooks/tapDoneToAsyncGetIssues.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst chalk_1 = __importDefault(require(\"chalk\"));\nconst pluginHooks_1 = require(\"./pluginHooks\");\nconst WebpackFormatter_1 = require(\"../formatter/WebpackFormatter\");\nconst IssueWebpackError_1 = require(\"../issue/IssueWebpackError\");\nconst isPending_1 = __importDefault(require(\"../utils/async/isPending\"));\nconst wait_1 = __importDefault(require(\"../utils/async/wait\"));\nfunction tapDoneToAsyncGetIssues(compiler, configuration, state) {\n    const hooks = pluginHooks_1.getForkTsCheckerWebpackPluginHooks(compiler);\n    compiler.hooks.done.tap('ForkTsCheckerWebpackPlugin', (stats) => __awaiter(this, void 0, void 0, function* () {\n        if (stats.compilation.compiler !== compiler) {\n            // run only for the compiler that the plugin was registered for\n            return;\n        }\n        const reportPromise = state.issuesReportPromise;\n        const issuesPromise = state.issuesPromise;\n        let issues;\n        try {\n            if (yield isPending_1.default(issuesPromise)) {\n                hooks.waiting.call(stats.compilation);\n                configuration.logger.issues.log(chalk_1.default.cyan('Issues checking in progress...'));\n            }\n            else {\n                // wait 10ms to log issues after webpack stats\n                yield wait_1.default(10);\n            }\n            issues = yield issuesPromise;\n        }\n        catch (error) {\n            hooks.error.call(error, stats.compilation);\n            return;\n        }\n        if (!issues) {\n            // some error has been thrown or it was canceled\n            return;\n        }\n        if (reportPromise !== state.issuesReportPromise) {\n            // there is a newer report - ignore this one\n            return;\n        }\n        // filter list of issues by provided issue predicate\n        issues = issues.filter(configuration.issue.predicate);\n        // modify list of issues in the plugin hooks\n        issues = hooks.issues.call(issues, stats.compilation);\n        const formatter = WebpackFormatter_1.createWebpackFormatter(configuration.formatter);\n        if (issues.length) {\n            // follow webpack's approach - one process.write to stderr with all errors and warnings\n            configuration.logger.issues.error(issues.map((issue) => formatter(issue)).join('\\n'));\n        }\n        else {\n            configuration.logger.issues.log(chalk_1.default.green('No issues found.'));\n        }\n        // report issues to webpack-dev-server, if it's listening\n        // skip reporting if there are no issues, to avoid an extra hot reload\n        if (issues.length && state.webpackDevServerDoneTap) {\n            issues.forEach((issue) => {\n                const error = new IssueWebpackError_1.IssueWebpackError(configuration.formatter(issue), issue);\n                if (issue.severity === 'warning') {\n                    stats.compilation.warnings.push(error);\n                }\n                else {\n                    stats.compilation.errors.push(error);\n                }\n            });\n            state.webpackDevServerDoneTap.fn(stats);\n        }\n        if (stats.startTime) {\n            configuration.logger.infrastructure.info(`Time: ${Math.round(Date.now() - stats.startTime).toString()} ms`);\n        }\n    }));\n}\nexports.tapDoneToAsyncGetIssues = tapDoneToAsyncGetIssues;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}