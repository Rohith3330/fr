{"ast":null,"code":"var Q = require(\"./q\");\n\nmodule.exports = Queue;\n\nfunction Queue() {\n  var ends = Q.defer();\n  var closed = Q.defer();\n  return {\n    put: function (value) {\n      var next = Q.defer();\n      ends.resolve({\n        head: value,\n        tail: next.promise\n      });\n      ends.resolve = next.resolve;\n    },\n    get: function () {\n      var result = ends.promise.get(\"head\");\n      ends.promise = ends.promise.get(\"tail\");\n      return result.fail(function (error) {\n        closed.resolve(error);\n        throw error;\n      });\n    },\n    closed: closed.promise,\n    close: function (error) {\n      error = error || new Error(\"Can't get value from closed queue\");\n      var end = {\n        head: Q.reject(error)\n      };\n      end.tail = end;\n      ends.resolve(end);\n      return closed.promise;\n    }\n  };\n}","map":{"version":3,"names":["Q","require","module","exports","Queue","ends","defer","closed","put","value","next","resolve","head","tail","promise","get","result","fail","error","close","Error","end","reject"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/q/queue.js"],"sourcesContent":["\nvar Q = require(\"./q\");\n\nmodule.exports = Queue;\nfunction Queue() {\n    var ends = Q.defer();\n    var closed = Q.defer();\n    return {\n        put: function (value) {\n            var next = Q.defer();\n            ends.resolve({\n                head: value,\n                tail: next.promise\n            });\n            ends.resolve = next.resolve;\n        },\n        get: function () {\n            var result = ends.promise.get(\"head\");\n            ends.promise = ends.promise.get(\"tail\");\n            return result.fail(function (error) {\n                closed.resolve(error);\n                throw error;\n            });\n        },\n        closed: closed.promise,\n        close: function (error) {\n            error = error || new Error(\"Can't get value from closed queue\");\n            var end = {head: Q.reject(error)};\n            end.tail = end;\n            ends.resolve(end);\n            return closed.promise;\n        }\n    };\n}\n\n"],"mappings":"AACA,IAAIA,CAAC,GAAGC,OAAO,CAAC,KAAD,CAAf;;AAEAC,MAAM,CAACC,OAAP,GAAiBC,KAAjB;;AACA,SAASA,KAAT,GAAiB;EACb,IAAIC,IAAI,GAAGL,CAAC,CAACM,KAAF,EAAX;EACA,IAAIC,MAAM,GAAGP,CAAC,CAACM,KAAF,EAAb;EACA,OAAO;IACHE,GAAG,EAAE,UAAUC,KAAV,EAAiB;MAClB,IAAIC,IAAI,GAAGV,CAAC,CAACM,KAAF,EAAX;MACAD,IAAI,CAACM,OAAL,CAAa;QACTC,IAAI,EAAEH,KADG;QAETI,IAAI,EAAEH,IAAI,CAACI;MAFF,CAAb;MAIAT,IAAI,CAACM,OAAL,GAAeD,IAAI,CAACC,OAApB;IACH,CARE;IASHI,GAAG,EAAE,YAAY;MACb,IAAIC,MAAM,GAAGX,IAAI,CAACS,OAAL,CAAaC,GAAb,CAAiB,MAAjB,CAAb;MACAV,IAAI,CAACS,OAAL,GAAeT,IAAI,CAACS,OAAL,CAAaC,GAAb,CAAiB,MAAjB,CAAf;MACA,OAAOC,MAAM,CAACC,IAAP,CAAY,UAAUC,KAAV,EAAiB;QAChCX,MAAM,CAACI,OAAP,CAAeO,KAAf;QACA,MAAMA,KAAN;MACH,CAHM,CAAP;IAIH,CAhBE;IAiBHX,MAAM,EAAEA,MAAM,CAACO,OAjBZ;IAkBHK,KAAK,EAAE,UAAUD,KAAV,EAAiB;MACpBA,KAAK,GAAGA,KAAK,IAAI,IAAIE,KAAJ,CAAU,mCAAV,CAAjB;MACA,IAAIC,GAAG,GAAG;QAACT,IAAI,EAAEZ,CAAC,CAACsB,MAAF,CAASJ,KAAT;MAAP,CAAV;MACAG,GAAG,CAACR,IAAJ,GAAWQ,GAAX;MACAhB,IAAI,CAACM,OAAL,CAAaU,GAAb;MACA,OAAOd,MAAM,CAACO,OAAd;IACH;EAxBE,CAAP;AA0BH"},"metadata":{},"sourceType":"script"}