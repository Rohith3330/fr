{"ast":null,"code":"var canReorder = require('./reorderable').canReorder;\n\nvar extractProperties = require('./extract-properties');\n\nvar optimizeProperties = require('./properties/optimize');\n\nvar serializeRules = require('../../writer/one-time').rules;\n\nvar Token = require('../../tokenizer/token');\n\nfunction mergeNonAdjacentBySelector(tokens, context) {\n  var specificityCache = context.cache.specificity;\n  var allSelectors = {};\n  var repeatedSelectors = [];\n  var i;\n\n  for (i = tokens.length - 1; i >= 0; i--) {\n    if (tokens[i][0] != Token.RULE) {\n      continue;\n    }\n\n    if (tokens[i][2].length === 0) {\n      continue;\n    }\n\n    var selector = serializeRules(tokens[i][1]);\n    allSelectors[selector] = [i].concat(allSelectors[selector] || []);\n\n    if (allSelectors[selector].length == 2) {\n      repeatedSelectors.push(selector);\n    }\n  }\n\n  for (i = repeatedSelectors.length - 1; i >= 0; i--) {\n    var positions = allSelectors[repeatedSelectors[i]];\n\n    selectorIterator: for (var j = positions.length - 1; j > 0; j--) {\n      var positionOne = positions[j - 1];\n      var tokenOne = tokens[positionOne];\n      var positionTwo = positions[j];\n      var tokenTwo = tokens[positionTwo];\n\n      directionIterator: for (var direction = 1; direction >= -1; direction -= 2) {\n        var topToBottom = direction == 1;\n        var from = topToBottom ? positionOne + 1 : positionTwo - 1;\n        var to = topToBottom ? positionTwo : positionOne;\n        var delta = topToBottom ? 1 : -1;\n        var moved = topToBottom ? tokenOne : tokenTwo;\n        var target = topToBottom ? tokenTwo : tokenOne;\n        var movedProperties = extractProperties(moved);\n\n        while (from != to) {\n          var traversedProperties = extractProperties(tokens[from]);\n          from += delta; // traversed then moved as we move selectors towards the start\n\n          var reorderable = topToBottom ? canReorder(movedProperties, traversedProperties, specificityCache) : canReorder(traversedProperties, movedProperties, specificityCache);\n\n          if (!reorderable && !topToBottom) {\n            continue selectorIterator;\n          }\n\n          if (!reorderable && topToBottom) {\n            continue directionIterator;\n          }\n        }\n\n        if (topToBottom) {\n          Array.prototype.push.apply(moved[2], target[2]);\n          target[2] = moved[2];\n        } else {\n          Array.prototype.push.apply(target[2], moved[2]);\n        }\n\n        optimizeProperties(target[2], true, true, context);\n        moved[2] = [];\n      }\n    }\n  }\n}\n\nmodule.exports = mergeNonAdjacentBySelector;","map":{"version":3,"names":["canReorder","require","extractProperties","optimizeProperties","serializeRules","rules","Token","mergeNonAdjacentBySelector","tokens","context","specificityCache","cache","specificity","allSelectors","repeatedSelectors","i","length","RULE","selector","concat","push","positions","selectorIterator","j","positionOne","tokenOne","positionTwo","tokenTwo","directionIterator","direction","topToBottom","from","to","delta","moved","target","movedProperties","traversedProperties","reorderable","Array","prototype","apply","module","exports"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/clean-css/lib/optimizer/level-2/merge-non-adjacent-by-selector.js"],"sourcesContent":["var canReorder = require('./reorderable').canReorder;\nvar extractProperties = require('./extract-properties');\n\nvar optimizeProperties = require('./properties/optimize');\n\nvar serializeRules = require('../../writer/one-time').rules;\n\nvar Token = require('../../tokenizer/token');\n\nfunction mergeNonAdjacentBySelector(tokens, context) {\n  var specificityCache = context.cache.specificity;\n  var allSelectors = {};\n  var repeatedSelectors = [];\n  var i;\n\n  for (i = tokens.length - 1; i >= 0; i--) {\n    if (tokens[i][0] != Token.RULE) { continue; }\n    if (tokens[i][2].length === 0) { continue; }\n\n    var selector = serializeRules(tokens[i][1]);\n    allSelectors[selector] = [i].concat(allSelectors[selector] || []);\n\n    if (allSelectors[selector].length == 2) { repeatedSelectors.push(selector); }\n  }\n\n  for (i = repeatedSelectors.length - 1; i >= 0; i--) {\n    var positions = allSelectors[repeatedSelectors[i]];\n\n    selectorIterator:\n    for (var j = positions.length - 1; j > 0; j--) {\n      var positionOne = positions[j - 1];\n      var tokenOne = tokens[positionOne];\n      var positionTwo = positions[j];\n      var tokenTwo = tokens[positionTwo];\n\n      directionIterator:\n      for (var direction = 1; direction >= -1; direction -= 2) {\n        var topToBottom = direction == 1;\n        var from = topToBottom ? positionOne + 1 : positionTwo - 1;\n        var to = topToBottom ? positionTwo : positionOne;\n        var delta = topToBottom ? 1 : -1;\n        var moved = topToBottom ? tokenOne : tokenTwo;\n        var target = topToBottom ? tokenTwo : tokenOne;\n        var movedProperties = extractProperties(moved);\n\n        while (from != to) {\n          var traversedProperties = extractProperties(tokens[from]);\n          from += delta;\n\n          // traversed then moved as we move selectors towards the start\n          var reorderable = topToBottom\n            ? canReorder(movedProperties, traversedProperties, specificityCache)\n            : canReorder(traversedProperties, movedProperties, specificityCache);\n\n          if (!reorderable && !topToBottom) { continue selectorIterator; }\n          if (!reorderable && topToBottom) { continue directionIterator; }\n        }\n\n        if (topToBottom) {\n          Array.prototype.push.apply(moved[2], target[2]);\n          target[2] = moved[2];\n        } else {\n          Array.prototype.push.apply(target[2], moved[2]);\n        }\n\n        optimizeProperties(target[2], true, true, context);\n        moved[2] = [];\n      }\n    }\n  }\n}\n\nmodule.exports = mergeNonAdjacentBySelector;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}