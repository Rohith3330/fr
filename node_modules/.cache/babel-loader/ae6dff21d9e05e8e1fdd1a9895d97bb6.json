{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RULE_NAME = void 0;\n\nconst utils_1 = require(\"@typescript-eslint/utils\");\n\nconst create_testing_library_rule_1 = require(\"../create-testing-library-rule\");\n\nconst node_utils_1 = require(\"../node-utils\");\n\nexports.RULE_NAME = 'no-wait-for-snapshot';\nconst SNAPSHOT_REGEXP = /^(toMatchSnapshot|toMatchInlineSnapshot)$/;\nexports.default = (0, create_testing_library_rule_1.createTestingLibraryRule)({\n  name: exports.RULE_NAME,\n  meta: {\n    type: 'problem',\n    docs: {\n      description: 'Ensures no snapshot is generated inside of a `waitFor` call',\n      recommendedConfig: {\n        dom: 'error',\n        angular: 'error',\n        react: 'error',\n        vue: 'error',\n        marko: 'error'\n      }\n    },\n    messages: {\n      noWaitForSnapshot: \"A snapshot can't be generated inside of a `{{ name }}` call\"\n    },\n    schema: []\n  },\n  defaultOptions: [],\n\n  create(context, _, helpers) {\n    function getClosestAsyncUtil(node) {\n      let n = node;\n\n      do {\n        const callExpression = (0, node_utils_1.findClosestCallExpressionNode)(n);\n\n        if (!callExpression) {\n          return null;\n        }\n\n        if (utils_1.ASTUtils.isIdentifier(callExpression.callee) && helpers.isAsyncUtil(callExpression.callee)) {\n          return callExpression.callee;\n        }\n\n        if ((0, node_utils_1.isMemberExpression)(callExpression.callee) && utils_1.ASTUtils.isIdentifier(callExpression.callee.property) && helpers.isAsyncUtil(callExpression.callee.property)) {\n          return callExpression.callee.property;\n        }\n\n        if (callExpression.parent) {\n          n = (0, node_utils_1.findClosestCallExpressionNode)(callExpression.parent);\n        }\n      } while (n !== null);\n\n      return null;\n    }\n\n    return {\n      [`Identifier[name=${SNAPSHOT_REGEXP}]`](node) {\n        const closestAsyncUtil = getClosestAsyncUtil(node);\n\n        if (closestAsyncUtil === null) {\n          return;\n        }\n\n        context.report({\n          node,\n          messageId: 'noWaitForSnapshot',\n          data: {\n            name: closestAsyncUtil.name\n          }\n        });\n      }\n\n    };\n  }\n\n});","map":{"version":3,"names":["Object","defineProperty","exports","value","RULE_NAME","utils_1","require","create_testing_library_rule_1","node_utils_1","SNAPSHOT_REGEXP","default","createTestingLibraryRule","name","meta","type","docs","description","recommendedConfig","dom","angular","react","vue","marko","messages","noWaitForSnapshot","schema","defaultOptions","create","context","_","helpers","getClosestAsyncUtil","node","n","callExpression","findClosestCallExpressionNode","ASTUtils","isIdentifier","callee","isAsyncUtil","isMemberExpression","property","parent","closestAsyncUtil","report","messageId","data"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/eslint-plugin-testing-library/rules/no-wait-for-snapshot.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RULE_NAME = void 0;\nconst utils_1 = require(\"@typescript-eslint/utils\");\nconst create_testing_library_rule_1 = require(\"../create-testing-library-rule\");\nconst node_utils_1 = require(\"../node-utils\");\nexports.RULE_NAME = 'no-wait-for-snapshot';\nconst SNAPSHOT_REGEXP = /^(toMatchSnapshot|toMatchInlineSnapshot)$/;\nexports.default = (0, create_testing_library_rule_1.createTestingLibraryRule)({\n    name: exports.RULE_NAME,\n    meta: {\n        type: 'problem',\n        docs: {\n            description: 'Ensures no snapshot is generated inside of a `waitFor` call',\n            recommendedConfig: {\n                dom: 'error',\n                angular: 'error',\n                react: 'error',\n                vue: 'error',\n                marko: 'error',\n            },\n        },\n        messages: {\n            noWaitForSnapshot: \"A snapshot can't be generated inside of a `{{ name }}` call\",\n        },\n        schema: [],\n    },\n    defaultOptions: [],\n    create(context, _, helpers) {\n        function getClosestAsyncUtil(node) {\n            let n = node;\n            do {\n                const callExpression = (0, node_utils_1.findClosestCallExpressionNode)(n);\n                if (!callExpression) {\n                    return null;\n                }\n                if (utils_1.ASTUtils.isIdentifier(callExpression.callee) &&\n                    helpers.isAsyncUtil(callExpression.callee)) {\n                    return callExpression.callee;\n                }\n                if ((0, node_utils_1.isMemberExpression)(callExpression.callee) &&\n                    utils_1.ASTUtils.isIdentifier(callExpression.callee.property) &&\n                    helpers.isAsyncUtil(callExpression.callee.property)) {\n                    return callExpression.callee.property;\n                }\n                if (callExpression.parent) {\n                    n = (0, node_utils_1.findClosestCallExpressionNode)(callExpression.parent);\n                }\n            } while (n !== null);\n            return null;\n        }\n        return {\n            [`Identifier[name=${SNAPSHOT_REGEXP}]`](node) {\n                const closestAsyncUtil = getClosestAsyncUtil(node);\n                if (closestAsyncUtil === null) {\n                    return;\n                }\n                context.report({\n                    node,\n                    messageId: 'noWaitForSnapshot',\n                    data: { name: closestAsyncUtil.name },\n                });\n            },\n        };\n    },\n});\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,SAAR,GAAoB,KAAK,CAAzB;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAAC,0BAAD,CAAvB;;AACA,MAAMC,6BAA6B,GAAGD,OAAO,CAAC,gCAAD,CAA7C;;AACA,MAAME,YAAY,GAAGF,OAAO,CAAC,eAAD,CAA5B;;AACAJ,OAAO,CAACE,SAAR,GAAoB,sBAApB;AACA,MAAMK,eAAe,GAAG,2CAAxB;AACAP,OAAO,CAACQ,OAAR,GAAkB,CAAC,GAAGH,6BAA6B,CAACI,wBAAlC,EAA4D;EAC1EC,IAAI,EAAEV,OAAO,CAACE,SAD4D;EAE1ES,IAAI,EAAE;IACFC,IAAI,EAAE,SADJ;IAEFC,IAAI,EAAE;MACFC,WAAW,EAAE,6DADX;MAEFC,iBAAiB,EAAE;QACfC,GAAG,EAAE,OADU;QAEfC,OAAO,EAAE,OAFM;QAGfC,KAAK,EAAE,OAHQ;QAIfC,GAAG,EAAE,OAJU;QAKfC,KAAK,EAAE;MALQ;IAFjB,CAFJ;IAYFC,QAAQ,EAAE;MACNC,iBAAiB,EAAE;IADb,CAZR;IAeFC,MAAM,EAAE;EAfN,CAFoE;EAmB1EC,cAAc,EAAE,EAnB0D;;EAoB1EC,MAAM,CAACC,OAAD,EAAUC,CAAV,EAAaC,OAAb,EAAsB;IACxB,SAASC,mBAAT,CAA6BC,IAA7B,EAAmC;MAC/B,IAAIC,CAAC,GAAGD,IAAR;;MACA,GAAG;QACC,MAAME,cAAc,GAAG,CAAC,GAAG1B,YAAY,CAAC2B,6BAAjB,EAAgDF,CAAhD,CAAvB;;QACA,IAAI,CAACC,cAAL,EAAqB;UACjB,OAAO,IAAP;QACH;;QACD,IAAI7B,OAAO,CAAC+B,QAAR,CAAiBC,YAAjB,CAA8BH,cAAc,CAACI,MAA7C,KACAR,OAAO,CAACS,WAAR,CAAoBL,cAAc,CAACI,MAAnC,CADJ,EACgD;UAC5C,OAAOJ,cAAc,CAACI,MAAtB;QACH;;QACD,IAAI,CAAC,GAAG9B,YAAY,CAACgC,kBAAjB,EAAqCN,cAAc,CAACI,MAApD,KACAjC,OAAO,CAAC+B,QAAR,CAAiBC,YAAjB,CAA8BH,cAAc,CAACI,MAAf,CAAsBG,QAApD,CADA,IAEAX,OAAO,CAACS,WAAR,CAAoBL,cAAc,CAACI,MAAf,CAAsBG,QAA1C,CAFJ,EAEyD;UACrD,OAAOP,cAAc,CAACI,MAAf,CAAsBG,QAA7B;QACH;;QACD,IAAIP,cAAc,CAACQ,MAAnB,EAA2B;UACvBT,CAAC,GAAG,CAAC,GAAGzB,YAAY,CAAC2B,6BAAjB,EAAgDD,cAAc,CAACQ,MAA/D,CAAJ;QACH;MACJ,CAjBD,QAiBST,CAAC,KAAK,IAjBf;;MAkBA,OAAO,IAAP;IACH;;IACD,OAAO;MACH,CAAE,mBAAkBxB,eAAgB,GAApC,EAAwCuB,IAAxC,EAA8C;QAC1C,MAAMW,gBAAgB,GAAGZ,mBAAmB,CAACC,IAAD,CAA5C;;QACA,IAAIW,gBAAgB,KAAK,IAAzB,EAA+B;UAC3B;QACH;;QACDf,OAAO,CAACgB,MAAR,CAAe;UACXZ,IADW;UAEXa,SAAS,EAAE,mBAFA;UAGXC,IAAI,EAAE;YAAElC,IAAI,EAAE+B,gBAAgB,CAAC/B;UAAzB;QAHK,CAAf;MAKH;;IAXE,CAAP;EAaH;;AAxDyE,CAA5D,CAAlB"},"metadata":{},"sourceType":"script"}