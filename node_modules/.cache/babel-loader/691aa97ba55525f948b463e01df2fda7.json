{"ast":null,"code":"'use strict';\n\nconst fs = require('fs');\n\nconst CoaObject = require('./coaobject');\n/**\n * COA Parameter\n *\n * Base class for options and arguments\n *\n * --------|-----|-----|-----\n *         | Cmd | Opt | Arg\n * --------|-----|-----|-----\n *  arr    |     | ✓   | ✓\n *  req    |     | ✓   | ✓\n *  val    |     | ✓   | ✓\n *  def    |     | ✓   | ✓\n *  input  |     | ✓   | ✓\n *  output |     | ✓   | ✓\n *\n * @class CoaParam\n * @extends CoaObject\n */\n\n\nmodule.exports = class CoaParam extends CoaObject {\n  constructor(cmd) {\n    super(cmd);\n    this._arr = false;\n    this._req = false;\n    this._val = undefined;\n    this._def = undefined;\n  }\n  /**\n   * Makes a param accepts multiple values.\n   * Otherwise, the value will be used by the latter passed.\n   *\n   * @returns {COA.CoaParam} - this instance (for chainability)\n   */\n\n\n  arr() {\n    this._arr = true;\n    return this;\n  }\n  /**\n   * Makes a param required.\n   *\n   * @returns {COA.CoaParam} - this instance (for chainability)\n   */\n\n\n  req() {\n    this._req = true;\n    return this;\n  }\n  /**\n   * Set a validation (or value) function for param.\n   * Value from command line passes through before becoming available from API.\n   * Using for validation and convertion simple types to any values.\n   *\n   * @param {Function} val - validating function,\n   *         invoked in the context of option instance\n   *         and has one parameter with value from command line.\n   * @returns {COA.CoaParam} - this instance (for chainability)\n   */\n\n\n  val(val) {\n    this._val = val;\n    return this;\n  }\n  /**\n   * Set a default value for param.\n   * Default value passed through validation function as ordinary value.\n   *\n   * @param {*} def - default value of function generator\n   * @returns {COA.CoaParam} - this instance (for chainability)\n   */\n\n\n  def(def) {\n    this._def = def;\n    return this;\n  }\n  /**\n   * Make option value inputting stream.\n   * It's add useful validation and shortcut for STDIN.\n   *\n   * @returns {COA.CoaParam} - this instance (for chainability)\n   */\n\n\n  input() {\n    process.stdin.pause();\n    return this.def(process.stdin).val(function (v) {\n      if (typeof v !== 'string') return v;\n      if (v === '-') return process.stdin;\n      const s = fs.createReadStream(v, {\n        encoding: 'utf8'\n      });\n      s.pause();\n      return s;\n    });\n  }\n  /**\n   * Make option value outputing stream.\n   * It's add useful validation and shortcut for STDOUT.\n   *\n   * @returns {COA.CoaParam} - this instance (for chainability)\n   */\n\n\n  output() {\n    return this.def(process.stdout).val(function (v) {\n      if (typeof v !== 'string') return v;\n      if (v === '-') return process.stdout;\n      return fs.createWriteStream(v, {\n        encoding: 'utf8'\n      });\n    });\n  }\n\n};","map":{"version":3,"names":["fs","require","CoaObject","module","exports","CoaParam","constructor","cmd","_arr","_req","_val","undefined","_def","arr","req","val","def","input","process","stdin","pause","v","s","createReadStream","encoding","output","stdout","createWriteStream"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/coa/lib/coaparam.js"],"sourcesContent":["'use strict';\n\nconst fs = require('fs');\n\nconst CoaObject = require('./coaobject');\n\n/**\n * COA Parameter\n *\n * Base class for options and arguments\n *\n * --------|-----|-----|-----\n *         | Cmd | Opt | Arg\n * --------|-----|-----|-----\n *  arr    |     | ✓   | ✓\n *  req    |     | ✓   | ✓\n *  val    |     | ✓   | ✓\n *  def    |     | ✓   | ✓\n *  input  |     | ✓   | ✓\n *  output |     | ✓   | ✓\n *\n * @class CoaParam\n * @extends CoaObject\n */\nmodule.exports = class CoaParam extends CoaObject {\n    constructor(cmd) {\n        super(cmd);\n\n        this._arr = false;\n        this._req = false;\n        this._val = undefined;\n        this._def = undefined;\n    }\n\n    /**\n     * Makes a param accepts multiple values.\n     * Otherwise, the value will be used by the latter passed.\n     *\n     * @returns {COA.CoaParam} - this instance (for chainability)\n     */\n    arr() {\n        this._arr = true;\n        return this;\n    }\n\n    /**\n     * Makes a param required.\n     *\n     * @returns {COA.CoaParam} - this instance (for chainability)\n     */\n    req() {\n        this._req = true;\n        return this;\n    }\n\n    /**\n     * Set a validation (or value) function for param.\n     * Value from command line passes through before becoming available from API.\n     * Using for validation and convertion simple types to any values.\n     *\n     * @param {Function} val - validating function,\n     *         invoked in the context of option instance\n     *         and has one parameter with value from command line.\n     * @returns {COA.CoaParam} - this instance (for chainability)\n     */\n    val(val) {\n        this._val = val;\n        return this;\n    }\n\n    /**\n     * Set a default value for param.\n     * Default value passed through validation function as ordinary value.\n     *\n     * @param {*} def - default value of function generator\n     * @returns {COA.CoaParam} - this instance (for chainability)\n     */\n    def(def) {\n        this._def = def;\n        return this;\n    }\n\n    /**\n     * Make option value inputting stream.\n     * It's add useful validation and shortcut for STDIN.\n     *\n     * @returns {COA.CoaParam} - this instance (for chainability)\n     */\n    input() {\n        process.stdin.pause();\n        return this\n            .def(process.stdin)\n            .val(function(v) {\n                if(typeof v !== 'string')\n                    return v;\n\n                if(v === '-')\n                    return process.stdin;\n\n                const s = fs.createReadStream(v, { encoding : 'utf8' });\n                s.pause();\n                return s;\n            });\n    }\n\n    /**\n     * Make option value outputing stream.\n     * It's add useful validation and shortcut for STDOUT.\n     *\n     * @returns {COA.CoaParam} - this instance (for chainability)\n     */\n    output() {\n        return this\n            .def(process.stdout)\n            .val(function(v) {\n                if(typeof v !== 'string')\n                    return v;\n\n                if(v === '-')\n                    return process.stdout;\n\n                return fs.createWriteStream(v, { encoding : 'utf8' });\n            });\n    }\n};\n"],"mappings":"AAAA;;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AAEA,MAAMC,SAAS,GAAGD,OAAO,CAAC,aAAD,CAAzB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAE,MAAM,CAACC,OAAP,GAAiB,MAAMC,QAAN,SAAuBH,SAAvB,CAAiC;EAC9CI,WAAW,CAACC,GAAD,EAAM;IACb,MAAMA,GAAN;IAEA,KAAKC,IAAL,GAAY,KAAZ;IACA,KAAKC,IAAL,GAAY,KAAZ;IACA,KAAKC,IAAL,GAAYC,SAAZ;IACA,KAAKC,IAAL,GAAYD,SAAZ;EACH;EAED;AACJ;AACA;AACA;AACA;AACA;;;EACIE,GAAG,GAAG;IACF,KAAKL,IAAL,GAAY,IAAZ;IACA,OAAO,IAAP;EACH;EAED;AACJ;AACA;AACA;AACA;;;EACIM,GAAG,GAAG;IACF,KAAKL,IAAL,GAAY,IAAZ;IACA,OAAO,IAAP;EACH;EAED;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;EACIM,GAAG,CAACA,GAAD,EAAM;IACL,KAAKL,IAAL,GAAYK,GAAZ;IACA,OAAO,IAAP;EACH;EAED;AACJ;AACA;AACA;AACA;AACA;AACA;;;EACIC,GAAG,CAACA,GAAD,EAAM;IACL,KAAKJ,IAAL,GAAYI,GAAZ;IACA,OAAO,IAAP;EACH;EAED;AACJ;AACA;AACA;AACA;AACA;;;EACIC,KAAK,GAAG;IACJC,OAAO,CAACC,KAAR,CAAcC,KAAd;IACA,OAAO,KACFJ,GADE,CACEE,OAAO,CAACC,KADV,EAEFJ,GAFE,CAEE,UAASM,CAAT,EAAY;MACb,IAAG,OAAOA,CAAP,KAAa,QAAhB,EACI,OAAOA,CAAP;MAEJ,IAAGA,CAAC,KAAK,GAAT,EACI,OAAOH,OAAO,CAACC,KAAf;MAEJ,MAAMG,CAAC,GAAGtB,EAAE,CAACuB,gBAAH,CAAoBF,CAApB,EAAuB;QAAEG,QAAQ,EAAG;MAAb,CAAvB,CAAV;MACAF,CAAC,CAACF,KAAF;MACA,OAAOE,CAAP;IACH,CAZE,CAAP;EAaH;EAED;AACJ;AACA;AACA;AACA;AACA;;;EACIG,MAAM,GAAG;IACL,OAAO,KACFT,GADE,CACEE,OAAO,CAACQ,MADV,EAEFX,GAFE,CAEE,UAASM,CAAT,EAAY;MACb,IAAG,OAAOA,CAAP,KAAa,QAAhB,EACI,OAAOA,CAAP;MAEJ,IAAGA,CAAC,KAAK,GAAT,EACI,OAAOH,OAAO,CAACQ,MAAf;MAEJ,OAAO1B,EAAE,CAAC2B,iBAAH,CAAqBN,CAArB,EAAwB;QAAEG,QAAQ,EAAG;MAAb,CAAxB,CAAP;IACH,CAVE,CAAP;EAWH;;AAnG6C,CAAlD"},"metadata":{},"sourceType":"script"}