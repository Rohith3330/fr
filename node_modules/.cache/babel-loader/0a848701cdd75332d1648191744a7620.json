{"ast":null,"code":"'use strict';\n\nvar fs = require('fs');\n\nvar homedir = require('../lib/homedir');\n\nvar path = require('path');\n\nvar test = require('tape');\n\nvar mkdirp = require('mkdirp');\n\nvar rimraf = require('rimraf');\n\nvar mv = require('mv');\n\nvar copyDir = require('copy-dir');\n\nvar tmp = require('tmp');\n\nvar HOME = homedir();\nvar hnm = path.join(HOME, '.node_modules');\nvar hnl = path.join(HOME, '.node_libraries');\n\nvar resolve = require('../sync');\n\nfunction makeDir(t, dir, cb) {\n  mkdirp(dir, function (err) {\n    if (err) {\n      cb(err);\n    } else {\n      t.teardown(function cleanup() {\n        rimraf.sync(dir);\n      });\n      cb();\n    }\n  });\n}\n\nfunction makeTempDir(t, dir, cb) {\n  if (fs.existsSync(dir)) {\n    var tmpResult = tmp.dirSync();\n    t.teardown(tmpResult.removeCallback);\n    var backup = path.join(tmpResult.name, path.basename(dir));\n    mv(dir, backup, function (err) {\n      if (err) {\n        cb(err);\n      } else {\n        t.teardown(function () {\n          mv(backup, dir, cb);\n        });\n        makeDir(t, dir, cb);\n      }\n    });\n  } else {\n    makeDir(t, dir, cb);\n  }\n}\n\ntest('homedir module paths', function (t) {\n  t.plan(7);\n  makeTempDir(t, hnm, function (err) {\n    t.error(err, 'no error with HNM temp dir');\n\n    if (err) {\n      return t.end();\n    }\n\n    var bazHNMDir = path.join(hnm, 'baz');\n    var dotMainDir = path.join(hnm, 'dot_main');\n    copyDir.sync(path.join(__dirname, 'resolver/baz'), bazHNMDir);\n    copyDir.sync(path.join(__dirname, 'resolver/dot_main'), dotMainDir);\n    var bazHNMmain = path.join(bazHNMDir, 'quux.js');\n    t.equal(require.resolve('baz'), bazHNMmain, 'sanity check: require.resolve finds HNM `baz`');\n    var dotMainMain = path.join(dotMainDir, 'index.js');\n    t.equal(require.resolve('dot_main'), dotMainMain, 'sanity check: require.resolve finds `dot_main`');\n    makeTempDir(t, hnl, function (err) {\n      t.error(err, 'no error with HNL temp dir');\n\n      if (err) {\n        return t.end();\n      }\n\n      var bazHNLDir = path.join(hnl, 'baz');\n      copyDir.sync(path.join(__dirname, 'resolver/baz'), bazHNLDir);\n      var dotSlashMainDir = path.join(hnl, 'dot_slash_main');\n      var dotSlashMainMain = path.join(dotSlashMainDir, 'index.js');\n      copyDir.sync(path.join(__dirname, 'resolver/dot_slash_main'), dotSlashMainDir);\n      t.equal(require.resolve('baz'), bazHNMmain, 'sanity check: require.resolve finds HNM `baz`');\n      t.equal(require.resolve('dot_slash_main'), dotSlashMainMain, 'sanity check: require.resolve finds HNL `dot_slash_main`');\n      t.test('with temp dirs', function (st) {\n        st.plan(3);\n        st.test('just in `$HOME/.node_modules`', function (s2t) {\n          s2t.plan(1);\n          var res = resolve('dot_main');\n          s2t.equal(res, dotMainMain, '`dot_main` resolves in `$HOME/.node_modules`');\n        });\n        st.test('just in `$HOME/.node_libraries`', function (s2t) {\n          s2t.plan(1);\n          var res = resolve('dot_slash_main');\n          s2t.equal(res, dotSlashMainMain, '`dot_slash_main` resolves in `$HOME/.node_libraries`');\n        });\n        st.test('in `$HOME/.node_libraries` and `$HOME/.node_modules`', function (s2t) {\n          s2t.plan(1);\n          var res = resolve('baz');\n          s2t.equal(res, bazHNMmain, '`baz` resolves in `$HOME/.node_modules` when in both');\n        });\n      });\n    });\n  });\n});","map":{"version":3,"names":["fs","require","homedir","path","test","mkdirp","rimraf","mv","copyDir","tmp","HOME","hnm","join","hnl","resolve","makeDir","t","dir","cb","err","teardown","cleanup","sync","makeTempDir","existsSync","tmpResult","dirSync","removeCallback","backup","name","basename","plan","error","end","bazHNMDir","dotMainDir","__dirname","bazHNMmain","equal","dotMainMain","bazHNLDir","dotSlashMainDir","dotSlashMainMain","st","s2t","res"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/resolve/test/home_paths_sync.js"],"sourcesContent":["'use strict';\n\nvar fs = require('fs');\nvar homedir = require('../lib/homedir');\nvar path = require('path');\n\nvar test = require('tape');\nvar mkdirp = require('mkdirp');\nvar rimraf = require('rimraf');\nvar mv = require('mv');\nvar copyDir = require('copy-dir');\nvar tmp = require('tmp');\n\nvar HOME = homedir();\n\nvar hnm = path.join(HOME, '.node_modules');\nvar hnl = path.join(HOME, '.node_libraries');\n\nvar resolve = require('../sync');\n\nfunction makeDir(t, dir, cb) {\n    mkdirp(dir, function (err) {\n        if (err) {\n            cb(err);\n        } else {\n            t.teardown(function cleanup() {\n                rimraf.sync(dir);\n            });\n            cb();\n        }\n    });\n}\n\nfunction makeTempDir(t, dir, cb) {\n    if (fs.existsSync(dir)) {\n        var tmpResult = tmp.dirSync();\n        t.teardown(tmpResult.removeCallback);\n        var backup = path.join(tmpResult.name, path.basename(dir));\n        mv(dir, backup, function (err) {\n            if (err) {\n                cb(err);\n            } else {\n                t.teardown(function () {\n                    mv(backup, dir, cb);\n                });\n                makeDir(t, dir, cb);\n            }\n        });\n    } else {\n        makeDir(t, dir, cb);\n    }\n}\n\ntest('homedir module paths', function (t) {\n    t.plan(7);\n\n    makeTempDir(t, hnm, function (err) {\n        t.error(err, 'no error with HNM temp dir');\n        if (err) {\n            return t.end();\n        }\n\n        var bazHNMDir = path.join(hnm, 'baz');\n        var dotMainDir = path.join(hnm, 'dot_main');\n        copyDir.sync(path.join(__dirname, 'resolver/baz'), bazHNMDir);\n        copyDir.sync(path.join(__dirname, 'resolver/dot_main'), dotMainDir);\n\n        var bazHNMmain = path.join(bazHNMDir, 'quux.js');\n        t.equal(require.resolve('baz'), bazHNMmain, 'sanity check: require.resolve finds HNM `baz`');\n        var dotMainMain = path.join(dotMainDir, 'index.js');\n        t.equal(require.resolve('dot_main'), dotMainMain, 'sanity check: require.resolve finds `dot_main`');\n\n        makeTempDir(t, hnl, function (err) {\n            t.error(err, 'no error with HNL temp dir');\n            if (err) {\n                return t.end();\n            }\n            var bazHNLDir = path.join(hnl, 'baz');\n            copyDir.sync(path.join(__dirname, 'resolver/baz'), bazHNLDir);\n\n            var dotSlashMainDir = path.join(hnl, 'dot_slash_main');\n            var dotSlashMainMain = path.join(dotSlashMainDir, 'index.js');\n            copyDir.sync(path.join(__dirname, 'resolver/dot_slash_main'), dotSlashMainDir);\n\n            t.equal(require.resolve('baz'), bazHNMmain, 'sanity check: require.resolve finds HNM `baz`');\n            t.equal(require.resolve('dot_slash_main'), dotSlashMainMain, 'sanity check: require.resolve finds HNL `dot_slash_main`');\n\n            t.test('with temp dirs', function (st) {\n                st.plan(3);\n\n                st.test('just in `$HOME/.node_modules`', function (s2t) {\n                    s2t.plan(1);\n\n                    var res = resolve('dot_main');\n                    s2t.equal(res, dotMainMain, '`dot_main` resolves in `$HOME/.node_modules`');\n                });\n\n                st.test('just in `$HOME/.node_libraries`', function (s2t) {\n                    s2t.plan(1);\n\n                    var res = resolve('dot_slash_main');\n                    s2t.equal(res, dotSlashMainMain, '`dot_slash_main` resolves in `$HOME/.node_libraries`');\n                });\n\n                st.test('in `$HOME/.node_libraries` and `$HOME/.node_modules`', function (s2t) {\n                    s2t.plan(1);\n\n                    var res = resolve('baz');\n                    s2t.equal(res, bazHNMmain, '`baz` resolves in `$HOME/.node_modules` when in both');\n                });\n            });\n        });\n    });\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}