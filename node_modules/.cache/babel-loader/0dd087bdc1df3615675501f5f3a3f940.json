{"ast":null,"code":"/**\n * Copyright 2018 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *     http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\ndescribe(\"Module Worker\", function () {\n  const blob = new Blob([\"\"], {\n    type: \"text/javascript\"\n  });\n  const url = URL.createObjectURL(blob);\n  let supportsModuleWorker = false;\n  const options = {\n    get type() {\n      supportsModuleWorker = true;\n    }\n\n  };\n  new Worker(url, options).terminate();\n  URL.revokeObjectURL(url);\n  beforeEach(function () {\n    if (!supportsModuleWorker) {\n      return this.skip();\n    }\n\n    this.ifr = document.createElement(\"iframe\");\n    document.body.append(this.ifr);\n  });\n  afterEach(function () {\n    this.ifr.remove();\n  });\n  it(\"work\", function (done) {\n    window.addEventListener(\"message\", function l(ev) {\n      if (ev.data === \"a\") {\n        window.removeEventListener(\"message\", l);\n        done();\n      }\n    });\n    this.ifr.src = \"/base/tests/fixtures/module-worker/build/runner.html\";\n  });\n});","map":{"version":3,"names":["describe","blob","Blob","type","url","URL","createObjectURL","supportsModuleWorker","options","Worker","terminate","revokeObjectURL","beforeEach","skip","ifr","document","createElement","body","append","afterEach","remove","it","done","window","addEventListener","l","ev","data","removeEventListener","src"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/@surma/rollup-plugin-off-main-thread/tests/module-worker.test.js"],"sourcesContent":["/**\n * Copyright 2018 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *     http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\ndescribe(\"Module Worker\", function() {\n  const blob = new Blob([\"\"], { type: \"text/javascript\" });\n  const url = URL.createObjectURL(blob);\n  let supportsModuleWorker = false;\n  const options = {\n    get type() {\n      supportsModuleWorker = true;\n    }\n  };\n  new Worker(url, options).terminate();\n  URL.revokeObjectURL(url);\n\n  beforeEach(function() {\n    if (!supportsModuleWorker) {\n      return this.skip();\n    }\n    this.ifr = document.createElement(\"iframe\");\n    document.body.append(this.ifr);\n  });\n\n  afterEach(function() {\n    this.ifr.remove();\n  });\n\n  it(\"work\", function(done) {\n    window.addEventListener(\"message\", function l(ev) {\n      if (ev.data === \"a\") {\n        window.removeEventListener(\"message\", l);\n        done();\n      }\n    });\n    this.ifr.src = \"/base/tests/fixtures/module-worker/build/runner.html\";\n  });\n});\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAA,QAAQ,CAAC,eAAD,EAAkB,YAAW;EACnC,MAAMC,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAAC,EAAD,CAAT,EAAe;IAAEC,IAAI,EAAE;EAAR,CAAf,CAAb;EACA,MAAMC,GAAG,GAAGC,GAAG,CAACC,eAAJ,CAAoBL,IAApB,CAAZ;EACA,IAAIM,oBAAoB,GAAG,KAA3B;EACA,MAAMC,OAAO,GAAG;IACd,IAAIL,IAAJ,GAAW;MACTI,oBAAoB,GAAG,IAAvB;IACD;;EAHa,CAAhB;EAKA,IAAIE,MAAJ,CAAWL,GAAX,EAAgBI,OAAhB,EAAyBE,SAAzB;EACAL,GAAG,CAACM,eAAJ,CAAoBP,GAApB;EAEAQ,UAAU,CAAC,YAAW;IACpB,IAAI,CAACL,oBAAL,EAA2B;MACzB,OAAO,KAAKM,IAAL,EAAP;IACD;;IACD,KAAKC,GAAL,GAAWC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAX;IACAD,QAAQ,CAACE,IAAT,CAAcC,MAAd,CAAqB,KAAKJ,GAA1B;EACD,CANS,CAAV;EAQAK,SAAS,CAAC,YAAW;IACnB,KAAKL,GAAL,CAASM,MAAT;EACD,CAFQ,CAAT;EAIAC,EAAE,CAAC,MAAD,EAAS,UAASC,IAAT,EAAe;IACxBC,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmC,SAASC,CAAT,CAAWC,EAAX,EAAe;MAChD,IAAIA,EAAE,CAACC,IAAH,KAAY,GAAhB,EAAqB;QACnBJ,MAAM,CAACK,mBAAP,CAA2B,SAA3B,EAAsCH,CAAtC;QACAH,IAAI;MACL;IACF,CALD;IAMA,KAAKR,GAAL,CAASe,GAAT,GAAe,sDAAf;EACD,CARC,CAAF;AASD,CAjCO,CAAR"},"metadata":{},"sourceType":"script"}