{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeStaticFileCache = makeStaticFileCache;\n\nvar _caching = require(\"../caching\");\n\nvar fs = require(\"../../gensync-utils/fs\");\n\nfunction _fs2() {\n  const data = require(\"fs\");\n\n  _fs2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction makeStaticFileCache(fn) {\n  return (0, _caching.makeStrongCache)(function* (filepath, cache) {\n    const cached = cache.invalidate(() => fileMtime(filepath));\n\n    if (cached === null) {\n      return null;\n    }\n\n    return fn(filepath, yield* fs.readFile(filepath, \"utf8\"));\n  });\n}\n\nfunction fileMtime(filepath) {\n  if (!_fs2().existsSync(filepath)) return null;\n\n  try {\n    return +_fs2().statSync(filepath).mtime;\n  } catch (e) {\n    if (e.code !== \"ENOENT\" && e.code !== \"ENOTDIR\") throw e;\n  }\n\n  return null;\n}\n\n0 && 0;","map":{"version":3,"mappings":";;;;;;;AAEA;;AAEA;;AACA;EAAA;;EAAAA;IAAA;EAAA;;EAAA;AAAA;;AAEO,SAASC,mBAAT,CACLC,EADK,EAEL;EACA,OAAO,8BAAgB,WACrBC,QADqB,EAErBC,KAFqB,EAGF;IACnB,MAAMC,MAAM,GAAGD,KAAK,CAACE,UAANF,CAAiB,MAAMG,SAAS,CAACJ,QAAD,CAAhCC,CAAf;;IAEA,IAAIC,MAAM,KAAK,IAAf,EAAqB;MACnB,OAAO,IAAP;IACD;;IAED,OAAOH,EAAE,CAACC,QAAD,EAAW,OAAOK,EAAE,CAACC,QAAHD,CAAYL,QAAZK,EAAsB,MAAtBA,CAAlB,CAAT;EAVK,EAAP;AAYD;;AAED,SAASD,SAAT,CAAmBJ,QAAnB,EAAoD;EAClD,IAAI,CAACO,OAAOC,UAAPD,CAAkBP,QAAlBO,CAAL,EAAkC,OAAO,IAAP;;EAElC,IAAI;IACF,OAAO,CAACA,OAAOE,QAAPF,CAAgBP,QAAhBO,EAA0BG,KAAlC;EADF,EAEE,OAAOC,CAAP,EAAU;IACV,IAAIA,CAAC,CAACC,IAAFD,KAAW,QAAXA,IAAuBA,CAAC,CAACC,IAAFD,KAAW,SAAtC,EAAiD,MAAMA,CAAN;EAClD;;EAED,OAAO,IAAP;AACD","names":["_fs2","makeStaticFileCache","fn","filepath","cache","cached","invalidate","fileMtime","fs","readFile","nodeFs","existsSync","statSync","mtime","e","code"],"sources":["C:\\Users\\Rohith\\mern\\frontend\\node_modules\\@babel\\core\\src\\config\\files\\utils.ts"],"sourcesContent":["import type { Handler } from \"gensync\";\n\nimport { makeStrongCache } from \"../caching\";\nimport type { CacheConfigurator } from \"../caching\";\nimport * as fs from \"../../gensync-utils/fs\";\nimport nodeFs from \"fs\";\n\nexport function makeStaticFileCache<T>(\n  fn: (filepath: string, contents: string) => T,\n) {\n  return makeStrongCache(function* (\n    filepath: string,\n    cache: CacheConfigurator<void>,\n  ): Handler<null | T> {\n    const cached = cache.invalidate(() => fileMtime(filepath));\n\n    if (cached === null) {\n      return null;\n    }\n\n    return fn(filepath, yield* fs.readFile(filepath, \"utf8\"));\n  });\n}\n\nfunction fileMtime(filepath: string): number | null {\n  if (!nodeFs.existsSync(filepath)) return null;\n\n  try {\n    return +nodeFs.statSync(filepath).mtime;\n  } catch (e) {\n    if (e.code !== \"ENOENT\" && e.code !== \"ENOTDIR\") throw e;\n  }\n\n  return null;\n}\n"]},"metadata":{},"sourceType":"script"}