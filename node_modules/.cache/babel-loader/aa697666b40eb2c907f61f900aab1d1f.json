{"ast":null,"code":"/**\n * @fileoverview Prevent usage of setState\n * @author Mark Dalgleish\n */\n'use strict';\n\nconst Components = require('../util/Components');\n\nconst docsUrl = require('../util/docsUrl');\n\nconst report = require('../util/report'); // ------------------------------------------------------------------------------\n// Rule Definition\n// ------------------------------------------------------------------------------\n\n\nconst messages = {\n  noSetState: 'Do not use setState'\n};\nmodule.exports = {\n  meta: {\n    docs: {\n      description: 'Disallow usage of setState',\n      category: 'Stylistic Issues',\n      recommended: false,\n      url: docsUrl('no-set-state')\n    },\n    messages,\n    schema: []\n  },\n  create: Components.detect((context, components, utils) => {\n    /**\n     * Checks if the component is valid\n     * @param {Object} component The component to process\n     * @returns {Boolean} True if the component is valid, false if not.\n     */\n    function isValid(component) {\n      return Boolean(component && !component.useSetState);\n    }\n    /**\n     * Reports usages of setState for a given component\n     * @param {Object} component The component to process\n     */\n\n\n    function reportSetStateUsages(component) {\n      let setStateUsage;\n\n      for (let i = 0, j = component.setStateUsages.length; i < j; i++) {\n        setStateUsage = component.setStateUsages[i];\n        report(context, messages.noSetState, 'noSetState', {\n          node: setStateUsage\n        });\n      }\n    }\n\n    return {\n      CallExpression(node) {\n        const callee = node.callee;\n\n        if (callee.type !== 'MemberExpression' || callee.object.type !== 'ThisExpression' || callee.property.name !== 'setState') {\n          return;\n        }\n\n        const component = components.get(utils.getParentComponent());\n        const setStateUsages = component && component.setStateUsages || [];\n        setStateUsages.push(callee);\n        components.set(node, {\n          useSetState: true,\n          setStateUsages\n        });\n      },\n\n      'Program:exit'() {\n        const list = components.list();\n        Object.keys(list).filter(component => !isValid(list[component])).forEach(component => {\n          reportSetStateUsages(list[component]);\n        });\n      }\n\n    };\n  })\n};","map":{"version":3,"names":["Components","require","docsUrl","report","messages","noSetState","module","exports","meta","docs","description","category","recommended","url","schema","create","detect","context","components","utils","isValid","component","Boolean","useSetState","reportSetStateUsages","setStateUsage","i","j","setStateUsages","length","node","CallExpression","callee","type","object","property","name","get","getParentComponent","push","set","list","Object","keys","filter","forEach"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/eslint-plugin-react/lib/rules/no-set-state.js"],"sourcesContent":["/**\n * @fileoverview Prevent usage of setState\n * @author Mark Dalgleish\n */\n\n'use strict';\n\nconst Components = require('../util/Components');\nconst docsUrl = require('../util/docsUrl');\nconst report = require('../util/report');\n\n// ------------------------------------------------------------------------------\n// Rule Definition\n// ------------------------------------------------------------------------------\n\nconst messages = {\n  noSetState: 'Do not use setState',\n};\n\nmodule.exports = {\n  meta: {\n    docs: {\n      description: 'Disallow usage of setState',\n      category: 'Stylistic Issues',\n      recommended: false,\n      url: docsUrl('no-set-state'),\n    },\n\n    messages,\n\n    schema: [],\n  },\n\n  create: Components.detect((context, components, utils) => {\n    /**\n     * Checks if the component is valid\n     * @param {Object} component The component to process\n     * @returns {Boolean} True if the component is valid, false if not.\n     */\n    function isValid(component) {\n      return Boolean(component && !component.useSetState);\n    }\n\n    /**\n     * Reports usages of setState for a given component\n     * @param {Object} component The component to process\n     */\n    function reportSetStateUsages(component) {\n      let setStateUsage;\n      for (let i = 0, j = component.setStateUsages.length; i < j; i++) {\n        setStateUsage = component.setStateUsages[i];\n        report(context, messages.noSetState, 'noSetState', {\n          node: setStateUsage,\n        });\n      }\n    }\n\n    return {\n      CallExpression(node) {\n        const callee = node.callee;\n        if (\n          callee.type !== 'MemberExpression'\n          || callee.object.type !== 'ThisExpression'\n          || callee.property.name !== 'setState'\n        ) {\n          return;\n        }\n        const component = components.get(utils.getParentComponent());\n        const setStateUsages = (component && component.setStateUsages) || [];\n        setStateUsages.push(callee);\n        components.set(node, {\n          useSetState: true,\n          setStateUsages,\n        });\n      },\n\n      'Program:exit'() {\n        const list = components.list();\n        Object.keys(list).filter((component) => !isValid(list[component])).forEach((component) => {\n          reportSetStateUsages(list[component]);\n        });\n      },\n    };\n  }),\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;;AAEA,MAAMA,UAAU,GAAGC,OAAO,CAAC,oBAAD,CAA1B;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,iBAAD,CAAvB;;AACA,MAAME,MAAM,GAAGF,OAAO,CAAC,gBAAD,CAAtB,C,CAEA;AACA;AACA;;;AAEA,MAAMG,QAAQ,GAAG;EACfC,UAAU,EAAE;AADG,CAAjB;AAIAC,MAAM,CAACC,OAAP,GAAiB;EACfC,IAAI,EAAE;IACJC,IAAI,EAAE;MACJC,WAAW,EAAE,4BADT;MAEJC,QAAQ,EAAE,kBAFN;MAGJC,WAAW,EAAE,KAHT;MAIJC,GAAG,EAAEX,OAAO,CAAC,cAAD;IAJR,CADF;IAQJE,QARI;IAUJU,MAAM,EAAE;EAVJ,CADS;EAcfC,MAAM,EAAEf,UAAU,CAACgB,MAAX,CAAkB,CAACC,OAAD,EAAUC,UAAV,EAAsBC,KAAtB,KAAgC;IACxD;AACJ;AACA;AACA;AACA;IACI,SAASC,OAAT,CAAiBC,SAAjB,EAA4B;MAC1B,OAAOC,OAAO,CAACD,SAAS,IAAI,CAACA,SAAS,CAACE,WAAzB,CAAd;IACD;IAED;AACJ;AACA;AACA;;;IACI,SAASC,oBAAT,CAA8BH,SAA9B,EAAyC;MACvC,IAAII,aAAJ;;MACA,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGN,SAAS,CAACO,cAAV,CAAyBC,MAA7C,EAAqDH,CAAC,GAAGC,CAAzD,EAA4DD,CAAC,EAA7D,EAAiE;QAC/DD,aAAa,GAAGJ,SAAS,CAACO,cAAV,CAAyBF,CAAzB,CAAhB;QACAvB,MAAM,CAACc,OAAD,EAAUb,QAAQ,CAACC,UAAnB,EAA+B,YAA/B,EAA6C;UACjDyB,IAAI,EAAEL;QAD2C,CAA7C,CAAN;MAGD;IACF;;IAED,OAAO;MACLM,cAAc,CAACD,IAAD,EAAO;QACnB,MAAME,MAAM,GAAGF,IAAI,CAACE,MAApB;;QACA,IACEA,MAAM,CAACC,IAAP,KAAgB,kBAAhB,IACGD,MAAM,CAACE,MAAP,CAAcD,IAAd,KAAuB,gBAD1B,IAEGD,MAAM,CAACG,QAAP,CAAgBC,IAAhB,KAAyB,UAH9B,EAIE;UACA;QACD;;QACD,MAAMf,SAAS,GAAGH,UAAU,CAACmB,GAAX,CAAelB,KAAK,CAACmB,kBAAN,EAAf,CAAlB;QACA,MAAMV,cAAc,GAAIP,SAAS,IAAIA,SAAS,CAACO,cAAxB,IAA2C,EAAlE;QACAA,cAAc,CAACW,IAAf,CAAoBP,MAApB;QACAd,UAAU,CAACsB,GAAX,CAAeV,IAAf,EAAqB;UACnBP,WAAW,EAAE,IADM;UAEnBK;QAFmB,CAArB;MAID,CAjBI;;MAmBL,iBAAiB;QACf,MAAMa,IAAI,GAAGvB,UAAU,CAACuB,IAAX,EAAb;QACAC,MAAM,CAACC,IAAP,CAAYF,IAAZ,EAAkBG,MAAlB,CAA0BvB,SAAD,IAAe,CAACD,OAAO,CAACqB,IAAI,CAACpB,SAAD,CAAL,CAAhD,EAAmEwB,OAAnE,CAA4ExB,SAAD,IAAe;UACxFG,oBAAoB,CAACiB,IAAI,CAACpB,SAAD,CAAL,CAApB;QACD,CAFD;MAGD;;IAxBI,CAAP;EA0BD,CAlDO;AAdO,CAAjB"},"metadata":{},"sourceType":"script"}