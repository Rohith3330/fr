{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RULE_NAME = void 0;\n\nconst create_testing_library_rule_1 = require(\"../create-testing-library-rule\");\n\nconst node_utils_1 = require(\"../node-utils\");\n\nexports.RULE_NAME = 'prefer-query-by-disappearance';\nexports.default = (0, create_testing_library_rule_1.createTestingLibraryRule)({\n  name: exports.RULE_NAME,\n  meta: {\n    type: 'problem',\n    docs: {\n      description: 'Suggest using `queryBy*` queries when waiting for disappearance',\n      recommendedConfig: {\n        dom: 'error',\n        angular: 'error',\n        react: 'error',\n        vue: 'error',\n        marko: 'error'\n      }\n    },\n    messages: {\n      preferQueryByDisappearance: 'Prefer using queryBy* when waiting for disappearance'\n    },\n    schema: []\n  },\n  defaultOptions: [],\n\n  create(context, _, helpers) {\n    function isWaitForElementToBeRemoved(node) {\n      const identifierNode = (0, node_utils_1.getPropertyIdentifierNode)(node);\n\n      if (!identifierNode) {\n        return false;\n      }\n\n      return helpers.isAsyncUtil(identifierNode, ['waitForElementToBeRemoved']);\n    }\n\n    function reportExpression(node) {\n      const argumentProperty = (0, node_utils_1.isMemberExpression)(node) ? (0, node_utils_1.getPropertyIdentifierNode)(node.property) : (0, node_utils_1.getPropertyIdentifierNode)(node);\n\n      if (!argumentProperty) {\n        return false;\n      }\n\n      if (helpers.isGetQueryVariant(argumentProperty) || helpers.isFindQueryVariant(argumentProperty)) {\n        context.report({\n          node: argumentProperty,\n          messageId: 'preferQueryByDisappearance'\n        });\n        return true;\n      }\n\n      return false;\n    }\n\n    function checkNonCallbackViolation(node) {\n      if (!(0, node_utils_1.isCallExpression)(node)) {\n        return false;\n      }\n\n      if (!(0, node_utils_1.isMemberExpression)(node.callee) && !(0, node_utils_1.getPropertyIdentifierNode)(node.callee)) {\n        return false;\n      }\n\n      return reportExpression(node.callee);\n    }\n\n    function isReturnViolation(node) {\n      if (!(0, node_utils_1.isReturnStatement)(node) || !(0, node_utils_1.isCallExpression)(node.argument)) {\n        return false;\n      }\n\n      return reportExpression(node.argument.callee);\n    }\n\n    function isNonReturnViolation(node) {\n      if (!(0, node_utils_1.isExpressionStatement)(node) || !(0, node_utils_1.isCallExpression)(node.expression)) {\n        return false;\n      }\n\n      if (!(0, node_utils_1.isMemberExpression)(node.expression.callee) && !(0, node_utils_1.getPropertyIdentifierNode)(node.expression.callee)) {\n        return false;\n      }\n\n      return reportExpression(node.expression.callee);\n    }\n\n    function isStatementViolation(statement) {\n      return isReturnViolation(statement) || isNonReturnViolation(statement);\n    }\n\n    function checkFunctionExpressionViolation(node) {\n      if (!(0, node_utils_1.isFunctionExpression)(node)) {\n        return false;\n      }\n\n      return node.body.body.some(statement => isStatementViolation(statement));\n    }\n\n    function isArrowFunctionBodyViolation(node) {\n      if (!(0, node_utils_1.isArrowFunctionExpression)(node) || !(0, node_utils_1.isBlockStatement)(node.body)) {\n        return false;\n      }\n\n      return node.body.body.some(statement => isStatementViolation(statement));\n    }\n\n    function isArrowFunctionImplicitReturnViolation(node) {\n      if (!(0, node_utils_1.isArrowFunctionExpression)(node) || !(0, node_utils_1.isCallExpression)(node.body)) {\n        return false;\n      }\n\n      if (!(0, node_utils_1.isMemberExpression)(node.body.callee) && !(0, node_utils_1.getPropertyIdentifierNode)(node.body.callee)) {\n        return false;\n      }\n\n      return reportExpression(node.body.callee);\n    }\n\n    function checkArrowFunctionViolation(node) {\n      return isArrowFunctionBodyViolation(node) || isArrowFunctionImplicitReturnViolation(node);\n    }\n\n    function check(node) {\n      if (!isWaitForElementToBeRemoved(node)) {\n        return;\n      }\n\n      const argumentNode = node.arguments[0];\n      checkNonCallbackViolation(argumentNode);\n      checkArrowFunctionViolation(argumentNode);\n      checkFunctionExpressionViolation(argumentNode);\n    }\n\n    return {\n      CallExpression: check\n    };\n  }\n\n});","map":{"version":3,"names":["Object","defineProperty","exports","value","RULE_NAME","create_testing_library_rule_1","require","node_utils_1","default","createTestingLibraryRule","name","meta","type","docs","description","recommendedConfig","dom","angular","react","vue","marko","messages","preferQueryByDisappearance","schema","defaultOptions","create","context","_","helpers","isWaitForElementToBeRemoved","node","identifierNode","getPropertyIdentifierNode","isAsyncUtil","reportExpression","argumentProperty","isMemberExpression","property","isGetQueryVariant","isFindQueryVariant","report","messageId","checkNonCallbackViolation","isCallExpression","callee","isReturnViolation","isReturnStatement","argument","isNonReturnViolation","isExpressionStatement","expression","isStatementViolation","statement","checkFunctionExpressionViolation","isFunctionExpression","body","some","isArrowFunctionBodyViolation","isArrowFunctionExpression","isBlockStatement","isArrowFunctionImplicitReturnViolation","checkArrowFunctionViolation","check","argumentNode","arguments","CallExpression"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/eslint-plugin-testing-library/rules/prefer-query-by-disappearance.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RULE_NAME = void 0;\nconst create_testing_library_rule_1 = require(\"../create-testing-library-rule\");\nconst node_utils_1 = require(\"../node-utils\");\nexports.RULE_NAME = 'prefer-query-by-disappearance';\nexports.default = (0, create_testing_library_rule_1.createTestingLibraryRule)({\n    name: exports.RULE_NAME,\n    meta: {\n        type: 'problem',\n        docs: {\n            description: 'Suggest using `queryBy*` queries when waiting for disappearance',\n            recommendedConfig: {\n                dom: 'error',\n                angular: 'error',\n                react: 'error',\n                vue: 'error',\n                marko: 'error',\n            },\n        },\n        messages: {\n            preferQueryByDisappearance: 'Prefer using queryBy* when waiting for disappearance',\n        },\n        schema: [],\n    },\n    defaultOptions: [],\n    create(context, _, helpers) {\n        function isWaitForElementToBeRemoved(node) {\n            const identifierNode = (0, node_utils_1.getPropertyIdentifierNode)(node);\n            if (!identifierNode) {\n                return false;\n            }\n            return helpers.isAsyncUtil(identifierNode, ['waitForElementToBeRemoved']);\n        }\n        function reportExpression(node) {\n            const argumentProperty = (0, node_utils_1.isMemberExpression)(node)\n                ? (0, node_utils_1.getPropertyIdentifierNode)(node.property)\n                : (0, node_utils_1.getPropertyIdentifierNode)(node);\n            if (!argumentProperty) {\n                return false;\n            }\n            if (helpers.isGetQueryVariant(argumentProperty) ||\n                helpers.isFindQueryVariant(argumentProperty)) {\n                context.report({\n                    node: argumentProperty,\n                    messageId: 'preferQueryByDisappearance',\n                });\n                return true;\n            }\n            return false;\n        }\n        function checkNonCallbackViolation(node) {\n            if (!(0, node_utils_1.isCallExpression)(node)) {\n                return false;\n            }\n            if (!(0, node_utils_1.isMemberExpression)(node.callee) &&\n                !(0, node_utils_1.getPropertyIdentifierNode)(node.callee)) {\n                return false;\n            }\n            return reportExpression(node.callee);\n        }\n        function isReturnViolation(node) {\n            if (!(0, node_utils_1.isReturnStatement)(node) || !(0, node_utils_1.isCallExpression)(node.argument)) {\n                return false;\n            }\n            return reportExpression(node.argument.callee);\n        }\n        function isNonReturnViolation(node) {\n            if (!(0, node_utils_1.isExpressionStatement)(node) || !(0, node_utils_1.isCallExpression)(node.expression)) {\n                return false;\n            }\n            if (!(0, node_utils_1.isMemberExpression)(node.expression.callee) &&\n                !(0, node_utils_1.getPropertyIdentifierNode)(node.expression.callee)) {\n                return false;\n            }\n            return reportExpression(node.expression.callee);\n        }\n        function isStatementViolation(statement) {\n            return isReturnViolation(statement) || isNonReturnViolation(statement);\n        }\n        function checkFunctionExpressionViolation(node) {\n            if (!(0, node_utils_1.isFunctionExpression)(node)) {\n                return false;\n            }\n            return node.body.body.some((statement) => isStatementViolation(statement));\n        }\n        function isArrowFunctionBodyViolation(node) {\n            if (!(0, node_utils_1.isArrowFunctionExpression)(node) || !(0, node_utils_1.isBlockStatement)(node.body)) {\n                return false;\n            }\n            return node.body.body.some((statement) => isStatementViolation(statement));\n        }\n        function isArrowFunctionImplicitReturnViolation(node) {\n            if (!(0, node_utils_1.isArrowFunctionExpression)(node) || !(0, node_utils_1.isCallExpression)(node.body)) {\n                return false;\n            }\n            if (!(0, node_utils_1.isMemberExpression)(node.body.callee) &&\n                !(0, node_utils_1.getPropertyIdentifierNode)(node.body.callee)) {\n                return false;\n            }\n            return reportExpression(node.body.callee);\n        }\n        function checkArrowFunctionViolation(node) {\n            return (isArrowFunctionBodyViolation(node) ||\n                isArrowFunctionImplicitReturnViolation(node));\n        }\n        function check(node) {\n            if (!isWaitForElementToBeRemoved(node)) {\n                return;\n            }\n            const argumentNode = node.arguments[0];\n            checkNonCallbackViolation(argumentNode);\n            checkArrowFunctionViolation(argumentNode);\n            checkFunctionExpressionViolation(argumentNode);\n        }\n        return {\n            CallExpression: check,\n        };\n    },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}