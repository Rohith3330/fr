{"ast":null,"code":"'use strict';\n\nexports.type = 'full';\nexports.active = true;\nexports.description = 'remove or cleanup enable-background attribute when possible';\n/**\n * Remove or cleanup enable-background attr which coincides with a width/height box.\n *\n * @see http://www.w3.org/TR/SVG/filters.html#EnableBackgroundProperty\n *\n * @example\n * <svg width=\"100\" height=\"50\" enable-background=\"new 0 0 100 50\">\n *             ⬇\n * <svg width=\"100\" height=\"50\">\n *\n * @param {Object} item current iteration item\n * @return {Boolean} if false, item will be filtered out\n *\n * @author Kir Belevich\n */\n\nexports.fn = function (data) {\n  var regEnableBackground = /^new\\s0\\s0\\s([\\-+]?\\d*\\.?\\d+([eE][\\-+]?\\d+)?)\\s([\\-+]?\\d*\\.?\\d+([eE][\\-+]?\\d+)?)$/,\n      hasFilter = false,\n      elems = ['svg', 'mask', 'pattern'];\n\n  function checkEnableBackground(item) {\n    if (item.isElem(elems) && item.hasAttr('enable-background') && item.hasAttr('width') && item.hasAttr('height')) {\n      var match = item.attr('enable-background').value.match(regEnableBackground);\n\n      if (match) {\n        if (item.attr('width').value === match[1] && item.attr('height').value === match[3]) {\n          if (item.isElem('svg')) {\n            item.removeAttr('enable-background');\n          } else {\n            item.attr('enable-background').value = 'new';\n          }\n        }\n      }\n    }\n  }\n\n  function checkForFilter(item) {\n    if (item.isElem('filter')) {\n      hasFilter = true;\n    }\n  }\n\n  function monkeys(items, fn) {\n    items.content.forEach(function (item) {\n      fn(item);\n\n      if (item.content) {\n        monkeys(item, fn);\n      }\n    });\n    return items;\n  }\n\n  var firstStep = monkeys(data, function (item) {\n    checkEnableBackground(item);\n\n    if (!hasFilter) {\n      checkForFilter(item);\n    }\n  });\n  return hasFilter ? firstStep : monkeys(firstStep, function (item) {\n    //we don't need 'enable-background' if we have no filters\n    item.removeAttr('enable-background');\n  });\n};","map":{"version":3,"names":["exports","type","active","description","fn","data","regEnableBackground","hasFilter","elems","checkEnableBackground","item","isElem","hasAttr","match","attr","value","removeAttr","checkForFilter","monkeys","items","content","forEach","firstStep"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/svgo/plugins/cleanupEnableBackground.js"],"sourcesContent":["'use strict';\n\nexports.type = 'full';\n\nexports.active = true;\n\nexports.description = 'remove or cleanup enable-background attribute when possible';\n\n/**\n * Remove or cleanup enable-background attr which coincides with a width/height box.\n *\n * @see http://www.w3.org/TR/SVG/filters.html#EnableBackgroundProperty\n *\n * @example\n * <svg width=\"100\" height=\"50\" enable-background=\"new 0 0 100 50\">\n *             ⬇\n * <svg width=\"100\" height=\"50\">\n *\n * @param {Object} item current iteration item\n * @return {Boolean} if false, item will be filtered out\n *\n * @author Kir Belevich\n */\nexports.fn = function(data) {\n\n    var regEnableBackground = /^new\\s0\\s0\\s([\\-+]?\\d*\\.?\\d+([eE][\\-+]?\\d+)?)\\s([\\-+]?\\d*\\.?\\d+([eE][\\-+]?\\d+)?)$/,\n        hasFilter = false,\n        elems = ['svg', 'mask', 'pattern'];\n\n    function checkEnableBackground(item) {\n        if (\n            item.isElem(elems) &&\n            item.hasAttr('enable-background') &&\n            item.hasAttr('width') &&\n            item.hasAttr('height')\n        ) {\n\n            var match = item.attr('enable-background').value.match(regEnableBackground);\n\n            if (match) {\n                if (\n                    item.attr('width').value === match[1] &&\n                    item.attr('height').value === match[3]\n                ) {\n                    if (item.isElem('svg')) {\n                        item.removeAttr('enable-background');\n                    } else {\n                        item.attr('enable-background').value = 'new';\n                    }\n                }\n            }\n\n        }\n    }\n\n    function checkForFilter(item) {\n        if (item.isElem('filter')) {\n            hasFilter = true;\n        }\n    }\n\n    function monkeys(items, fn) {\n        items.content.forEach(function(item) {\n            fn(item);\n\n            if (item.content) {\n                monkeys(item, fn);\n            }\n        });\n        return items;\n    }\n\n    var firstStep = monkeys(data, function(item) {\n        checkEnableBackground(item);\n        if (!hasFilter) {\n            checkForFilter(item);\n        }\n    });\n\n    return hasFilter ? firstStep : monkeys(firstStep, function(item) {\n            //we don't need 'enable-background' if we have no filters\n            item.removeAttr('enable-background');\n        });\n};\n"],"mappings":"AAAA;;AAEAA,OAAO,CAACC,IAAR,GAAe,MAAf;AAEAD,OAAO,CAACE,MAAR,GAAiB,IAAjB;AAEAF,OAAO,CAACG,WAAR,GAAsB,6DAAtB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAH,OAAO,CAACI,EAAR,GAAa,UAASC,IAAT,EAAe;EAExB,IAAIC,mBAAmB,GAAG,mFAA1B;EAAA,IACIC,SAAS,GAAG,KADhB;EAAA,IAEIC,KAAK,GAAG,CAAC,KAAD,EAAQ,MAAR,EAAgB,SAAhB,CAFZ;;EAIA,SAASC,qBAAT,CAA+BC,IAA/B,EAAqC;IACjC,IACIA,IAAI,CAACC,MAAL,CAAYH,KAAZ,KACAE,IAAI,CAACE,OAAL,CAAa,mBAAb,CADA,IAEAF,IAAI,CAACE,OAAL,CAAa,OAAb,CAFA,IAGAF,IAAI,CAACE,OAAL,CAAa,QAAb,CAJJ,EAKE;MAEE,IAAIC,KAAK,GAAGH,IAAI,CAACI,IAAL,CAAU,mBAAV,EAA+BC,KAA/B,CAAqCF,KAArC,CAA2CP,mBAA3C,CAAZ;;MAEA,IAAIO,KAAJ,EAAW;QACP,IACIH,IAAI,CAACI,IAAL,CAAU,OAAV,EAAmBC,KAAnB,KAA6BF,KAAK,CAAC,CAAD,CAAlC,IACAH,IAAI,CAACI,IAAL,CAAU,QAAV,EAAoBC,KAApB,KAA8BF,KAAK,CAAC,CAAD,CAFvC,EAGE;UACE,IAAIH,IAAI,CAACC,MAAL,CAAY,KAAZ,CAAJ,EAAwB;YACpBD,IAAI,CAACM,UAAL,CAAgB,mBAAhB;UACH,CAFD,MAEO;YACHN,IAAI,CAACI,IAAL,CAAU,mBAAV,EAA+BC,KAA/B,GAAuC,KAAvC;UACH;QACJ;MACJ;IAEJ;EACJ;;EAED,SAASE,cAAT,CAAwBP,IAAxB,EAA8B;IAC1B,IAAIA,IAAI,CAACC,MAAL,CAAY,QAAZ,CAAJ,EAA2B;MACvBJ,SAAS,GAAG,IAAZ;IACH;EACJ;;EAED,SAASW,OAAT,CAAiBC,KAAjB,EAAwBf,EAAxB,EAA4B;IACxBe,KAAK,CAACC,OAAN,CAAcC,OAAd,CAAsB,UAASX,IAAT,EAAe;MACjCN,EAAE,CAACM,IAAD,CAAF;;MAEA,IAAIA,IAAI,CAACU,OAAT,EAAkB;QACdF,OAAO,CAACR,IAAD,EAAON,EAAP,CAAP;MACH;IACJ,CAND;IAOA,OAAOe,KAAP;EACH;;EAED,IAAIG,SAAS,GAAGJ,OAAO,CAACb,IAAD,EAAO,UAASK,IAAT,EAAe;IACzCD,qBAAqB,CAACC,IAAD,CAArB;;IACA,IAAI,CAACH,SAAL,EAAgB;MACZU,cAAc,CAACP,IAAD,CAAd;IACH;EACJ,CALsB,CAAvB;EAOA,OAAOH,SAAS,GAAGe,SAAH,GAAeJ,OAAO,CAACI,SAAD,EAAY,UAASZ,IAAT,EAAe;IACzD;IACAA,IAAI,CAACM,UAAL,CAAgB,mBAAhB;EACH,CAHiC,CAAtC;AAIH,CA5DD"},"metadata":{},"sourceType":"script"}