{"ast":null,"code":"var walk = require('css-tree').walk;\n\nvar utils = require('./utils');\n\nfunction processRule(node, item, list) {\n  var selectors = node.prelude.children;\n  var declarations = node.block.children;\n  list.prevUntil(item.prev, function (prev) {\n    // skip non-ruleset node if safe\n    if (prev.type !== 'Rule') {\n      return utils.unsafeToSkipNode.call(selectors, prev);\n    }\n\n    var prevSelectors = prev.prelude.children;\n    var prevDeclarations = prev.block.children; // try to join rulesets with equal pseudo signature\n\n    if (node.pseudoSignature === prev.pseudoSignature) {\n      // try to join by selectors\n      if (utils.isEqualSelectors(prevSelectors, selectors)) {\n        prevDeclarations.appendList(declarations);\n        list.remove(item);\n        return true;\n      } // try to join by declarations\n\n\n      if (utils.isEqualDeclarations(declarations, prevDeclarations)) {\n        utils.addSelectors(prevSelectors, selectors);\n        list.remove(item);\n        return true;\n      }\n    } // go to prev ruleset if has no selector similarities\n\n\n    return utils.hasSimilarSelectors(selectors, prevSelectors);\n  });\n} // NOTE: direction should be left to right, since rulesets merge to left\n// ruleset. When direction right to left unmerged rulesets may prevent lookup\n// TODO: remove initial merge\n\n\nmodule.exports = function initialMergeRule(ast) {\n  walk(ast, {\n    visit: 'Rule',\n    enter: processRule\n  });\n};","map":{"version":3,"names":["walk","require","utils","processRule","node","item","list","selectors","prelude","children","declarations","block","prevUntil","prev","type","unsafeToSkipNode","call","prevSelectors","prevDeclarations","pseudoSignature","isEqualSelectors","appendList","remove","isEqualDeclarations","addSelectors","hasSimilarSelectors","module","exports","initialMergeRule","ast","visit","enter"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/csso/lib/restructure/2-initialMergeRuleset.js"],"sourcesContent":["var walk = require('css-tree').walk;\nvar utils = require('./utils');\n\nfunction processRule(node, item, list) {\n    var selectors = node.prelude.children;\n    var declarations = node.block.children;\n\n    list.prevUntil(item.prev, function(prev) {\n        // skip non-ruleset node if safe\n        if (prev.type !== 'Rule') {\n            return utils.unsafeToSkipNode.call(selectors, prev);\n        }\n\n        var prevSelectors = prev.prelude.children;\n        var prevDeclarations = prev.block.children;\n\n        // try to join rulesets with equal pseudo signature\n        if (node.pseudoSignature === prev.pseudoSignature) {\n            // try to join by selectors\n            if (utils.isEqualSelectors(prevSelectors, selectors)) {\n                prevDeclarations.appendList(declarations);\n                list.remove(item);\n                return true;\n            }\n\n            // try to join by declarations\n            if (utils.isEqualDeclarations(declarations, prevDeclarations)) {\n                utils.addSelectors(prevSelectors, selectors);\n                list.remove(item);\n                return true;\n            }\n        }\n\n        // go to prev ruleset if has no selector similarities\n        return utils.hasSimilarSelectors(selectors, prevSelectors);\n    });\n}\n\n// NOTE: direction should be left to right, since rulesets merge to left\n// ruleset. When direction right to left unmerged rulesets may prevent lookup\n// TODO: remove initial merge\nmodule.exports = function initialMergeRule(ast) {\n    walk(ast, {\n        visit: 'Rule',\n        enter: processRule\n    });\n};\n"],"mappings":"AAAA,IAAIA,IAAI,GAAGC,OAAO,CAAC,UAAD,CAAP,CAAoBD,IAA/B;;AACA,IAAIE,KAAK,GAAGD,OAAO,CAAC,SAAD,CAAnB;;AAEA,SAASE,WAAT,CAAqBC,IAArB,EAA2BC,IAA3B,EAAiCC,IAAjC,EAAuC;EACnC,IAAIC,SAAS,GAAGH,IAAI,CAACI,OAAL,CAAaC,QAA7B;EACA,IAAIC,YAAY,GAAGN,IAAI,CAACO,KAAL,CAAWF,QAA9B;EAEAH,IAAI,CAACM,SAAL,CAAeP,IAAI,CAACQ,IAApB,EAA0B,UAASA,IAAT,EAAe;IACrC;IACA,IAAIA,IAAI,CAACC,IAAL,KAAc,MAAlB,EAA0B;MACtB,OAAOZ,KAAK,CAACa,gBAAN,CAAuBC,IAAvB,CAA4BT,SAA5B,EAAuCM,IAAvC,CAAP;IACH;;IAED,IAAII,aAAa,GAAGJ,IAAI,CAACL,OAAL,CAAaC,QAAjC;IACA,IAAIS,gBAAgB,GAAGL,IAAI,CAACF,KAAL,CAAWF,QAAlC,CAPqC,CASrC;;IACA,IAAIL,IAAI,CAACe,eAAL,KAAyBN,IAAI,CAACM,eAAlC,EAAmD;MAC/C;MACA,IAAIjB,KAAK,CAACkB,gBAAN,CAAuBH,aAAvB,EAAsCV,SAAtC,CAAJ,EAAsD;QAClDW,gBAAgB,CAACG,UAAjB,CAA4BX,YAA5B;QACAJ,IAAI,CAACgB,MAAL,CAAYjB,IAAZ;QACA,OAAO,IAAP;MACH,CAN8C,CAQ/C;;;MACA,IAAIH,KAAK,CAACqB,mBAAN,CAA0Bb,YAA1B,EAAwCQ,gBAAxC,CAAJ,EAA+D;QAC3DhB,KAAK,CAACsB,YAAN,CAAmBP,aAAnB,EAAkCV,SAAlC;QACAD,IAAI,CAACgB,MAAL,CAAYjB,IAAZ;QACA,OAAO,IAAP;MACH;IACJ,CAxBoC,CA0BrC;;;IACA,OAAOH,KAAK,CAACuB,mBAAN,CAA0BlB,SAA1B,EAAqCU,aAArC,CAAP;EACH,CA5BD;AA6BH,C,CAED;AACA;AACA;;;AACAS,MAAM,CAACC,OAAP,GAAiB,SAASC,gBAAT,CAA0BC,GAA1B,EAA+B;EAC5C7B,IAAI,CAAC6B,GAAD,EAAM;IACNC,KAAK,EAAE,MADD;IAENC,KAAK,EAAE5B;EAFD,CAAN,CAAJ;AAIH,CALD"},"metadata":{},"sourceType":"script"}