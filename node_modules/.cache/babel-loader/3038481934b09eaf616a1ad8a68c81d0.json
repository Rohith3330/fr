{"ast":null,"code":"'use strict';\n\nconst valueParser = require('postcss-value-parser');\n\nconst {\n  optimize\n} = require('svgo');\n\nconst {\n  encode,\n  decode\n} = require('./lib/url');\n\nconst PLUGIN = 'postcss-svgo';\nconst dataURI = /data:image\\/svg\\+xml(;((charset=)?utf-8|base64))?,/i;\nconst dataURIBase64 = /data:image\\/svg\\+xml;base64,/i; // the following regex will globally match:\n// \\b([\\w-]+)       --> a word (a sequence of one or more [alphanumeric|underscore|dash] characters; followed by\n// \\s*=\\s*          --> an equal sign character (=) between optional whitespaces; followed by\n// \\\\\"([\\S\\s]+?)\\\\\" --> any characters (including whitespaces and newlines) between literal escaped quotes (\\\")\n\nconst escapedQuotes = /\\b([\\w-]+)\\s*=\\s*\\\\\"([\\S\\s]+?)\\\\\"/g;\n/**\n * @param {string} input the SVG string\n * @param {Options} opts\n * @return {{result: string, isUriEncoded: boolean}} the minification result\n */\n\nfunction minifySVG(input, opts) {\n  let svg = input;\n  let decodedUri, isUriEncoded;\n\n  try {\n    decodedUri = decode(input);\n    isUriEncoded = decodedUri !== input;\n  } catch (e) {\n    // Swallow exception if we cannot decode the value\n    isUriEncoded = false;\n  }\n\n  if (isUriEncoded) {\n    svg =\n    /** @type {string} */\n    decodedUri;\n  }\n\n  if (opts.encode !== undefined) {\n    isUriEncoded = opts.encode;\n  } // normalize all escaped quote characters from svg attributes\n  // from <svg attr=\\\"value\\\"... /> to <svg attr=\"value\"... />\n  // see: https://github.com/cssnano/cssnano/issues/1194\n\n\n  svg = svg.replace(escapedQuotes, '$1=\"$2\"');\n  const result = optimize(svg, opts);\n\n  if (result.error) {\n    throw new Error(result.error);\n  }\n\n  return {\n    result:\n    /** @type {import('svgo').OptimizedSvg}*/\n    result.data,\n    isUriEncoded\n  };\n}\n/**\n * @param {import('postcss').Declaration} decl\n * @param {Options} opts\n * @param {import('postcss').Result} postcssResult\n * @return {void}\n */\n\n\nfunction minify(decl, opts, postcssResult) {\n  const parsed = valueParser(decl.value);\n  const minified = parsed.walk(node => {\n    if (node.type !== 'function' || node.value.toLowerCase() !== 'url' || !node.nodes.length) {\n      return;\n    }\n\n    let {\n      value,\n      quote\n    } =\n    /** @type {valueParser.StringNode} */\n    node.nodes[0];\n    let optimizedValue;\n\n    try {\n      if (dataURIBase64.test(value)) {\n        const url = new URL(value);\n        const base64String = `${url.protocol}${url.pathname}`.replace(dataURI, '');\n        const svg = Buffer.from(base64String, 'base64').toString('utf8');\n        const {\n          result\n        } = minifySVG(svg, opts);\n        const data = Buffer.from(result).toString('base64');\n        optimizedValue = 'data:image/svg+xml;base64,' + data + url.hash;\n      } else if (dataURI.test(value)) {\n        const svg = value.replace(dataURI, '');\n        const {\n          result,\n          isUriEncoded\n        } = minifySVG(svg, opts);\n        let data = isUriEncoded ? encode(result) : result; // Should always encode # otherwise we yield a broken SVG\n        // in Firefox (works in Chrome however). See this issue:\n        // https://github.com/cssnano/cssnano/issues/245\n\n        data = data.replace(/#/g, '%23');\n        optimizedValue = 'data:image/svg+xml;charset=utf-8,' + data;\n        quote = isUriEncoded ? '\"' : \"'\";\n      } else {\n        return;\n      }\n    } catch (error) {\n      decl.warn(postcssResult, `${error}`);\n      return;\n    }\n\n    node.nodes[0] = Object.assign({}, node.nodes[0], {\n      value: optimizedValue,\n      quote: quote,\n      type: 'string',\n      before: '',\n      after: ''\n    });\n    return false;\n  });\n  decl.value = minified.toString();\n}\n/** @typedef {{encode?: boolean, plugins?: object[]} & import('svgo').OptimizeOptions} Options */\n\n/**\n * @type {import('postcss').PluginCreator<Options>}\n * @param {Options} opts\n * @return {import('postcss').Plugin}\n */\n\n\nfunction pluginCreator() {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    postcssPlugin: PLUGIN,\n\n    OnceExit(css, _ref) {\n      let {\n        result\n      } = _ref;\n      css.walkDecls(decl => {\n        if (!dataURI.test(decl.value)) {\n          return;\n        }\n\n        minify(decl, opts, result);\n      });\n    }\n\n  };\n}\n\npluginCreator.postcss = true;\nmodule.exports = pluginCreator;","map":{"version":3,"names":["valueParser","require","optimize","encode","decode","PLUGIN","dataURI","dataURIBase64","escapedQuotes","minifySVG","input","opts","svg","decodedUri","isUriEncoded","e","undefined","replace","result","error","Error","data","minify","decl","postcssResult","parsed","value","minified","walk","node","type","toLowerCase","nodes","length","quote","optimizedValue","test","url","URL","base64String","protocol","pathname","Buffer","from","toString","hash","warn","Object","assign","before","after","pluginCreator","postcssPlugin","OnceExit","css","walkDecls","postcss","module","exports"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/postcss-svgo/src/index.js"],"sourcesContent":["'use strict';\nconst valueParser = require('postcss-value-parser');\nconst { optimize } = require('svgo');\nconst { encode, decode } = require('./lib/url');\n\nconst PLUGIN = 'postcss-svgo';\nconst dataURI = /data:image\\/svg\\+xml(;((charset=)?utf-8|base64))?,/i;\nconst dataURIBase64 = /data:image\\/svg\\+xml;base64,/i;\n\n// the following regex will globally match:\n// \\b([\\w-]+)       --> a word (a sequence of one or more [alphanumeric|underscore|dash] characters; followed by\n// \\s*=\\s*          --> an equal sign character (=) between optional whitespaces; followed by\n// \\\\\"([\\S\\s]+?)\\\\\" --> any characters (including whitespaces and newlines) between literal escaped quotes (\\\")\nconst escapedQuotes = /\\b([\\w-]+)\\s*=\\s*\\\\\"([\\S\\s]+?)\\\\\"/g;\n\n/**\n * @param {string} input the SVG string\n * @param {Options} opts\n * @return {{result: string, isUriEncoded: boolean}} the minification result\n */\nfunction minifySVG(input, opts) {\n  let svg = input;\n  let decodedUri, isUriEncoded;\n  try {\n    decodedUri = decode(input);\n    isUriEncoded = decodedUri !== input;\n  } catch (e) {\n    // Swallow exception if we cannot decode the value\n    isUriEncoded = false;\n  }\n\n  if (isUriEncoded) {\n    svg = /** @type {string} */ (decodedUri);\n  }\n\n  if (opts.encode !== undefined) {\n    isUriEncoded = opts.encode;\n  }\n\n  // normalize all escaped quote characters from svg attributes\n  // from <svg attr=\\\"value\\\"... /> to <svg attr=\"value\"... />\n  // see: https://github.com/cssnano/cssnano/issues/1194\n  svg = svg.replace(escapedQuotes, '$1=\"$2\"');\n\n  const result = optimize(svg, opts);\n  if (result.error) {\n    throw new Error(result.error);\n  }\n\n  return {\n    result: /** @type {import('svgo').OptimizedSvg}*/ (result).data,\n    isUriEncoded,\n  };\n}\n\n/**\n * @param {import('postcss').Declaration} decl\n * @param {Options} opts\n * @param {import('postcss').Result} postcssResult\n * @return {void}\n */\nfunction minify(decl, opts, postcssResult) {\n  const parsed = valueParser(decl.value);\n\n  const minified = parsed.walk((node) => {\n    if (\n      node.type !== 'function' ||\n      node.value.toLowerCase() !== 'url' ||\n      !node.nodes.length\n    ) {\n      return;\n    }\n    let { value, quote } = /** @type {valueParser.StringNode} */ (\n      node.nodes[0]\n    );\n\n    let optimizedValue;\n\n    try {\n      if (dataURIBase64.test(value)) {\n        const url = new URL(value);\n        const base64String = `${url.protocol}${url.pathname}`.replace(\n          dataURI,\n          ''\n        );\n        const svg = Buffer.from(base64String, 'base64').toString('utf8');\n        const { result } = minifySVG(svg, opts);\n        const data = Buffer.from(result).toString('base64');\n        optimizedValue = 'data:image/svg+xml;base64,' + data + url.hash;\n      } else if (dataURI.test(value)) {\n        const svg = value.replace(dataURI, '');\n        const { result, isUriEncoded } = minifySVG(svg, opts);\n        let data = isUriEncoded ? encode(result) : result;\n        // Should always encode # otherwise we yield a broken SVG\n        // in Firefox (works in Chrome however). See this issue:\n        // https://github.com/cssnano/cssnano/issues/245\n        data = data.replace(/#/g, '%23');\n        optimizedValue = 'data:image/svg+xml;charset=utf-8,' + data;\n        quote = isUriEncoded ? '\"' : \"'\";\n      } else {\n        return;\n      }\n    } catch (error) {\n      decl.warn(postcssResult, `${error}`);\n      return;\n    }\n    node.nodes[0] = Object.assign({}, node.nodes[0], {\n      value: optimizedValue,\n      quote: quote,\n      type: 'string',\n      before: '',\n      after: '',\n    });\n\n    return false;\n  });\n\n  decl.value = minified.toString();\n}\n/** @typedef {{encode?: boolean, plugins?: object[]} & import('svgo').OptimizeOptions} Options */\n/**\n * @type {import('postcss').PluginCreator<Options>}\n * @param {Options} opts\n * @return {import('postcss').Plugin}\n */\nfunction pluginCreator(opts = {}) {\n  return {\n    postcssPlugin: PLUGIN,\n\n    OnceExit(css, { result }) {\n      css.walkDecls((decl) => {\n        if (!dataURI.test(decl.value)) {\n          return;\n        }\n\n        minify(decl, opts, result);\n      });\n    },\n  };\n}\n\npluginCreator.postcss = true;\nmodule.exports = pluginCreator;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}