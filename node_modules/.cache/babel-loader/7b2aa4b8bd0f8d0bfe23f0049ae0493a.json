{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RULE_NAME = void 0;\n\nconst utils_1 = require(\"@typescript-eslint/utils\");\n\nconst create_testing_library_rule_1 = require(\"../create-testing-library-rule\");\n\nconst node_utils_1 = require(\"../node-utils\");\n\nconst USER_EVENT_ASYNC_EXCEPTIONS = ['type', 'keyboard'];\nconst VALID_EVENT_MODULES = ['fire-event', 'user-event'];\nexports.RULE_NAME = 'no-await-sync-events';\nexports.default = (0, create_testing_library_rule_1.createTestingLibraryRule)({\n  name: exports.RULE_NAME,\n  meta: {\n    type: 'problem',\n    docs: {\n      description: 'Disallow unnecessary `await` for sync events',\n      recommendedConfig: {\n        dom: false,\n        angular: false,\n        react: false,\n        vue: false,\n        marko: false\n      }\n    },\n    messages: {\n      noAwaitSyncEvents: '`{{ name }}` is sync and does not need `await` operator'\n    },\n    schema: [{\n      type: 'object',\n      properties: {\n        eventModules: {\n          type: 'array',\n          minItems: 1,\n          items: {\n            enum: VALID_EVENT_MODULES\n          }\n        }\n      },\n      additionalProperties: false\n    }]\n  },\n  defaultOptions: [{\n    eventModules: VALID_EVENT_MODULES\n  }],\n\n  create(context, _ref, helpers) {\n    let [options] = _ref;\n    const {\n      eventModules = VALID_EVENT_MODULES\n    } = options;\n    let hasDelayDeclarationOrAssignmentGTZero;\n    return {\n      VariableDeclaration(node) {\n        hasDelayDeclarationOrAssignmentGTZero = node.declarations.some(property => utils_1.ASTUtils.isIdentifier(property.id) && property.id.name === 'delay' && (0, node_utils_1.isLiteral)(property.init) && property.init.value && property.init.value > 0);\n      },\n\n      AssignmentExpression(node) {\n        if (utils_1.ASTUtils.isIdentifier(node.left) && node.left.name === 'delay' && (0, node_utils_1.isLiteral)(node.right) && node.right.value !== null) {\n          hasDelayDeclarationOrAssignmentGTZero = node.right.value > 0;\n        }\n      },\n\n      'AwaitExpression > CallExpression'(node) {\n        var _a;\n\n        const simulateEventFunctionIdentifier = (0, node_utils_1.getDeepestIdentifierNode)(node);\n\n        if (!simulateEventFunctionIdentifier) {\n          return;\n        }\n\n        const isUserEventMethod = helpers.isUserEventMethod(simulateEventFunctionIdentifier);\n        const isFireEventMethod = helpers.isFireEventMethod(simulateEventFunctionIdentifier);\n        const isSimulateEventMethod = isUserEventMethod || isFireEventMethod;\n\n        if (!isSimulateEventMethod) {\n          return;\n        }\n\n        if (isFireEventMethod && !eventModules.includes('fire-event')) {\n          return;\n        }\n\n        if (isUserEventMethod && !eventModules.includes('user-event')) {\n          return;\n        }\n\n        const lastArg = node.arguments[node.arguments.length - 1];\n        const hasDelayProperty = (0, node_utils_1.isObjectExpression)(lastArg) && lastArg.properties.some(property => (0, node_utils_1.isProperty)(property) && utils_1.ASTUtils.isIdentifier(property.key) && property.key.name === 'delay');\n        const hasDelayLiteralGTZero = (0, node_utils_1.isObjectExpression)(lastArg) && lastArg.properties.some(property => (0, node_utils_1.isProperty)(property) && utils_1.ASTUtils.isIdentifier(property.key) && property.key.name === 'delay' && (0, node_utils_1.isLiteral)(property.value) && !!property.value.value && property.value.value > 0);\n        const simulateEventFunctionName = simulateEventFunctionIdentifier.name;\n\n        if (USER_EVENT_ASYNC_EXCEPTIONS.includes(simulateEventFunctionName) && hasDelayProperty && (hasDelayDeclarationOrAssignmentGTZero || hasDelayLiteralGTZero)) {\n          return;\n        }\n\n        context.report({\n          node,\n          messageId: 'noAwaitSyncEvents',\n          data: {\n            name: `${(_a = (0, node_utils_1.getPropertyIdentifierNode)(node)) === null || _a === void 0 ? void 0 : _a.name}.${simulateEventFunctionName}`\n          }\n        });\n      }\n\n    };\n  }\n\n});","map":{"version":3,"names":["Object","defineProperty","exports","value","RULE_NAME","utils_1","require","create_testing_library_rule_1","node_utils_1","USER_EVENT_ASYNC_EXCEPTIONS","VALID_EVENT_MODULES","default","createTestingLibraryRule","name","meta","type","docs","description","recommendedConfig","dom","angular","react","vue","marko","messages","noAwaitSyncEvents","schema","properties","eventModules","minItems","items","enum","additionalProperties","defaultOptions","create","context","helpers","options","hasDelayDeclarationOrAssignmentGTZero","VariableDeclaration","node","declarations","some","property","ASTUtils","isIdentifier","id","isLiteral","init","AssignmentExpression","left","right","_a","simulateEventFunctionIdentifier","getDeepestIdentifierNode","isUserEventMethod","isFireEventMethod","isSimulateEventMethod","includes","lastArg","arguments","length","hasDelayProperty","isObjectExpression","isProperty","key","hasDelayLiteralGTZero","simulateEventFunctionName","report","messageId","data","getPropertyIdentifierNode"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/eslint-plugin-testing-library/rules/no-await-sync-events.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RULE_NAME = void 0;\nconst utils_1 = require(\"@typescript-eslint/utils\");\nconst create_testing_library_rule_1 = require(\"../create-testing-library-rule\");\nconst node_utils_1 = require(\"../node-utils\");\nconst USER_EVENT_ASYNC_EXCEPTIONS = ['type', 'keyboard'];\nconst VALID_EVENT_MODULES = ['fire-event', 'user-event'];\nexports.RULE_NAME = 'no-await-sync-events';\nexports.default = (0, create_testing_library_rule_1.createTestingLibraryRule)({\n    name: exports.RULE_NAME,\n    meta: {\n        type: 'problem',\n        docs: {\n            description: 'Disallow unnecessary `await` for sync events',\n            recommendedConfig: {\n                dom: false,\n                angular: false,\n                react: false,\n                vue: false,\n                marko: false,\n            },\n        },\n        messages: {\n            noAwaitSyncEvents: '`{{ name }}` is sync and does not need `await` operator',\n        },\n        schema: [\n            {\n                type: 'object',\n                properties: {\n                    eventModules: {\n                        type: 'array',\n                        minItems: 1,\n                        items: {\n                            enum: VALID_EVENT_MODULES,\n                        },\n                    },\n                },\n                additionalProperties: false,\n            },\n        ],\n    },\n    defaultOptions: [{ eventModules: VALID_EVENT_MODULES }],\n    create(context, [options], helpers) {\n        const { eventModules = VALID_EVENT_MODULES } = options;\n        let hasDelayDeclarationOrAssignmentGTZero;\n        return {\n            VariableDeclaration(node) {\n                hasDelayDeclarationOrAssignmentGTZero = node.declarations.some((property) => utils_1.ASTUtils.isIdentifier(property.id) &&\n                    property.id.name === 'delay' &&\n                    (0, node_utils_1.isLiteral)(property.init) &&\n                    property.init.value &&\n                    property.init.value > 0);\n            },\n            AssignmentExpression(node) {\n                if (utils_1.ASTUtils.isIdentifier(node.left) &&\n                    node.left.name === 'delay' &&\n                    (0, node_utils_1.isLiteral)(node.right) &&\n                    node.right.value !== null) {\n                    hasDelayDeclarationOrAssignmentGTZero = node.right.value > 0;\n                }\n            },\n            'AwaitExpression > CallExpression'(node) {\n                var _a;\n                const simulateEventFunctionIdentifier = (0, node_utils_1.getDeepestIdentifierNode)(node);\n                if (!simulateEventFunctionIdentifier) {\n                    return;\n                }\n                const isUserEventMethod = helpers.isUserEventMethod(simulateEventFunctionIdentifier);\n                const isFireEventMethod = helpers.isFireEventMethod(simulateEventFunctionIdentifier);\n                const isSimulateEventMethod = isUserEventMethod || isFireEventMethod;\n                if (!isSimulateEventMethod) {\n                    return;\n                }\n                if (isFireEventMethod && !eventModules.includes('fire-event')) {\n                    return;\n                }\n                if (isUserEventMethod && !eventModules.includes('user-event')) {\n                    return;\n                }\n                const lastArg = node.arguments[node.arguments.length - 1];\n                const hasDelayProperty = (0, node_utils_1.isObjectExpression)(lastArg) &&\n                    lastArg.properties.some((property) => (0, node_utils_1.isProperty)(property) &&\n                        utils_1.ASTUtils.isIdentifier(property.key) &&\n                        property.key.name === 'delay');\n                const hasDelayLiteralGTZero = (0, node_utils_1.isObjectExpression)(lastArg) &&\n                    lastArg.properties.some((property) => (0, node_utils_1.isProperty)(property) &&\n                        utils_1.ASTUtils.isIdentifier(property.key) &&\n                        property.key.name === 'delay' &&\n                        (0, node_utils_1.isLiteral)(property.value) &&\n                        !!property.value.value &&\n                        property.value.value > 0);\n                const simulateEventFunctionName = simulateEventFunctionIdentifier.name;\n                if (USER_EVENT_ASYNC_EXCEPTIONS.includes(simulateEventFunctionName) &&\n                    hasDelayProperty &&\n                    (hasDelayDeclarationOrAssignmentGTZero || hasDelayLiteralGTZero)) {\n                    return;\n                }\n                context.report({\n                    node,\n                    messageId: 'noAwaitSyncEvents',\n                    data: {\n                        name: `${(_a = (0, node_utils_1.getPropertyIdentifierNode)(node)) === null || _a === void 0 ? void 0 : _a.name}.${simulateEventFunctionName}`,\n                    },\n                });\n            },\n        };\n    },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}