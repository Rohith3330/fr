{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst utils_1 = require(\"@typescript-eslint/utils\");\n\nconst util = __importStar(require(\"../util\"));\n\nexports.default = util.createRule({\n  name: 'no-extraneous-class',\n  meta: {\n    type: 'suggestion',\n    docs: {\n      description: 'Disallow classes used as namespaces',\n      recommended: 'strict'\n    },\n    schema: [{\n      type: 'object',\n      additionalProperties: false,\n      properties: {\n        allowConstructorOnly: {\n          description: 'Whether to allow extraneous classes that contain only a constructor.',\n          type: 'boolean'\n        },\n        allowEmpty: {\n          description: 'Whether to allow extraneous classes that have no body (i.e. are empty).',\n          type: 'boolean'\n        },\n        allowStaticOnly: {\n          description: 'Whether to allow extraneous classes that only contain static members.',\n          type: 'boolean'\n        },\n        allowWithDecorator: {\n          description: 'Whether to allow extraneous classes that include a decorator.',\n          type: 'boolean'\n        }\n      }\n    }],\n    messages: {\n      empty: 'Unexpected empty class.',\n      onlyStatic: 'Unexpected class with only static properties.',\n      onlyConstructor: 'Unexpected class with only a constructor.'\n    }\n  },\n  defaultOptions: [{\n    allowConstructorOnly: false,\n    allowEmpty: false,\n    allowStaticOnly: false,\n    allowWithDecorator: false\n  }],\n\n  create(context, _ref) {\n    let [{\n      allowConstructorOnly,\n      allowEmpty,\n      allowStaticOnly,\n      allowWithDecorator\n    }] = _ref;\n\n    const isAllowWithDecorator = node => {\n      return !!(allowWithDecorator && node && node.decorators && node.decorators.length);\n    };\n\n    return {\n      ClassBody(node) {\n        const parent = node.parent;\n\n        if (!parent || parent.superClass || isAllowWithDecorator(parent)) {\n          return;\n        }\n\n        const reportNode = 'id' in parent && parent.id ? parent.id : parent;\n\n        if (node.body.length === 0) {\n          if (allowEmpty) {\n            return;\n          }\n\n          context.report({\n            node: reportNode,\n            messageId: 'empty'\n          });\n          return;\n        }\n\n        let onlyStatic = true;\n        let onlyConstructor = true;\n\n        for (const prop of node.body) {\n          if ('kind' in prop && prop.kind === 'constructor') {\n            if (prop.value.params.some(param => param.type === utils_1.AST_NODE_TYPES.TSParameterProperty)) {\n              onlyConstructor = false;\n              onlyStatic = false;\n            }\n          } else {\n            onlyConstructor = false;\n\n            if ('static' in prop && !prop.static) {\n              onlyStatic = false;\n            }\n          }\n\n          if (!(onlyStatic || onlyConstructor)) {\n            break;\n          }\n        }\n\n        if (onlyConstructor) {\n          if (!allowConstructorOnly) {\n            context.report({\n              node: reportNode,\n              messageId: 'onlyConstructor'\n            });\n          }\n\n          return;\n        }\n\n        if (onlyStatic && !allowStaticOnly) {\n          context.report({\n            node: reportNode,\n            messageId: 'onlyStatic'\n          });\n        }\n      }\n\n    };\n  }\n\n});","map":{"version":3,"mappings":"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","names":["exports","util","createRule","name","meta","type","docs","description","recommended","schema","additionalProperties","properties","allowConstructorOnly","allowEmpty","allowStaticOnly","allowWithDecorator","messages","empty","onlyStatic","onlyConstructor","defaultOptions","create","context","isAllowWithDecorator","node","decorators","length","ClassBody","parent","superClass","reportNode","id","body","report","messageId","prop","kind","value","params","some","param","utils_1","TSParameterProperty","static"],"sources":["../../src/rules/no-extraneous-class.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}