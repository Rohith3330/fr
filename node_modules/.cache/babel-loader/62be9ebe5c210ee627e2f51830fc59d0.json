{"ast":null,"code":"const {\n  getRefreshGlobalScope\n} = require('../globals');\n/**\n * @typedef {Object} RuntimeTemplate\n * @property {function(string, string[]): string} basicFunction\n * @property {function(): boolean} supportsConst\n * @property {function(string, string=): string} returningFunction\n */\n\n/**\n * Generates the refresh global runtime template.\n * @param {import('webpack').Template} Template The template helpers.\n * @param {Record<string, string>} [RuntimeGlobals] The runtime globals.\n * @param {RuntimeTemplate} [RuntimeTemplate] The runtime template helpers.\n * @returns {string} The refresh global runtime template.\n */\n\n\nfunction getRefreshGlobal(Template) {\n  let RuntimeGlobals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let RuntimeTemplate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    basicFunction(args, body) {\n      return `function(${args}) {\\n${Template.indent(body)}\\n}`;\n    },\n\n    supportsConst() {\n      return false;\n    },\n\n    returningFunction(returnValue) {\n      let args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      return `function(${args}) { return ${returnValue}; }`;\n    }\n\n  };\n  const declaration = RuntimeTemplate.supportsConst() ? 'const' : 'var';\n  const refreshGlobal = getRefreshGlobalScope(RuntimeGlobals);\n  return Template.asString([`${refreshGlobal} = {`, Template.indent([// Lifecycle methods - They should be specific per module and restored after module execution.\n  // These stubs ensure unwanted calls (e.g. unsupported patterns, broken transform) would not error out.\n  // If the current module is processed by our loader,\n  // they will be swapped in place during module initialisation by the `setup` method below.\n  `register: ${RuntimeTemplate.returningFunction('undefined')},`, `signature: ${RuntimeTemplate.returningFunction(RuntimeTemplate.returningFunction('type', 'type'))},`, // Runtime - This should be a singleton and persist throughout the lifetime of the app.\n  // This stub ensures calls to `runtime` would not error out.\n  // If any module within the bundle is processed by our loader,\n  // it will be swapped in place via an injected import.\n  'runtime: {', Template.indent([`createSignatureFunctionForTransform: ${RuntimeTemplate.returningFunction(RuntimeTemplate.returningFunction('type', 'type'))},`, `register: ${RuntimeTemplate.returningFunction('undefined')}`]), '},', // Setup - This handles initialisation of the global runtime.\n  // It should never be touched throughout the lifetime of the app.\n  `setup: ${RuntimeTemplate.basicFunction('currentModuleId', [// Store all previous values for fields on `refreshGlobal` -\n  // this allows proper restoration in the `cleanup` phase.\n  `${declaration} prevModuleId = ${refreshGlobal}.moduleId;`, `${declaration} prevRegister = ${refreshGlobal}.register;`, `${declaration} prevSignature = ${refreshGlobal}.signature;`, `${declaration} prevCleanup = ${refreshGlobal}.cleanup;`, '', `${refreshGlobal}.moduleId = currentModuleId;`, '', `${refreshGlobal}.register = ${RuntimeTemplate.basicFunction('type, id', [`${declaration} typeId = currentModuleId + \" \" + id;`, `${refreshGlobal}.runtime.register(type, typeId);`])}`, '', `${refreshGlobal}.signature = ${RuntimeTemplate.returningFunction(`${refreshGlobal}.runtime.createSignatureFunctionForTransform()`)};`, '', `${refreshGlobal}.cleanup = ${RuntimeTemplate.basicFunction('cleanupModuleId', [// Only cleanup if the module IDs match.\n  // In rare cases, it might get called in another module's `cleanup` phase.\n  'if (currentModuleId === cleanupModuleId) {', Template.indent([`${refreshGlobal}.moduleId = prevModuleId;`, `${refreshGlobal}.register = prevRegister;`, `${refreshGlobal}.signature = prevSignature;`, `${refreshGlobal}.cleanup = prevCleanup;`]), '}'])}`])}`]), '};']);\n}\n\nmodule.exports = getRefreshGlobal;","map":{"version":3,"names":["getRefreshGlobalScope","require","getRefreshGlobal","Template","RuntimeGlobals","RuntimeTemplate","basicFunction","args","body","indent","supportsConst","returningFunction","returnValue","declaration","refreshGlobal","asString","module","exports"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/utils/getRefreshGlobal.js"],"sourcesContent":["const { getRefreshGlobalScope } = require('../globals');\n\n/**\n * @typedef {Object} RuntimeTemplate\n * @property {function(string, string[]): string} basicFunction\n * @property {function(): boolean} supportsConst\n * @property {function(string, string=): string} returningFunction\n */\n\n/**\n * Generates the refresh global runtime template.\n * @param {import('webpack').Template} Template The template helpers.\n * @param {Record<string, string>} [RuntimeGlobals] The runtime globals.\n * @param {RuntimeTemplate} [RuntimeTemplate] The runtime template helpers.\n * @returns {string} The refresh global runtime template.\n */\nfunction getRefreshGlobal(\n  Template,\n  RuntimeGlobals = {},\n  RuntimeTemplate = {\n    basicFunction(args, body) {\n      return `function(${args}) {\\n${Template.indent(body)}\\n}`;\n    },\n    supportsConst() {\n      return false;\n    },\n    returningFunction(returnValue, args = '') {\n      return `function(${args}) { return ${returnValue}; }`;\n    },\n  }\n) {\n  const declaration = RuntimeTemplate.supportsConst() ? 'const' : 'var';\n  const refreshGlobal = getRefreshGlobalScope(RuntimeGlobals);\n  return Template.asString([\n    `${refreshGlobal} = {`,\n    Template.indent([\n      // Lifecycle methods - They should be specific per module and restored after module execution.\n      // These stubs ensure unwanted calls (e.g. unsupported patterns, broken transform) would not error out.\n      // If the current module is processed by our loader,\n      // they will be swapped in place during module initialisation by the `setup` method below.\n      `register: ${RuntimeTemplate.returningFunction('undefined')},`,\n      `signature: ${RuntimeTemplate.returningFunction(\n        RuntimeTemplate.returningFunction('type', 'type')\n      )},`,\n      // Runtime - This should be a singleton and persist throughout the lifetime of the app.\n      // This stub ensures calls to `runtime` would not error out.\n      // If any module within the bundle is processed by our loader,\n      // it will be swapped in place via an injected import.\n      'runtime: {',\n      Template.indent([\n        `createSignatureFunctionForTransform: ${RuntimeTemplate.returningFunction(\n          RuntimeTemplate.returningFunction('type', 'type')\n        )},`,\n        `register: ${RuntimeTemplate.returningFunction('undefined')}`,\n      ]),\n      '},',\n      // Setup - This handles initialisation of the global runtime.\n      // It should never be touched throughout the lifetime of the app.\n      `setup: ${RuntimeTemplate.basicFunction('currentModuleId', [\n        // Store all previous values for fields on `refreshGlobal` -\n        // this allows proper restoration in the `cleanup` phase.\n        `${declaration} prevModuleId = ${refreshGlobal}.moduleId;`,\n        `${declaration} prevRegister = ${refreshGlobal}.register;`,\n        `${declaration} prevSignature = ${refreshGlobal}.signature;`,\n        `${declaration} prevCleanup = ${refreshGlobal}.cleanup;`,\n        '',\n        `${refreshGlobal}.moduleId = currentModuleId;`,\n        '',\n        `${refreshGlobal}.register = ${RuntimeTemplate.basicFunction('type, id', [\n          `${declaration} typeId = currentModuleId + \" \" + id;`,\n          `${refreshGlobal}.runtime.register(type, typeId);`,\n        ])}`,\n        '',\n        `${refreshGlobal}.signature = ${RuntimeTemplate.returningFunction(\n          `${refreshGlobal}.runtime.createSignatureFunctionForTransform()`\n        )};`,\n        '',\n        `${refreshGlobal}.cleanup = ${RuntimeTemplate.basicFunction('cleanupModuleId', [\n          // Only cleanup if the module IDs match.\n          // In rare cases, it might get called in another module's `cleanup` phase.\n          'if (currentModuleId === cleanupModuleId) {',\n          Template.indent([\n            `${refreshGlobal}.moduleId = prevModuleId;`,\n            `${refreshGlobal}.register = prevRegister;`,\n            `${refreshGlobal}.signature = prevSignature;`,\n            `${refreshGlobal}.cleanup = prevCleanup;`,\n          ]),\n          '}',\n        ])}`,\n      ])}`,\n    ]),\n    '};',\n  ]);\n}\n\nmodule.exports = getRefreshGlobal;\n"],"mappings":"AAAA,MAAM;EAAEA;AAAF,IAA4BC,OAAO,CAAC,YAAD,CAAzC;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,gBAAT,CACEC,QADF,EAcE;EAAA,IAZAC,cAYA,uEAZiB,EAYjB;EAAA,IAXAC,eAWA,uEAXkB;IAChBC,aAAa,CAACC,IAAD,EAAOC,IAAP,EAAa;MACxB,OAAQ,YAAWD,IAAK,QAAOJ,QAAQ,CAACM,MAAT,CAAgBD,IAAhB,CAAsB,KAArD;IACD,CAHe;;IAIhBE,aAAa,GAAG;MACd,OAAO,KAAP;IACD,CANe;;IAOhBC,iBAAiB,CAACC,WAAD,EAAyB;MAAA,IAAXL,IAAW,uEAAJ,EAAI;MACxC,OAAQ,YAAWA,IAAK,cAAaK,WAAY,KAAjD;IACD;;EATe,CAWlB;EACA,MAAMC,WAAW,GAAGR,eAAe,CAACK,aAAhB,KAAkC,OAAlC,GAA4C,KAAhE;EACA,MAAMI,aAAa,GAAGd,qBAAqB,CAACI,cAAD,CAA3C;EACA,OAAOD,QAAQ,CAACY,QAAT,CAAkB,CACtB,GAAED,aAAc,MADM,EAEvBX,QAAQ,CAACM,MAAT,CAAgB,CACd;EACA;EACA;EACA;EACC,aAAYJ,eAAe,CAACM,iBAAhB,CAAkC,WAAlC,CAA+C,GAL9C,EAMb,cAAaN,eAAe,CAACM,iBAAhB,CACZN,eAAe,CAACM,iBAAhB,CAAkC,MAAlC,EAA0C,MAA1C,CADY,CAEZ,GARY,EASd;EACA;EACA;EACA;EACA,YAbc,EAcdR,QAAQ,CAACM,MAAT,CAAgB,CACb,wCAAuCJ,eAAe,CAACM,iBAAhB,CACtCN,eAAe,CAACM,iBAAhB,CAAkC,MAAlC,EAA0C,MAA1C,CADsC,CAEtC,GAHY,EAIb,aAAYN,eAAe,CAACM,iBAAhB,CAAkC,WAAlC,CAA+C,EAJ9C,CAAhB,CAdc,EAoBd,IApBc,EAqBd;EACA;EACC,UAASN,eAAe,CAACC,aAAhB,CAA8B,iBAA9B,EAAiD,CACzD;EACA;EACC,GAAEO,WAAY,mBAAkBC,aAAc,YAHU,EAIxD,GAAED,WAAY,mBAAkBC,aAAc,YAJU,EAKxD,GAAED,WAAY,oBAAmBC,aAAc,aALS,EAMxD,GAAED,WAAY,kBAAiBC,aAAc,WANW,EAOzD,EAPyD,EAQxD,GAAEA,aAAc,8BARwC,EASzD,EATyD,EAUxD,GAAEA,aAAc,eAAcT,eAAe,CAACC,aAAhB,CAA8B,UAA9B,EAA0C,CACtE,GAAEO,WAAY,uCADwD,EAEtE,GAAEC,aAAc,kCAFsD,CAA1C,CAG5B,EAbsD,EAczD,EAdyD,EAexD,GAAEA,aAAc,gBAAeT,eAAe,CAACM,iBAAhB,CAC7B,GAAEG,aAAc,gDADa,CAE9B,GAjBuD,EAkBzD,EAlByD,EAmBxD,GAAEA,aAAc,cAAaT,eAAe,CAACC,aAAhB,CAA8B,iBAA9B,EAAiD,CAC7E;EACA;EACA,4CAH6E,EAI7EH,QAAQ,CAACM,MAAT,CAAgB,CACb,GAAEK,aAAc,2BADH,EAEb,GAAEA,aAAc,2BAFH,EAGb,GAAEA,aAAc,6BAHH,EAIb,GAAEA,aAAc,yBAJH,CAAhB,CAJ6E,EAU7E,GAV6E,CAAjD,CAW3B,EA9BsD,CAAjD,CA+BP,EAtDW,CAAhB,CAFuB,EA0DvB,IA1DuB,CAAlB,CAAP;AA4DD;;AAEDE,MAAM,CAACC,OAAP,GAAiBf,gBAAjB"},"metadata":{},"sourceType":"script"}