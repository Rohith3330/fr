{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DnsTxt = void 0;\n\nclass DnsTxt {\n  constructor() {\n    let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.binary = opts ? opts.binary : false;\n  }\n\n  encode() {\n    let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return Object.entries(data).map(_ref => {\n      let [key, value] = _ref;\n      let item = `${key}=${value}`;\n      return Buffer.from(item);\n    });\n  }\n\n  decode(buffer) {\n    var data = {};\n\n    try {\n      let format = buffer.toString();\n      let parts = format.split(/=(.+)/);\n      let key = parts[0];\n      let value = parts[1];\n      data[key] = value;\n    } catch (_) {}\n\n    return data;\n  }\n\n  decodeAll(buffer) {\n    return buffer.filter(i => i.length > 1).map(i => this.decode(i)).reduce((prev, curr) => {\n      var obj = prev;\n      let [key] = Object.keys(curr);\n      let [value] = Object.values(curr);\n      obj[key] = value;\n      return obj;\n    }, {});\n  }\n\n}\n\nexports.DnsTxt = DnsTxt;\nexports.default = DnsTxt;","map":{"version":3,"mappings":"AAAA;;;;;;;AAIA,MAAaA,MAAb,CAAmB;EAIfC,cAA+B;IAAA,IAAnBC,IAAmB,uEAAF,EAAE;IAC3B,KAAKC,MAAL,GAAcD,IAAI,GAAGA,IAAI,CAACC,MAAR,GAAiB,KAAnC;EACH;;EAOMC,MAAM,GAAoB;IAAA,IAAnBC,IAAmB,uEAAF,EAAE;IAC7B,OAAOC,MAAM,CAACC,OAAP,CAAeF,IAAf,EACNG,GADM,CACF,QAAiB;MAAA,IAAhB,CAACC,GAAD,EAAMC,KAAN,CAAgB;MAClB,IAAIC,IAAI,GAAW,GAAGF,GAAG,IAAIC,KAAK,EAAlC;MACA,OAAOE,MAAM,CAACC,IAAP,CAAYF,IAAZ,CAAP;IACH,CAJM,CAAP;EAKH;;EAOMG,MAAM,CAACC,MAAD,EAAe;IACxB,IAAIV,IAAI,GAAa,EAArB;;IAEA,IAAI;MACA,IAAIW,MAAM,GAAoBD,MAAM,CAACE,QAAP,EAA9B;MACA,IAAIC,KAAK,GAAqBF,MAAM,CAACG,KAAP,CAAa,OAAb,CAA9B;MACA,IAAIV,GAAG,GAAuBS,KAAK,CAAC,CAAD,CAAnC;MACA,IAAIR,KAAK,GAAqBQ,KAAK,CAAC,CAAD,CAAnC;MACAb,IAAI,CAACI,GAAD,CAAJ,GAAYC,KAAZ;IACH,CAND,CAME,OAAMU,CAAN,EAAS,CAAE;;IAEb,OAAOf,IAAP;EACH;;EAOMgB,SAAS,CAACN,MAAD,EAAsB;IAClC,OAAOA,MAAM,CACZO,MADM,CACCC,CAAC,IAAIA,CAAC,CAACC,MAAF,GAAW,CADjB,EAENhB,GAFM,CAEFe,CAAC,IAAI,KAAKT,MAAL,CAAYS,CAAZ,CAFH,EAGNE,MAHM,CAGC,CAACC,IAAD,EAAOC,IAAP,KAAe;MACnB,IAAIC,GAAG,GAAWF,IAAlB;MACA,IAAI,CAACjB,GAAD,IAAcH,MAAM,CAACuB,IAAP,CAAYF,IAAZ,CAAlB;MACA,IAAI,CAACjB,KAAD,IAAcJ,MAAM,CAACwB,MAAP,CAAcH,IAAd,CAAlB;MACAC,GAAG,CAACnB,GAAD,CAAH,GAAkBC,KAAlB;MACA,OAAOkB,GAAP;IACH,CATM,EASJ,EATI,CAAP;EAUH;;AAxDc;;AAAnBG;AA4DAA,kBAAe/B,MAAf","names":["DnsTxt","constructor","opts","binary","encode","data","Object","entries","map","key","value","item","Buffer","from","decode","buffer","format","toString","parts","split","_","decodeAll","filter","i","length","reduce","prev","curr","obj","keys","values","exports"],"sources":["../../src/lib/dns-txt.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}