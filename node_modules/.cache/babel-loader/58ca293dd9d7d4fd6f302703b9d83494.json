{"ast":null,"code":"'use strict';\n\nexports.type = 'full';\nexports.active = true;\nexports.description = 'removes unused namespaces declaration';\n/**\n * Remove unused namespaces declaration.\n *\n * @param {Object} item current iteration item\n * @return {Boolean} if false, item will be filtered out\n *\n * @author Kir Belevich\n */\n\nexports.fn = function (data) {\n  var svgElem,\n      xmlnsCollection = [];\n  /**\n   * Remove namespace from collection.\n   *\n   * @param {String} ns namescape name\n   */\n\n  function removeNSfromCollection(ns) {\n    var pos = xmlnsCollection.indexOf(ns); // if found - remove ns from the namespaces collection\n\n    if (pos > -1) {\n      xmlnsCollection.splice(pos, 1);\n    }\n  }\n  /**\n   * Bananas!\n   *\n   * @param {Array} items input items\n   *\n   * @return {Array} output items\n   */\n\n\n  function monkeys(items) {\n    var i = 0,\n        length = items.content.length;\n\n    while (i < length) {\n      var item = items.content[i];\n\n      if (item.isElem('svg')) {\n        item.eachAttr(function (attr) {\n          // collect namespaces\n          if (attr.prefix === 'xmlns' && attr.local) {\n            xmlnsCollection.push(attr.local);\n          }\n        }); // if svg element has ns-attr\n\n        if (xmlnsCollection.length) {\n          // save svg element\n          svgElem = item;\n        }\n      }\n\n      if (xmlnsCollection.length) {\n        // check item for the ns-attrs\n        if (item.prefix) {\n          removeNSfromCollection(item.prefix);\n        } // check each attr for the ns-attrs\n\n\n        item.eachAttr(function (attr) {\n          removeNSfromCollection(attr.prefix);\n        });\n      } // if nothing is found - go deeper\n\n\n      if (xmlnsCollection.length && item.content) {\n        monkeys(item);\n      }\n\n      i++;\n    }\n\n    return items;\n  }\n\n  data = monkeys(data); // remove svg element ns-attributes if they are not used even once\n\n  if (xmlnsCollection.length) {\n    xmlnsCollection.forEach(function (name) {\n      svgElem.removeAttr('xmlns:' + name);\n    });\n  }\n\n  return data;\n};","map":{"version":3,"names":["exports","type","active","description","fn","data","svgElem","xmlnsCollection","removeNSfromCollection","ns","pos","indexOf","splice","monkeys","items","i","length","content","item","isElem","eachAttr","attr","prefix","local","push","forEach","name","removeAttr"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/svgo/plugins/removeUnusedNS.js"],"sourcesContent":["'use strict';\n\nexports.type = 'full';\n\nexports.active = true;\n\nexports.description = 'removes unused namespaces declaration';\n\n/**\n * Remove unused namespaces declaration.\n *\n * @param {Object} item current iteration item\n * @return {Boolean} if false, item will be filtered out\n *\n * @author Kir Belevich\n */\nexports.fn = function(data) {\n\n    var svgElem,\n        xmlnsCollection = [];\n\n    /**\n     * Remove namespace from collection.\n     *\n     * @param {String} ns namescape name\n     */\n    function removeNSfromCollection(ns) {\n\n        var pos = xmlnsCollection.indexOf(ns);\n\n        // if found - remove ns from the namespaces collection\n        if (pos > -1) {\n            xmlnsCollection.splice(pos, 1);\n        }\n\n    }\n\n    /**\n     * Bananas!\n     *\n     * @param {Array} items input items\n     *\n     * @return {Array} output items\n     */\n    function monkeys(items) {\n\n        var i = 0,\n            length = items.content.length;\n\n        while(i < length) {\n\n            var item = items.content[i];\n\n            if (item.isElem('svg')) {\n\n                item.eachAttr(function(attr) {\n                    // collect namespaces\n                    if (attr.prefix === 'xmlns' && attr.local) {\n                        xmlnsCollection.push(attr.local);\n                    }\n                });\n\n                // if svg element has ns-attr\n                if (xmlnsCollection.length) {\n                    // save svg element\n                    svgElem = item;\n                }\n\n            }\n\n            if (xmlnsCollection.length) {\n\n                // check item for the ns-attrs\n                if (item.prefix) {\n                    removeNSfromCollection(item.prefix);\n                }\n\n                // check each attr for the ns-attrs\n                item.eachAttr(function(attr) {\n                    removeNSfromCollection(attr.prefix);\n                });\n\n            }\n\n            // if nothing is found - go deeper\n            if (xmlnsCollection.length && item.content) {\n                monkeys(item);\n            }\n\n            i++;\n\n        }\n\n        return items;\n\n    }\n\n    data = monkeys(data);\n\n    // remove svg element ns-attributes if they are not used even once\n    if (xmlnsCollection.length) {\n        xmlnsCollection.forEach(function(name) {\n            svgElem.removeAttr('xmlns:' + name);\n        });\n    }\n\n    return data;\n\n};\n"],"mappings":"AAAA;;AAEAA,OAAO,CAACC,IAAR,GAAe,MAAf;AAEAD,OAAO,CAACE,MAAR,GAAiB,IAAjB;AAEAF,OAAO,CAACG,WAAR,GAAsB,uCAAtB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAH,OAAO,CAACI,EAAR,GAAa,UAASC,IAAT,EAAe;EAExB,IAAIC,OAAJ;EAAA,IACIC,eAAe,GAAG,EADtB;EAGA;AACJ;AACA;AACA;AACA;;EACI,SAASC,sBAAT,CAAgCC,EAAhC,EAAoC;IAEhC,IAAIC,GAAG,GAAGH,eAAe,CAACI,OAAhB,CAAwBF,EAAxB,CAAV,CAFgC,CAIhC;;IACA,IAAIC,GAAG,GAAG,CAAC,CAAX,EAAc;MACVH,eAAe,CAACK,MAAhB,CAAuBF,GAAvB,EAA4B,CAA5B;IACH;EAEJ;EAED;AACJ;AACA;AACA;AACA;AACA;AACA;;;EACI,SAASG,OAAT,CAAiBC,KAAjB,EAAwB;IAEpB,IAAIC,CAAC,GAAG,CAAR;IAAA,IACIC,MAAM,GAAGF,KAAK,CAACG,OAAN,CAAcD,MAD3B;;IAGA,OAAMD,CAAC,GAAGC,MAAV,EAAkB;MAEd,IAAIE,IAAI,GAAGJ,KAAK,CAACG,OAAN,CAAcF,CAAd,CAAX;;MAEA,IAAIG,IAAI,CAACC,MAAL,CAAY,KAAZ,CAAJ,EAAwB;QAEpBD,IAAI,CAACE,QAAL,CAAc,UAASC,IAAT,EAAe;UACzB;UACA,IAAIA,IAAI,CAACC,MAAL,KAAgB,OAAhB,IAA2BD,IAAI,CAACE,KAApC,EAA2C;YACvChB,eAAe,CAACiB,IAAhB,CAAqBH,IAAI,CAACE,KAA1B;UACH;QACJ,CALD,EAFoB,CASpB;;QACA,IAAIhB,eAAe,CAACS,MAApB,EAA4B;UACxB;UACAV,OAAO,GAAGY,IAAV;QACH;MAEJ;;MAED,IAAIX,eAAe,CAACS,MAApB,EAA4B;QAExB;QACA,IAAIE,IAAI,CAACI,MAAT,EAAiB;UACbd,sBAAsB,CAACU,IAAI,CAACI,MAAN,CAAtB;QACH,CALuB,CAOxB;;;QACAJ,IAAI,CAACE,QAAL,CAAc,UAASC,IAAT,EAAe;UACzBb,sBAAsB,CAACa,IAAI,CAACC,MAAN,CAAtB;QACH,CAFD;MAIH,CAjCa,CAmCd;;;MACA,IAAIf,eAAe,CAACS,MAAhB,IAA0BE,IAAI,CAACD,OAAnC,EAA4C;QACxCJ,OAAO,CAACK,IAAD,CAAP;MACH;;MAEDH,CAAC;IAEJ;;IAED,OAAOD,KAAP;EAEH;;EAEDT,IAAI,GAAGQ,OAAO,CAACR,IAAD,CAAd,CAjFwB,CAmFxB;;EACA,IAAIE,eAAe,CAACS,MAApB,EAA4B;IACxBT,eAAe,CAACkB,OAAhB,CAAwB,UAASC,IAAT,EAAe;MACnCpB,OAAO,CAACqB,UAAR,CAAmB,WAAWD,IAA9B;IACH,CAFD;EAGH;;EAED,OAAOrB,IAAP;AAEH,CA5FD"},"metadata":{},"sourceType":"script"}