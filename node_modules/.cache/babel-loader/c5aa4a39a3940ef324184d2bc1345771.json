{"ast":null,"code":"// @remove-file-on-eject\n\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict'; // Makes the script crash on unhandled rejections instead of silently\n// ignoring them. In the future, promise rejections that are not handled will\n// terminate the Node.js process with a non-zero exit code.\n\nprocess.on('unhandledRejection', err => {\n  throw err;\n});\n\nconst fs = require('fs-extra');\n\nconst path = require('path');\n\nconst prompts = require('prompts');\n\nconst execSync = require('child_process').execSync;\n\nconst chalk = require('react-dev-utils/chalk');\n\nconst paths = require('../config/paths');\n\nconst createJestConfig = require('./utils/createJestConfig');\n\nconst spawnSync = require('react-dev-utils/crossSpawn').sync;\n\nconst os = require('os');\n\nconst green = chalk.green;\nconst cyan = chalk.cyan;\n\nfunction getGitStatus() {\n  try {\n    let stdout = execSync(`git status --porcelain`, {\n      stdio: ['pipe', 'pipe', 'ignore']\n    }).toString();\n    return stdout.trim();\n  } catch (e) {\n    return '';\n  }\n}\n\nfunction tryGitAdd(appPath) {\n  try {\n    spawnSync('git', ['add', path.join(appPath, 'config'), path.join(appPath, 'scripts')], {\n      stdio: 'inherit'\n    });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nconsole.log(chalk.cyan.bold('NOTE: Create React App 2+ supports TypeScript, Sass, CSS Modules and more without ejecting: ' + 'https://reactjs.org/blog/2018/10/01/create-react-app-v2.html'));\nconsole.log();\nprompts({\n  type: 'confirm',\n  name: 'shouldEject',\n  message: 'Are you sure you want to eject? This action is permanent.',\n  initial: false\n}).then(answer => {\n  if (!answer.shouldEject) {\n    console.log(cyan('Close one! Eject aborted.'));\n    return;\n  }\n\n  const gitStatus = getGitStatus();\n\n  if (gitStatus) {\n    console.error(chalk.red('This git repository has untracked files or uncommitted changes:') + '\\n\\n' + gitStatus.split('\\n').map(line => line.match(/ .*/g)[0].trim()).join('\\n') + '\\n\\n' + chalk.red('Remove untracked files, stash or commit any changes, and try again.'));\n    process.exit(1);\n  }\n\n  console.log('Ejecting...');\n  const ownPath = paths.ownPath;\n  const appPath = paths.appPath;\n\n  function verifyAbsent(file) {\n    if (fs.existsSync(path.join(appPath, file))) {\n      console.error(`\\`${file}\\` already exists in your app folder. We cannot ` + 'continue as you would lose all the changes in that file or directory. ' + 'Please move or delete it (maybe make a copy for backup) and run this ' + 'command again.');\n      process.exit(1);\n    }\n  }\n\n  const folders = ['config', 'config/jest', 'scripts', 'config/webpack/persistentCache']; // Make shallow array of files paths\n\n  const files = folders.reduce((files, folder) => {\n    return files.concat(fs.readdirSync(path.join(ownPath, folder)) // set full path\n    .map(file => path.join(ownPath, folder, file)) // omit dirs from file list\n    .filter(file => fs.lstatSync(file).isFile()));\n  }, []); // Ensure that the app folder is clean and we won't override any files\n\n  folders.forEach(verifyAbsent);\n  files.forEach(verifyAbsent); // Prepare Jest config early in case it throws\n\n  const jestConfig = createJestConfig(filePath => path.posix.join('<rootDir>', filePath), null, true);\n  console.log();\n  console.log(cyan(`Copying files into ${appPath}`));\n  folders.forEach(folder => {\n    fs.mkdirSync(path.join(appPath, folder), {\n      recursive: true\n    });\n  });\n  files.forEach(file => {\n    let content = fs.readFileSync(file, 'utf8'); // Skip flagged files\n\n    if (content.match(/\\/\\/ @remove-file-on-eject/)) {\n      return;\n    }\n\n    content = content // Remove dead code from .js files on eject\n    .replace(/\\/\\/ @remove-on-eject-begin([\\s\\S]*?)\\/\\/ @remove-on-eject-end/gm, '') // Remove dead code from .applescript files on eject\n    .replace(/-- @remove-on-eject-begin([\\s\\S]*?)-- @remove-on-eject-end/gm, '').trim() + '\\n';\n    console.log(`  Adding ${cyan(file.replace(ownPath, ''))} to the project`);\n    fs.writeFileSync(file.replace(ownPath, appPath), content);\n  });\n  console.log();\n\n  const ownPackage = require(path.join(ownPath, 'package.json'));\n\n  const appPackage = require(path.join(appPath, 'package.json'));\n\n  console.log(cyan('Updating the dependencies'));\n  const ownPackageName = ownPackage.name;\n\n  if (appPackage.devDependencies) {\n    // We used to put react-scripts in devDependencies\n    if (appPackage.devDependencies[ownPackageName]) {\n      console.log(`  Removing ${cyan(ownPackageName)} from devDependencies`);\n      delete appPackage.devDependencies[ownPackageName];\n    }\n  }\n\n  appPackage.dependencies = appPackage.dependencies || {};\n\n  if (appPackage.dependencies[ownPackageName]) {\n    console.log(`  Removing ${cyan(ownPackageName)} from dependencies`);\n    delete appPackage.dependencies[ownPackageName];\n  }\n\n  Object.keys(ownPackage.dependencies).forEach(key => {\n    // For some reason optionalDependencies end up in dependencies after install\n    if (ownPackage.optionalDependencies && ownPackage.optionalDependencies[key]) {\n      return;\n    }\n\n    console.log(`  Adding ${cyan(key)} to dependencies`);\n    appPackage.dependencies[key] = ownPackage.dependencies[key];\n  }); // Sort the deps\n\n  const unsortedDependencies = appPackage.dependencies;\n  appPackage.dependencies = {};\n  Object.keys(unsortedDependencies).sort().forEach(key => {\n    appPackage.dependencies[key] = unsortedDependencies[key];\n  });\n  console.log();\n  console.log(cyan('Updating the scripts'));\n  delete appPackage.scripts['eject'];\n  Object.keys(appPackage.scripts).forEach(key => {\n    Object.keys(ownPackage.bin).forEach(binKey => {\n      const regex = new RegExp(binKey + ' (\\\\w+)', 'g');\n\n      if (!regex.test(appPackage.scripts[key])) {\n        return;\n      }\n\n      appPackage.scripts[key] = appPackage.scripts[key].replace(regex, 'node scripts/$1.js');\n      console.log(`  Replacing ${cyan(`\"${binKey} ${key}\"`)} with ${cyan(`\"node scripts/${key}.js\"`)}`);\n    });\n  });\n  console.log();\n  console.log(cyan('Configuring package.json')); // Add Jest config\n\n  console.log(`  Adding ${cyan('Jest')} configuration`);\n  appPackage.jest = jestConfig; // Add Babel config\n\n  console.log(`  Adding ${cyan('Babel')} preset`);\n  appPackage.babel = {\n    presets: ['react-app']\n  }; // Add ESlint config\n\n  if (!appPackage.eslintConfig) {\n    console.log(`  Adding ${cyan('ESLint')} configuration`);\n    appPackage.eslintConfig = {\n      extends: 'react-app'\n    };\n  }\n\n  fs.writeFileSync(path.join(appPath, 'package.json'), JSON.stringify(appPackage, null, 2) + os.EOL);\n  console.log();\n\n  if (fs.existsSync(paths.appTypeDeclarations)) {\n    try {\n      // Read app declarations file\n      let content = fs.readFileSync(paths.appTypeDeclarations, 'utf8');\n      const ownContent = fs.readFileSync(paths.ownTypeDeclarations, 'utf8').trim() + os.EOL; // Remove react-scripts reference since they're getting a copy of the types in their project\n\n      content = content // Remove react-scripts types\n      .replace(/^\\s*\\/\\/\\/\\s*<reference\\s+types.+?\"react-scripts\".*\\/>.*(?:\\n|$)/gm, '').trim() + os.EOL;\n      fs.writeFileSync(paths.appTypeDeclarations, (ownContent + os.EOL + content).trim() + os.EOL);\n    } catch (e) {// It's not essential that this succeeds, the TypeScript user should\n      // be able to re-create these types with ease.\n    }\n  } // \"Don't destroy what isn't ours\"\n\n\n  if (ownPath.indexOf(appPath) === 0) {\n    try {\n      // remove react-scripts and react-scripts binaries from app node_modules\n      Object.keys(ownPackage.bin).forEach(binKey => {\n        fs.removeSync(path.join(appPath, 'node_modules', '.bin', binKey));\n      });\n      fs.removeSync(ownPath);\n    } catch (e) {// It's not essential that this succeeds\n    }\n  }\n\n  if (fs.existsSync(paths.yarnLockFile)) {\n    const windowsCmdFilePath = path.join(appPath, 'node_modules', '.bin', 'react-scripts.cmd');\n    let windowsCmdFileContent;\n\n    if (process.platform === 'win32') {\n      // https://github.com/facebook/create-react-app/pull/3806#issuecomment-357781035\n      // Yarn is diligent about cleaning up after itself, but this causes the react-scripts.cmd file\n      // to be deleted while it is running. This trips Windows up after the eject completes.\n      // We'll read the batch file and later \"write it back\" to match npm behavior.\n      try {\n        windowsCmdFileContent = fs.readFileSync(windowsCmdFilePath);\n      } catch (err) {// If this fails we're not worse off than if we didn't try to fix it.\n      }\n    }\n\n    console.log(cyan('Running yarn...'));\n    spawnSync('yarnpkg', ['--cwd', process.cwd()], {\n      stdio: 'inherit'\n    });\n\n    if (windowsCmdFileContent && !fs.existsSync(windowsCmdFilePath)) {\n      try {\n        fs.writeFileSync(windowsCmdFilePath, windowsCmdFileContent);\n      } catch (err) {// If this fails we're not worse off than if we didn't try to fix it.\n      }\n    }\n  } else {\n    console.log(cyan('Running npm install...'));\n    spawnSync('npm', ['install', '--loglevel', 'error'], {\n      stdio: 'inherit'\n    });\n  }\n\n  console.log(green('Ejected successfully!'));\n  console.log();\n\n  if (tryGitAdd(appPath)) {\n    console.log(cyan('Staged ejected files for commit.'));\n    console.log();\n  }\n\n  console.log(green('Please consider sharing why you ejected in this survey:'));\n  console.log(green('  http://goo.gl/forms/Bi6CZjk1EqsdelXk1'));\n  console.log();\n});","map":{"version":3,"names":["process","on","err","fs","require","path","prompts","execSync","chalk","paths","createJestConfig","spawnSync","sync","os","green","cyan","getGitStatus","stdout","stdio","toString","trim","e","tryGitAdd","appPath","join","console","log","bold","type","name","message","initial","then","answer","shouldEject","gitStatus","error","red","split","map","line","match","exit","ownPath","verifyAbsent","file","existsSync","folders","files","reduce","folder","concat","readdirSync","filter","lstatSync","isFile","forEach","jestConfig","filePath","posix","mkdirSync","recursive","content","readFileSync","replace","writeFileSync","ownPackage","appPackage","ownPackageName","devDependencies","dependencies","Object","keys","key","optionalDependencies","unsortedDependencies","sort","scripts","bin","binKey","regex","RegExp","test","jest","babel","presets","eslintConfig","extends","JSON","stringify","EOL","appTypeDeclarations","ownContent","ownTypeDeclarations","indexOf","removeSync","yarnLockFile","windowsCmdFilePath","windowsCmdFileContent","platform","cwd"],"sources":["C:/Users/Rohith/mern/frontend/node_modules/react-scripts/scripts/eject.js"],"sourcesContent":["// @remove-file-on-eject\n/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\n// Makes the script crash on unhandled rejections instead of silently\n// ignoring them. In the future, promise rejections that are not handled will\n// terminate the Node.js process with a non-zero exit code.\nprocess.on('unhandledRejection', err => {\n  throw err;\n});\n\nconst fs = require('fs-extra');\nconst path = require('path');\nconst prompts = require('prompts');\nconst execSync = require('child_process').execSync;\nconst chalk = require('react-dev-utils/chalk');\nconst paths = require('../config/paths');\nconst createJestConfig = require('./utils/createJestConfig');\nconst spawnSync = require('react-dev-utils/crossSpawn').sync;\nconst os = require('os');\n\nconst green = chalk.green;\nconst cyan = chalk.cyan;\n\nfunction getGitStatus() {\n  try {\n    let stdout = execSync(`git status --porcelain`, {\n      stdio: ['pipe', 'pipe', 'ignore'],\n    }).toString();\n    return stdout.trim();\n  } catch (e) {\n    return '';\n  }\n}\n\nfunction tryGitAdd(appPath) {\n  try {\n    spawnSync(\n      'git',\n      ['add', path.join(appPath, 'config'), path.join(appPath, 'scripts')],\n      {\n        stdio: 'inherit',\n      }\n    );\n\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nconsole.log(\n  chalk.cyan.bold(\n    'NOTE: Create React App 2+ supports TypeScript, Sass, CSS Modules and more without ejecting: ' +\n      'https://reactjs.org/blog/2018/10/01/create-react-app-v2.html'\n  )\n);\nconsole.log();\n\nprompts({\n  type: 'confirm',\n  name: 'shouldEject',\n  message: 'Are you sure you want to eject? This action is permanent.',\n  initial: false,\n}).then(answer => {\n  if (!answer.shouldEject) {\n    console.log(cyan('Close one! Eject aborted.'));\n    return;\n  }\n\n  const gitStatus = getGitStatus();\n  if (gitStatus) {\n    console.error(\n      chalk.red(\n        'This git repository has untracked files or uncommitted changes:'\n      ) +\n        '\\n\\n' +\n        gitStatus\n          .split('\\n')\n          .map(line => line.match(/ .*/g)[0].trim())\n          .join('\\n') +\n        '\\n\\n' +\n        chalk.red(\n          'Remove untracked files, stash or commit any changes, and try again.'\n        )\n    );\n    process.exit(1);\n  }\n\n  console.log('Ejecting...');\n\n  const ownPath = paths.ownPath;\n  const appPath = paths.appPath;\n\n  function verifyAbsent(file) {\n    if (fs.existsSync(path.join(appPath, file))) {\n      console.error(\n        `\\`${file}\\` already exists in your app folder. We cannot ` +\n          'continue as you would lose all the changes in that file or directory. ' +\n          'Please move or delete it (maybe make a copy for backup) and run this ' +\n          'command again.'\n      );\n      process.exit(1);\n    }\n  }\n\n  const folders = ['config', 'config/jest', 'scripts', 'config/webpack/persistentCache'];\n\n  // Make shallow array of files paths\n  const files = folders.reduce((files, folder) => {\n    return files.concat(\n      fs\n        .readdirSync(path.join(ownPath, folder))\n        // set full path\n        .map(file => path.join(ownPath, folder, file))\n        // omit dirs from file list\n        .filter(file => fs.lstatSync(file).isFile())\n    );\n  }, []);\n\n  // Ensure that the app folder is clean and we won't override any files\n  folders.forEach(verifyAbsent);\n  files.forEach(verifyAbsent);\n\n  // Prepare Jest config early in case it throws\n  const jestConfig = createJestConfig(\n    filePath => path.posix.join('<rootDir>', filePath),\n    null,\n    true\n  );\n\n  console.log();\n  console.log(cyan(`Copying files into ${appPath}`));\n\n  folders.forEach(folder => {\n    fs.mkdirSync(path.join(appPath, folder), {recursive: true});\n  });\n\n  files.forEach(file => {\n    let content = fs.readFileSync(file, 'utf8');\n\n    // Skip flagged files\n    if (content.match(/\\/\\/ @remove-file-on-eject/)) {\n      return;\n    }\n    content =\n      content\n        // Remove dead code from .js files on eject\n        .replace(\n          /\\/\\/ @remove-on-eject-begin([\\s\\S]*?)\\/\\/ @remove-on-eject-end/gm,\n          ''\n        )\n        // Remove dead code from .applescript files on eject\n        .replace(\n          /-- @remove-on-eject-begin([\\s\\S]*?)-- @remove-on-eject-end/gm,\n          ''\n        )\n        .trim() + '\\n';\n    console.log(`  Adding ${cyan(file.replace(ownPath, ''))} to the project`);\n    fs.writeFileSync(file.replace(ownPath, appPath), content);\n  });\n  console.log();\n\n  const ownPackage = require(path.join(ownPath, 'package.json'));\n  const appPackage = require(path.join(appPath, 'package.json'));\n\n  console.log(cyan('Updating the dependencies'));\n  const ownPackageName = ownPackage.name;\n  if (appPackage.devDependencies) {\n    // We used to put react-scripts in devDependencies\n    if (appPackage.devDependencies[ownPackageName]) {\n      console.log(`  Removing ${cyan(ownPackageName)} from devDependencies`);\n      delete appPackage.devDependencies[ownPackageName];\n    }\n  }\n  appPackage.dependencies = appPackage.dependencies || {};\n  if (appPackage.dependencies[ownPackageName]) {\n    console.log(`  Removing ${cyan(ownPackageName)} from dependencies`);\n    delete appPackage.dependencies[ownPackageName];\n  }\n  Object.keys(ownPackage.dependencies).forEach(key => {\n    // For some reason optionalDependencies end up in dependencies after install\n    if (\n      ownPackage.optionalDependencies &&\n      ownPackage.optionalDependencies[key]\n    ) {\n      return;\n    }\n    console.log(`  Adding ${cyan(key)} to dependencies`);\n    appPackage.dependencies[key] = ownPackage.dependencies[key];\n  });\n  // Sort the deps\n  const unsortedDependencies = appPackage.dependencies;\n  appPackage.dependencies = {};\n  Object.keys(unsortedDependencies)\n    .sort()\n    .forEach(key => {\n      appPackage.dependencies[key] = unsortedDependencies[key];\n    });\n  console.log();\n\n  console.log(cyan('Updating the scripts'));\n  delete appPackage.scripts['eject'];\n  Object.keys(appPackage.scripts).forEach(key => {\n    Object.keys(ownPackage.bin).forEach(binKey => {\n      const regex = new RegExp(binKey + ' (\\\\w+)', 'g');\n      if (!regex.test(appPackage.scripts[key])) {\n        return;\n      }\n      appPackage.scripts[key] = appPackage.scripts[key].replace(\n        regex,\n        'node scripts/$1.js'\n      );\n      console.log(\n        `  Replacing ${cyan(`\"${binKey} ${key}\"`)} with ${cyan(\n          `\"node scripts/${key}.js\"`\n        )}`\n      );\n    });\n  });\n\n  console.log();\n  console.log(cyan('Configuring package.json'));\n  // Add Jest config\n  console.log(`  Adding ${cyan('Jest')} configuration`);\n  appPackage.jest = jestConfig;\n\n  // Add Babel config\n  console.log(`  Adding ${cyan('Babel')} preset`);\n  appPackage.babel = {\n    presets: ['react-app'],\n  };\n\n  // Add ESlint config\n  if (!appPackage.eslintConfig) {\n    console.log(`  Adding ${cyan('ESLint')} configuration`);\n    appPackage.eslintConfig = {\n      extends: 'react-app',\n    };\n  }\n\n  fs.writeFileSync(\n    path.join(appPath, 'package.json'),\n    JSON.stringify(appPackage, null, 2) + os.EOL\n  );\n  console.log();\n\n  if (fs.existsSync(paths.appTypeDeclarations)) {\n    try {\n      // Read app declarations file\n      let content = fs.readFileSync(paths.appTypeDeclarations, 'utf8');\n      const ownContent =\n        fs.readFileSync(paths.ownTypeDeclarations, 'utf8').trim() + os.EOL;\n\n      // Remove react-scripts reference since they're getting a copy of the types in their project\n      content =\n        content\n          // Remove react-scripts types\n          .replace(\n            /^\\s*\\/\\/\\/\\s*<reference\\s+types.+?\"react-scripts\".*\\/>.*(?:\\n|$)/gm,\n            ''\n          )\n          .trim() + os.EOL;\n\n      fs.writeFileSync(\n        paths.appTypeDeclarations,\n        (ownContent + os.EOL + content).trim() + os.EOL\n      );\n    } catch (e) {\n      // It's not essential that this succeeds, the TypeScript user should\n      // be able to re-create these types with ease.\n    }\n  }\n\n  // \"Don't destroy what isn't ours\"\n  if (ownPath.indexOf(appPath) === 0) {\n    try {\n      // remove react-scripts and react-scripts binaries from app node_modules\n      Object.keys(ownPackage.bin).forEach(binKey => {\n        fs.removeSync(path.join(appPath, 'node_modules', '.bin', binKey));\n      });\n      fs.removeSync(ownPath);\n    } catch (e) {\n      // It's not essential that this succeeds\n    }\n  }\n\n  if (fs.existsSync(paths.yarnLockFile)) {\n    const windowsCmdFilePath = path.join(\n      appPath,\n      'node_modules',\n      '.bin',\n      'react-scripts.cmd'\n    );\n    let windowsCmdFileContent;\n    if (process.platform === 'win32') {\n      // https://github.com/facebook/create-react-app/pull/3806#issuecomment-357781035\n      // Yarn is diligent about cleaning up after itself, but this causes the react-scripts.cmd file\n      // to be deleted while it is running. This trips Windows up after the eject completes.\n      // We'll read the batch file and later \"write it back\" to match npm behavior.\n      try {\n        windowsCmdFileContent = fs.readFileSync(windowsCmdFilePath);\n      } catch (err) {\n        // If this fails we're not worse off than if we didn't try to fix it.\n      }\n    }\n\n    console.log(cyan('Running yarn...'));\n    spawnSync('yarnpkg', ['--cwd', process.cwd()], { stdio: 'inherit' });\n\n    if (windowsCmdFileContent && !fs.existsSync(windowsCmdFilePath)) {\n      try {\n        fs.writeFileSync(windowsCmdFilePath, windowsCmdFileContent);\n      } catch (err) {\n        // If this fails we're not worse off than if we didn't try to fix it.\n      }\n    }\n  } else {\n    console.log(cyan('Running npm install...'));\n    spawnSync('npm', ['install', '--loglevel', 'error'], {\n      stdio: 'inherit',\n    });\n  }\n  console.log(green('Ejected successfully!'));\n  console.log();\n\n  if (tryGitAdd(appPath)) {\n    console.log(cyan('Staged ejected files for commit.'));\n    console.log();\n  }\n\n  console.log(green('Please consider sharing why you ejected in this survey:'));\n  console.log(green('  http://goo.gl/forms/Bi6CZjk1EqsdelXk1'));\n  console.log();\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}