{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Rohith/mern/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Rohith/mern/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Rohith/mern/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{Button,Col,Form,FormControl,Row}from'react-bootstrap';import{Link}from'react-router-dom';import ErrorMessage from'../../components/ErrorMessage';import MainScreen from'../../components/MainScreen';import Loading from'../../components/Loading';import{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Edit=function Edit(){var nav=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),roll=_useState6[0],setRoll=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),branch=_useState8[0],setBranch=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),homepage=_useState10[0],setHome=_useState10[1];var _useState11=useState(\"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg\"),_useState12=_slicedToArray(_useState11,2),pic=_useState12[0],setPic=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),password=_useState14[0],setPassword=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),confirmpassword=_useState16[0],setConfirmPassword=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),message=_useState18[0],setMessage=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),loading=_useState20[0],setLoading=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),error=_useState22[0],setError=_useState22[1];var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var config,_yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(password!==confirmpassword)){_context.next=5;break;}setMessage(\"Passwords do not match\");_context.next=21;break;case 5:setMessage(null);_context.prev=6;config={baseURL:\"//localhost:5000\",origin:true,withCredentials:true,headers:{\"Content-type\":\"application/json\"}};setLoading(true);_context.next=11;return axios.post(\"//localhost:5000/api/users\",{name:name,email:email,password:password,pic:pic,roll:roll,branch:branch},config);case 11:_yield$axios$post=_context.sent;data=_yield$axios$post.data;setLoading(false);localStorage.setItem('UserInfo',JSON.stringify(data));setHome(true);_context.next=21;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](6);setError(_context.t0.message);case 21:console.log(roll);case 22:case\"end\":return _context.stop();}}},_callee,null,[[6,18]]);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(MainScreen,{title:\"Edit Info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loginContainer\",children:[error&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:error}),loading&&/*#__PURE__*/_jsx(Loading,{}),homepage&&nav(\"/home\"),message&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:message}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"name\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(FormControl,{type:\"name\",value:name,placeholder:\"Enter NAME\",onChange:function onChange(e){return setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",value:email,placeholder:\"Enter email\",onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:password,placeholder:\"Password\",onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"confirmPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:confirmpassword,placeholder:\"Confirm Password\",onChange:function onChange(e){return setConfirmPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"Roll\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Roll NO\"}),/*#__PURE__*/_jsx(FormControl,{type:\"roll\",value:roll,placeholder:\"Enter Roll NO\",onChange:function onChange(e){return setRoll(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"branch\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Branch\"}),/*#__PURE__*/_jsx(FormControl,{type:\"name\",value:branch,placeholder:\"Enter Branch\",onChange:function onChange(e){return setBranch(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Register\"})]}),/*#__PURE__*/_jsx(Row,{className:\"py-3\",children:/*#__PURE__*/_jsxs(Col,{children:[\"Have an Account ? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})})]})});};export default Edit;","map":{"version":3,"names":["React","Button","Col","Form","FormControl","Row","Link","ErrorMessage","MainScreen","Loading","useState","axios","useNavigate","Edit","nav","email","setEmail","name","setName","roll","setRoll","branch","setBranch","homepage","setHome","pic","setPic","password","setPassword","confirmpassword","setConfirmPassword","message","setMessage","loading","setLoading","error","setError","submitHandler","e","preventDefault","config","baseURL","origin","withCredentials","headers","post","data","localStorage","setItem","JSON","stringify","console","log","target","value"],"sources":["C:/Users/Rohith/mern/frontend/src/screens/edit/Edit.js"],"sourcesContent":["import React from 'react'\r\nimport {Button,Col,Form,FormControl,Row} from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport ErrorMessage from '../../components/ErrorMessage'\r\nimport MainScreen from '../../components/MainScreen'\r\nimport Loading from '../../components/Loading'\r\nimport { useState } from 'react'\r\nimport axios from 'axios'\r\nimport { useNavigate } from 'react-router-dom'\r\nconst Edit = () => {\r\n  const nav=useNavigate();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [roll, setRoll] = useState(\"\");\r\n  const [branch, setBranch] = useState(\"\");\r\n  const[homepage,setHome]=useState(false);\r\n  const [pic, setPic] = useState(\r\n    \"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg\"\r\n  );\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmpassword, setConfirmPassword] = useState(\"\");\r\n  const [message, setMessage] = useState(null);\r\n  const [loading, setLoading]=useState(false);\r\n  const [error, setError]=useState(false);\r\n  const submitHandler= async(e)=>{\r\n    e.preventDefault();\r\n    if(password!==confirmpassword){\r\n      setMessage(\"Passwords do not match\");\r\n    }\r\n    else{\r\n      setMessage(null);\r\n      try{\r\n        const config={\r\n          baseURL: \"//localhost:5000\",\r\n          origin: true,\r\n          withCredentials: true,\r\n          headers:{\r\n            \"Content-type\":\"application/json\"\r\n          }\r\n        };\r\n        setLoading(true);\r\n        const {data}= await axios.post(\r\n          \"//localhost:5000/api/users\",\r\n          {name,email,password,pic,roll,branch},\r\n          config\r\n        );\r\n        setLoading(false);\r\n        localStorage.setItem('UserInfo',JSON.stringify(data));\r\n        setHome(true);\r\n      }\r\n      catch(error){\r\n          setError(error.message);\r\n      }\r\n    }\r\n    console.log(roll);\r\n  }\r\n  return (\r\n    <MainScreen title=\"Edit Info\">\r\n      <div className='loginContainer'>\r\n        {error && <ErrorMessage variant='danger'>{error}</ErrorMessage>}\r\n        {loading && <Loading/>}\r\n        {homepage&&nav(\"/home\")}\r\n        {message && <ErrorMessage variant='danger'>{message}</ErrorMessage>}\r\n        <Form onSubmit={submitHandler}>\r\n          <Form.Group controlId=\"name\">\r\n            <Form.Label>Name</Form.Label>\r\n            <FormControl\r\n              type=\"name\"\r\n              value={name}\r\n              placeholder='Enter NAME'\r\n              onChange={(e)=>setName(e.target.value)}\r\n              />\r\n          </Form.Group> \r\n\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label>Email address</Form.Label>\r\n            <Form.Control\r\n              type=\"email\"\r\n              value={email}\r\n              placeholder=\"Enter email\"\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              value={password}\r\n              placeholder=\"Password\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"confirmPassword\">\r\n            <Form.Label>Confirm Password</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              value={confirmpassword}\r\n              placeholder=\"Confirm Password\"\r\n              onChange={(e) => setConfirmPassword(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n\r\n          {/* <Form.Group controlId=\"pic\">\r\n            <Form.Label>Profile Picture</Form.Label>\r\n            <Form.File\r\n              // onChange={(e) => postDetails(e.target.files[0])}   \r\n              id=\"custom-file\"\r\n              type=\"image/png\"\r\n              label=\"Upload Profile Picture\"\r\n              custom\r\n            /> */}\r\n          {/* </Form.Group> */}\r\n          <Form.Group controlId=\"Roll\">\r\n            <Form.Label>Roll NO</Form.Label>\r\n            <FormControl\r\n              type=\"roll\"\r\n              value={roll}\r\n              placeholder='Enter Roll NO'\r\n              onChange={(e)=>setRoll(e.target.value)}\r\n              />\r\n          </Form.Group> \r\n          <Form.Group controlId=\"branch\">\r\n            <Form.Label>Branch</Form.Label>\r\n            <FormControl\r\n              type=\"name\"\r\n              value={branch}\r\n              placeholder='Enter Branch'\r\n              onChange={(e)=>setBranch(e.target.value)}\r\n              />\r\n          </Form.Group> \r\n          <Button variant=\"primary\" type=\"submit\">\r\n            Register\r\n          </Button>\r\n        </Form>\r\n        <Row className=\"py-3\">\r\n          <Col>\r\n            Have an Account ? <Link to=\"/login\">Login</Link>\r\n          </Col>\r\n        </Row>\r\n\r\n      </div>\r\n\r\n    </MainScreen>\r\n  )\r\n}\r\n\r\nexport default Edit"],"mappings":"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"},"metadata":{},"sourceType":"module"}